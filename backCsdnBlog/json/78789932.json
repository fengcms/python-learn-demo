{"data":{"id":"78789932","title":"CentOS 7 \u914d\u7f6e Nginx + php + mysql \u642d\u5efa lnmp \u73af\u5883\u8fc7\u7a0b\u5168\u7eaa\u5f55","articleedittype":1,"description":"CentOS 7 \u914d\u7f6e Nginx + php + mysql \u642d\u5efa lnmp \u73af\u5883\u8fc7\u7a0b\u5168\u7eaa\u5f55\u6628\u5929\u641e\u4e86\u4e00\u4e2a\u7f8e\u56fd\u7684\u4fbf\u5b9c VPS \u7ed9\u670b\u53cb\u642d\u5efa\u4e00\u4e2a\u7b80\u5355\u7684 php+mysql \u7684\u5c0f\u7ad9\u3002\u672c\u6765\u6211\u662f\u51c6\u5907\u7528 lamp \u73af\u5883\u7684\u3002\u53cd\u6b63\u4e5f\u662f\u975e\u5e38\u7b80\u5355\u7684\u4e00\u4ef6\u4e8b\u60c5\u3002\u4f46\u662f\u8003\u8651\u6211\u4e4b\u524d\u6ca1\u6709\u914d\u7f6e\u8fc7 lnmp \u7684\u73af\u5883\uff0c\u6240\u4ee5\u51c6\u5907\u5b9e\u6218\u4e00\u4e0b\u3002CentOS 7 \u670d\u52a1\u5668\u57fa\u672c\u914d\u7f6e\u670d\u52a1\u5668\u521d\u59cb\u5b89\u88c5\u7cfb\u7edf\u4e4b\u540e\uff0c\u6211\u4eec\u5c31\u53ef\u4ee5\u5229\u7528 ssh \u8fde\u63a5\u4e0a\u670d\u52a1\u5668\u7ec8\u7aef\u4e86\u3002\u5982","content":"<h1 id=\"centos-7-\u914d\u7f6e-nginx-php-mysql-\u642d\u5efa-lnmp-\u73af\u5883\u8fc7\u7a0b\u5168\u7eaa\u5f55\">CentOS 7 \u914d\u7f6e Nginx + php + mysql \u642d\u5efa lnmp \u73af\u5883\u8fc7\u7a0b\u5168\u7eaa\u5f55<\/h1>\n\n<p>\u6628\u5929\u641e\u4e86\u4e00\u4e2a\u7f8e\u56fd\u7684\u4fbf\u5b9c <code>VPS<\/code> \u7ed9\u670b\u53cb\u642d\u5efa\u4e00\u4e2a\u7b80\u5355\u7684 <code>php+mysql<\/code> \u7684\u5c0f\u7ad9\u3002\u672c\u6765\u6211\u662f\u51c6\u5907\u7528 <code>lamp<\/code> \u73af\u5883\u7684\u3002\u53cd\u6b63\u4e5f\u662f\u975e\u5e38\u7b80\u5355\u7684\u4e00\u4ef6\u4e8b\u60c5\u3002\u4f46\u662f\u8003\u8651\u6211\u4e4b\u524d\u6ca1\u6709\u914d\u7f6e\u8fc7 <code>lnmp<\/code> \u7684\u73af\u5883\uff0c\u6240\u4ee5\u51c6\u5907\u5b9e\u6218\u4e00\u4e0b\u3002<\/p>\n\n\n\n<h2 id=\"centos-7-\u670d\u52a1\u5668\u57fa\u672c\u914d\u7f6e\">CentOS 7 \u670d\u52a1\u5668\u57fa\u672c\u914d\u7f6e<\/h2>\n\n<p>\u670d\u52a1\u5668\u521d\u59cb\u5b89\u88c5\u7cfb\u7edf\u4e4b\u540e\uff0c\u6211\u4eec\u5c31\u53ef\u4ee5\u5229\u7528 <code>ssh<\/code> \u8fde\u63a5\u4e0a\u670d\u52a1\u5668\u7ec8\u7aef\u4e86\u3002\u5982\u679c\u4f7f\u7528\u7684\u662f <code>windows<\/code> \u7cfb\u7edf\uff0c\u53ef\u4ee5\u4f7f\u7528 <code>putty<\/code> \u4e4b\u7c7b\u7684\u5de5\u5177\u8fdb\u884c\u8fde\u63a5\u3002\u6211\u662f <code>mac<\/code> \u7cfb\u7edf\uff0c\u6240\u4ee5\u4e0d\u9700\u8981\u8fd9\u4e9b\u3002<\/p>\n\n<p>\u4f60\u53ef\u4ee5\u9009\u62e9\u4e00\u76f4\u7528\u5bc6\u7801\u767b\u5f55\uff0c\u4e0d\u8fc7\u6211\u559c\u6b22\u7528 <code>key<\/code> \u767b\u5f55\uff0c\u8fd9\u6837\u53ef\u4ee5\u514d\u5bc6\u7801\u3002<\/p>\n\n<blockquote>\n  <p>\u8fd9\u91cc\uff0c\u6211\u4eec\u90fd\u4f7f\u7528 <code>root<\/code> \u6700\u9ad8\u6743\u9650\u7684\u7528\u6237\u6765\u8fdb\u884c\u7ba1\u7406\u3002\u5982\u679c\u4f60\u4f7f\u7528\u7684\u662f\u666e\u901a\u7528\u6237\uff0c\u5728\u6267\u884c\u5927\u591a\u6570\u547d\u4ee4\u7684\u65f6\u5019\u90fd\u6ca1\u6709\u6743\u9650\uff0c\u9700\u8981\u5728\u524d\u9762\u52a0\u4e0a <code>sudo<\/code>\u3002<\/p>\n<\/blockquote>\n\n\n\n<h3 id=\"\u914d\u7f6e-key-\u79d8\u94a5\u767b\u5f55\u670d\u52a1\u5668-\u53ef\u8df3\u8fc7\">\u914d\u7f6e key \u79d8\u94a5\u767b\u5f55\u670d\u52a1\u5668 \uff08\u53ef\u8df3\u8fc7\uff09<\/h3>\n\n<p>\u8fd9\u4e00\u6b65\u914d\u7f6e\u53ef\u4ee5\u8df3\u8fc7\uff0c\u5e76\u4e14\u53ea\u9002\u5408 <code>mac<\/code> \u6216\u8005 <code>linux<\/code> \u7cfb\u7edf\u3002<code>windows<\/code> \u7cfb\u7edf\u7406\u8bba\u4e0a\u662f\u53ef\u4ee5\u7684\uff0c\u4f46\u662f\u64cd\u4f5c\u6bd4\u8f83\u9ebb\u70e6\uff0c\u5e76\u4e14\u548c\u6211\u4e0b\u9762\u8bf4\u7684\u4e0d\u592a\u4e00\u81f4\u3002<\/p>\n\n<p><strong>\u914d\u7f6e\u670d\u52a1\u5668\u7aef<\/strong> <br>\n\u9996\u5148\u7528\u5bc6\u7801\u767b\u5f55\u670d\u52a1\u5668\u3002<\/p>\n\n\n\n<pre class=\"prettyprint\"><code class=\"language-# hljs vala\"><span class=\"hljs-preprocessor\"># \u5b89\u88c5 vim \u5de5\u5177<\/span>\nyum install vim -y\n<span class=\"hljs-preprocessor\"># \u65b0\u5efa ssh \u914d\u7f6e\u76ee\u5f55<\/span>\nmkdir ~\/.ssh\n<span class=\"hljs-preprocessor\"># \u521b\u5efa\u81ea\u52a8\u79d8\u94a5\u767b\u5f55\u914d\u7f6e\u6587\u4ef6<\/span>\ntouch ~\/.ssh\/authorized_keys\n<span class=\"hljs-preprocessor\"># \u7f16\u8f91\u914d\u7f6e\u6587\u4ef6<\/span>\nvim ~\/.ssh\/authorized_keys<\/code><\/pre>\n\n<p>\u7136\u540e\u628a\u81ea\u5df1\u7684\u79d8\u94a5\u7c98\u8d34\u8fdb\u53bb\u3002<\/p>\n\n<p><strong>\u914d\u7f6e\u5ba2\u6237\u7aef<\/strong><\/p>\n\n<p>\u672c\u5730\u751f\u6210\u81ea\u5df1\u7684\u79d8\u94a5\u7b49\uff0c\u6211\u8fd9\u91cc\u4e0d\u8bf4\u4e86\uff0c\u4e0d\u6e05\u695a\u7684\u53ef\u4ee5\u81ea\u884c\u641c\u7d22\u4e00\u4e0b\u3002<\/p>\n\n\n\n<pre class=\"prettyprint\"><code class=\"language-# hljs ruby\">vim ~<span class=\"hljs-regexp\">\/.ssh\/config<\/span><\/code><\/pre>\n\n<p>\u5728\u91cc\u9762\u6dfb\u52a0\u5982\u4e0b\u5185\u5bb9<\/p>\n\n\n\n<pre class=\"prettyprint\"><code class=\"language-# hljs vala\"><span class=\"hljs-preprocessor\"># \u914d\u7f6e\u670d\u52a1\u5668\u7b80\u5199<\/span>\nHost myserver\n<span class=\"hljs-preprocessor\"># \u914d\u7f6e\u670d\u52a1\u5668IP<\/span>\nHostname <span class=\"hljs-number\">100.100<\/span><span class=\"hljs-number\">.100<\/span><span class=\"hljs-number\">.100<\/span>\n<span class=\"hljs-preprocessor\"># \u914d\u7f6e\u670d\u52a1\u5668ssh\u8fde\u63a5\u7aef\u53e3\uff0c\u9ed8\u8ba4\u662f22\u5219\u4e0d\u7528\u914d\u7f6e\uff0c\u4f46\u5efa\u8bae\u4fee\u6539\u9ed8\u8ba4\u7aef\u53e3\u53f7\uff0c\u907f\u514d\u88ab\u9ed1\u5ba2\u626b\u63cf<\/span>\nPort <span class=\"hljs-number\">22<\/span>\n<span class=\"hljs-preprocessor\"># \u914d\u7f6e\u9ed8\u8ba4\u767b\u5f55\u7528\u6237<\/span>\nUser root<\/code><\/pre>\n\n<p>\u597d\uff0c\u7ecf\u8fc7\u4e0a\u9762\u5ba2\u6237\u7aef\u548c\u670d\u52a1\u7aef\u7684\u914d\u7f6e\u4e4b\u540e\uff0c\u6211\u4eec\u5c31\u53ef\u4ee5\u5728\u672c\u5730\u7528\u975e\u5e38\u7b80\u5355\u7684\u547d\u4ee4\u767b\u5f55\u670d\u52a1\u5668\u4e86\u3002<\/p>\n\n<p>\u767b\u5f55\u670d\u52a1\u5668\u547d\u4ee4\u5982\u4e0b\uff1a<\/p>\n\n\n\n<pre class=\"prettyprint\"><code class=\"language-# hljs \">ssh myserver<\/code><\/pre>\n\n<p>\u9664\u4e86\u767b\u5f55\u670d\u52a1\u5668\u53d8\u5f97\u5f02\u5e38\u7b80\u5355\uff0c\u4e0d\u7528\u5bc6\u7801\u3002\u6211\u4eec\u4f7f\u7528 <code>scp<\/code> \u4f20\u8f93\u6587\u4ef6\u4e5f\u53d8\u5f97\u5f02\u5e38\u7b80\u5355<\/p>\n\n\n\n<pre class=\"prettyprint\"><code class=\"language-# hljs vala\"><span class=\"hljs-preprocessor\"># \u4f20\u8f93\u5355\u4e2a\u6587\u4ef6\u5230\u670d\u52a1\u5668<\/span>\nscp ~\/.vimrc myserver:~\n<span class=\"hljs-preprocessor\"># \u4f20\u8f93\u5355\u4e2a\u6587\u4ef6\u5939\u5230\u670d\u52a1\u5668<\/span>\nscp -r ~\/.vim myserver:~<\/code><\/pre>\n\n<p>\u66f4\u591a <code>scp<\/code> \u547d\u4ee4\u8bf7\u53c2\u8003\u76f8\u5173\u8d44\u6599\uff0c\u8fd9\u91cc\u4e0d\u505a\u8fc7\u591a\u5ef6\u4f38\u3002<\/p>\n\n\n\n<h3 id=\"\u66f4\u65b0\u670d\u52a1\u5668\u7cfb\u7edf\u4ee5\u53ca\u8f6f\u4ef6\u5b89\u88c5\u5e38\u7528\u5de5\u5177\">\u66f4\u65b0\u670d\u52a1\u5668\u7cfb\u7edf\u4ee5\u53ca\u8f6f\u4ef6\uff0c\u5b89\u88c5\u5e38\u7528\u5de5\u5177<\/h3>\n\n<p>\u4e00\u822c\u6765\u8bf4\uff0c\u4e91\u670d\u52a1\u5668\u6216\u8005 <code>vps<\/code> \u5b89\u88c5\u7684\u7cfb\u7edf\u955c\u50cf\u90fd\u4e0d\u662f\u6700\u65b0\u7684\uff0c\u6240\u4ee5\u6211\u4eec\u8fde\u63a5\u4e0a\u670d\u52a1\u5668\u4e4b\u540e\uff0c\u5fc5\u987b\u5c3d\u5feb\u66f4\u65b0\u670d\u52a1\u5668\u7684\u7cfb\u7edf\u4ee5\u53ca\u8f6f\u4ef6\uff0c\u8fd9\u6837\u53ef\u4ee5\u66f4\u597d\u7684\u4fdd\u969c\u6211\u4eec\u7684\u670d\u52a1\u5668\u7cfb\u7edf\u5b89\u5168\u3002<\/p>\n\n<p><strong>\u670d\u52a1\u5668\u7cfb\u7edf\u4ee5\u53ca\u8f6f\u4ef6\u5347\u7ea7\u547d\u4ee4<\/strong><\/p>\n\n\n\n<pre class=\"prettyprint\"><code class=\"language-# hljs sql\">yum -y <span class=\"hljs-operator\"><span class=\"hljs-keyword\">update<\/span><\/span><\/code><\/pre>\n\n<p><code>CentOS<\/code> \u7cfb\u5217\u7684\u670d\u52a1\u5668\u7cfb\u7edf\u6709\u4e00\u4e2a\u6bdb\u75c5\uff0c\u5c31\u662f\u5b98\u65b9\u81ea\u5e26\u7684\u6e90\u7684\u8f6f\u4ef6\u6bd4\u8f83\u53e4\u8001\uff0c\u5e76\u4e14\u5f88\u591a\u7684\u8f6f\u4ef6\u90fd\u6ca1\u6709\u3002\u56e0\u4e3a\u4ed6\u4eec\u7684\u9996\u8981\u4efb\u52a1\u662f\u4fdd\u8bc1\u670d\u52a1\u5668\u7684\u7a33\u5b9a\uff0c\u800c\u4e0d\u662f\u8ffd\u6c42\u6700\u65b0\u3002\u4f46\u662f\u592a\u8fc7\u4e8e\u4fdd\u5b88\u4e86\uff0c\u4e00\u822c\u6765\u8bf4\uff0c\u6211\u4eec\u4f1a\u7ed9\u670d\u52a1\u5668\u6dfb\u52a0\u4e00\u4e2a <code>epel-release<\/code> \u8fd9\u4e2a\u6e90\u3002\u8fd9\u4e2a\u6e90\u91cc\u5305\u542b\u4e86\u4f8b\u5982 <code>nginx<\/code> \u4e4b\u7c7b\u7684\u6211\u4eec\u9700\u8981\u7684\u8f6f\u4ef6\uff0c\u4f7f\u7528\u8d77\u6765\u6bd4\u8f83\u65b9\u4fbf\u3002<\/p>\n\n<p><strong>\u5b89\u88c5 <code>epel-release<\/code> <\/strong><\/p>\n\n\n\n<pre class=\"prettyprint\"><code class=\"language-# hljs lasso\">yum install epel<span class=\"hljs-attribute\">-release<\/span> <span class=\"hljs-attribute\">-y<\/span><\/code><\/pre>\n\n<p>\u901a\u8fc7\u4e0a\u9762\u7684\u547d\u4ee4\u8fdb\u884c\u5b89\u88c5\u3002\u786e\u8ba4\u662f\u5426\u5b89\u88c5\u6210\u529f\uff0c\u53ef\u4ee5\u7528\u4e0b\u9762\u7684\u547d\u4ee4\u68c0\u6d4b\u4e00\u4e0b<\/p>\n\n\n\n<pre class=\"prettyprint\"><code class=\"language-# hljs \">yum search nginx<\/code><\/pre>\n\n<p>\u5982\u679c\u641c\u7d22\u7684\u7ed3\u679c\u5305\u542b\u4e0b\u9762\u7684\u8fd9\u884c\u5185\u5bb9\uff0c\u5c31\u8868\u793a\u5b89\u88c5\u6210\u529f\u4e86\uff0c\u7136\u540e\u6211\u4eec\u5c31\u80fd\u6109\u5feb\u7684\u5b89\u88c5\u6211\u4eec\u9700\u8981\u7684\u8f6f\u4ef6\u4e86\u3002<\/p>\n\n\n\n<pre class=\"prettyprint\"><code class=\"language-# hljs axapta\">nginx.x86_64 : A high performance web <span class=\"hljs-keyword\">server<\/span> and <span class=\"hljs-keyword\">reverse<\/span> proxy <span class=\"hljs-keyword\">server<\/span><\/code><\/pre>\n\n<p>\u6211\u6628\u5929\u5728\u914d\u7f6e\u7684\u65f6\u5019\u53d1\u73b0\u4e0d\u80fd\u641c\u7d22\u51fa\u6765\uff0c\u4f46\u662f\u786e\u5b9e\u662f\u5b89\u88c5\u4e0a\u4e86\u3002\u540e\u6765\u68c0\u67e5\u4e86\u4e00\u4e0b <code>\/etc\/yum.repos.d\/epel.repo<\/code> \u6587\u4ef6\uff0c\u53d1\u73b0\u91cc\u9762\u914d\u7f6e\u4e0d\u5bf9\uff0c\u4fee\u6539\u4e86\u4e00\u4e0b\u5c31\u597d\u3002<\/p>\n\n<p>\u4e3b\u8981\u662f <code>epel<\/code> \u6bb5\u843d\u4e2d\u7684 <code>enabled<\/code> \u503c\u9ed8\u8ba4\u8bbe\u7f6e\u4e3a <code>0<\/code> \u4e86\uff0c\u6211\u4eec\u5c06\u503c\u6539\u6210 <code>1<\/code> \u5c31\u53ef\u4ee5\u4e86\u3002<\/p>\n\n<blockquote>\n  <p>PS\uff1a\u4f60\u5e94\u8be5\u6ca1\u8fd9\u4e2a\u95ee\u9898\u3002\u5982\u679c\u9047\u5230\u4e86\u95ee\u9898\uff0c\u53ef\u4ee5\u770b\u4e0b\u8fd9\u91cc\u3002\u5982\u679c\u662f\u5176\u4ed6\u95ee\u9898\uff0c\u8bf7\u81ea\u884c\u641c\u7d22\u89e3\u51b3\u3002 <\/p>\n<\/blockquote>\n\n<p><strong>\u5b89\u88c5\u670d\u52a1\u5668\u5e38\u7528\u8f6f\u4ef6<\/strong><\/p>\n\n<p>\u524d\u9762\u6211\u4eec\u767b\u5f55\u4e0a\u670d\u52a1\u5668\u4e4b\u540e\uff0c\u7b2c\u4e00\u4ef6\u4e8b\u60c5\u5c31\u662f\u5b89\u88c5\u4e86 <code>vim<\/code> \u7f16\u8f91\u5668\u3002\u4f46\u6211\u4eec\u5728\u5de5\u4f5c\u4e2d\uff0c\u53ef\u80fd\u4f1a\u9700\u8981\u5404\u79cd\u5404\u6837\u7684\u8f6f\u4ef6\uff0c\u4f8b\u5982\u6211\u7ecf\u5e38\u4f7f\u7528\u7684\u5982\u4e0b\uff1a<\/p>\n\n\n\n<pre class=\"prettyprint\"><code class=\"language-# hljs vala\"><span class=\"hljs-preprocessor\"># wget \u4e0b\u8f7d\u5de5\u5177<\/span>\nyum install wget\n<span class=\"hljs-preprocessor\"># \u7edf\u4e00\u5404\u79cd\u683c\u5f0f\u538b\u7f29\u6587\u4ef6\u7684\u5de5\u5177<\/span>\nyum install atool\n<span class=\"hljs-preprocessor\"># tmux \u597d\u7528\u7684\u7ec8\u7aef\u5de5\u5177(\u5982\u4f55\u4f7f\u7528\u8bf7\u81ea\u884c\u641c\u7d22)<\/span>\nyum install tmux\n<span class=\"hljs-preprocessor\"># zsh \u6700\u597d\u7528\u7684\u7ec8\u7aef<\/span>\nyum install zsh\n<span class=\"hljs-preprocessor\"># \u66ff\u4ee3 top \u547d\u4ee4\u7684\u597d\u5de5\u5177<\/span>\nyum install htop\n<span class=\"hljs-preprocessor\"># git \u4ee3\u7801\u7248\u672c\u7ba1\u7406\u5de5\u5177<\/span>\nyum install git<\/code><\/pre>\n\n<p>\u4e0a\u9762\u8fd9\u4e9b\u5e38\u7528\u8f6f\u4ef6\u53ef\u4ee5\u6839\u636e\u4f60\u81ea\u5df1\u7684\u9700\u6c42\u8fdb\u884c\u9009\u62e9\u5b89\u88c5\u3002\u4e0d\u662f\u90fd\u5fc5\u987b\u5b89\u88c5\u7684\u3002<\/p>\n\n<p>\u4ec0\u4e48 <code>zsh<\/code> \u4e4b\u7c7b\u7684\u914d\u7f6e\uff0c\u53ef\u4ee5\u4f7f\u7528 <code>oh-my-zsh<\/code> \u8fd9\u4e2a\u914d\u7f6e\u5de5\u5177\uff0c\u5177\u4f53\u641c\u7d22\u4e00\u4e0b\u3002\u7f51\u4e0a\u6559\u7a0b\u5f88\u591a\u3002\u4e0d\u662f\u5fc5\u987b\u7684\u3002<\/p>\n\n\n\n<h2 id=\"\u914d\u7f6e-lnmp-\u670d\u52a1\u5668\u73af\u5883\">\u914d\u7f6e lnmp \u670d\u52a1\u5668\u73af\u5883<\/h2>\n\n<p>\u597d\uff0c\u51c6\u5907\u5de5\u4f5c\u5dee\u4e0d\u591a\u4e86\uff0c\u4e0b\u9762\u6b63\u5f0f\u5f00\u59cb\u3002<\/p>\n\n\n\n<h3 id=\"\u5b89\u88c5-nginx\">\u5b89\u88c5 nginx<\/h3>\n\n<p>\u5982\u679c\u4f60\u662f\u76f4\u63a5\u8df3\u5230\u8fd9\u6bb5\u770b\u7684\uff0c\u8bf7\u786e\u4fdd\u4f60\u5df2\u7ecf\u8fd0\u884c\u8fc7\u4e0b\u9762\u7684\u547d\u4ee4\u5b89\u88c5\u8fc7 <code>epel-release<\/code> \u3002\u5982\u679c\u4e0d\u662f\uff0c\u8bf7\u8df3\u8fc7\u8fd9\u6761\u547d\u4ee4\u3002<\/p>\n\n\n\n<pre class=\"prettyprint\"><code class=\"language-# hljs lasso\">yum install epel<span class=\"hljs-attribute\">-release<\/span> <span class=\"hljs-attribute\">-y<\/span><\/code><\/pre>\n\n<p>\u5f00\u59cb\u5b89\u88c5\uff1a<\/p>\n\n\n\n<pre class=\"prettyprint\"><code class=\"language-# hljs vala\"><span class=\"hljs-preprocessor\"># \u5b89\u88c5 nginx<\/span>\nyum install nginx -y\n<span class=\"hljs-preprocessor\"># \u542f\u52a8 nginx<\/span>\nsystemctl start nginx\n<span class=\"hljs-preprocessor\"># \u5c06 nginx \u8bbe\u7f6e\u4e3a\u5f00\u673a\u542f\u52a8<\/span>\nsystemctl enable nginx<\/code><\/pre>\n\n<p>\u597d\uff0c\u901a\u8fc7\u4e0a\u9762\u4e09\u6761\u547d\u4ee4\u6267\u884c\u4e4b\u540e\uff0c\u5e94\u8be5\u53ef\u4ee5\u5728\u6d4f\u89c8\u5668\u4e2d\u76f4\u63a5\u7528\u670d\u52a1\u5668IP\u53ef\u4ee5\u8bbf\u95ee\u5230 <code>nginx<\/code> \u9ed8\u8ba4\u7684\u9996\u9875\u4e86\u3002<\/p>\n\n\n\n<h3 id=\"\u5b89\u88c5-php\">\u5b89\u88c5 php<\/h3>\n\n<p><code>nginx<\/code> \u5b89\u88c5\u597d\u4e4b\u540e\uff0c\u6211\u4eec\u5c31\u9700\u8981\u6765\u5b89\u88c5\u6211\u4eec\u7684 <code>php<\/code> \u73af\u5883\u4e86\u3002<\/p>\n\n<p><strong>\u5b89\u88c5 php<\/strong><\/p>\n\n<p>\u6267\u884c\u4e0b\u9762\u7684\u547d\u4ee4\uff0c\u5b89\u88c5 <code>PHP<\/code> \u5df2\u7ecf\u5b83\u7684\u5e38\u7528\u7684\u5e93<\/p>\n\n\n\n<pre class=\"prettyprint\"><code class=\"language-# hljs lasso\">yum install php php<span class=\"hljs-attribute\">-mysql<\/span> php<span class=\"hljs-attribute\">-fpm<\/span> php<span class=\"hljs-attribute\">-gd<\/span> php<span class=\"hljs-attribute\">-imap<\/span> php<span class=\"hljs-attribute\">-ldap<\/span> php<span class=\"hljs-attribute\">-mbstring<\/span> php<span class=\"hljs-attribute\">-odbc<\/span> php<span class=\"hljs-attribute\">-pear<\/span> php<span class=\"hljs-attribute\">-xml<\/span> php<span class=\"hljs-attribute\">-xmlrpc<\/span> <span class=\"hljs-attribute\">-y<\/span><\/code><\/pre>\n\n<p><strong>\u914d\u7f6e php<\/strong><\/p>\n\n<p>\u5b89\u88c5\u5b8c\u6210\u4e4b\u540e\uff0c\u6211\u4eec\u9700\u8981\u5bf9\u5b83\u8fdb\u884c\u4e00\u4e9b\u914d\u7f6e\u3002\u9996\u5148\uff0c\u6211\u4eec\u6253\u5f00\u914d\u7f6e\u6587\u4ef6\uff1a<\/p>\n\n\n\n<pre class=\"prettyprint\"><code class=\"language-# hljs avrasm\">vim \/etc\/php<span class=\"hljs-preprocessor\">.ini<\/span><\/code><\/pre>\n\n<p>\u6253\u5f00\u6587\u4ef6\u540e\uff0c\u6211\u4eec\u627e\u5230 <code>cgi.fix_pathinfo<\/code> \u5e76\u628a\u5b83\u7684\u503c\u8bbe\u7f6e\u4e3a <code>0<\/code><\/p>\n\n<blockquote>\n  <p>\u5927\u6982\u5728 763 \u884c<\/p>\n<\/blockquote>\n\n<p>\u914d\u7f6e\u597d <code>php.ini<\/code> \u6587\u4ef6\u4e4b\u540e\uff0c\u6211\u4eec\u6765\u914d\u7f6e <code>\/etc\/php-fpm.d\/www.conf<\/code> \u6587\u4ef6<\/p>\n\n\n\n<pre class=\"prettyprint\"><code class=\"language-# hljs avrasm\">vim \/etc\/php-fpm<span class=\"hljs-preprocessor\">.d<\/span>\/www<span class=\"hljs-preprocessor\">.conf<\/span><\/code><\/pre>\n\n<p>\u7b2c\u4e00\u5904\u4fee\u6539\uff0c\u5c06 <code>listen = 127.0.0.1:9000<\/code> \u4fee\u6539\u4e3a\u5982\u4e0b\uff1a<\/p>\n\n\n\n<pre class=\"prettyprint\"><code class=\"language-# hljs lasso\">listen <span class=\"hljs-subst\">=<\/span> \/<span class=\"hljs-built_in\">var<\/span>\/run\/php<span class=\"hljs-attribute\">-fpm<\/span>\/php<span class=\"hljs-attribute\">-fpm<\/span><span class=\"hljs-built_in\">.<\/span>sock<\/code><\/pre>\n\n<p>\u7136\u540e\u627e\u5230\u4e0b\u9762\u4e24\u884c\uff0c\u5220\u6389\u524d\u9762\u7684 <code>;<\/code> \u5206\u53f7\uff0c\u53d6\u6d88\u6ce8\u91ca\u3002<\/p>\n\n\n\n<pre class=\"prettyprint\"><code class=\"language-# hljs perl\"><span class=\"hljs-keyword\">listen<\/span>.owner = nobody\n<span class=\"hljs-keyword\">listen<\/span>.group = nobody<\/code><\/pre>\n\n<p>\u6700\u540e\uff0c\u6211\u4eec\u627e\u5230\u4e0b\u9762\u4e24\u884c<\/p>\n\n\n\n<pre class=\"prettyprint\"><code class=\"language-# hljs ini\"><span class=\"hljs-setting\">user = <span class=\"hljs-value\">apache<\/span><\/span>\n<span class=\"hljs-setting\">group = <span class=\"hljs-value\">apache<\/span><\/span><\/code><\/pre>\n\n<p>\u5c06 <code>apache<\/code> \u6362\u6210 <code>nginx<\/code>\uff0c\u5982\u4e0b\u6240\u793a\uff1a<\/p>\n\n\n\n<pre class=\"prettyprint\"><code class=\"language-# hljs ini\"><span class=\"hljs-setting\">user = <span class=\"hljs-value\">nginx<\/span><\/span>\n<span class=\"hljs-setting\">group = <span class=\"hljs-value\">nginx<\/span><\/span><\/code><\/pre>\n\n<p>\u597d\uff0c\u8fd9\u6837\uff0c\u6211\u4eec\u5c31\u5df2\u7ecf\u5b89\u88c5\u5e76\u4e14\u914d\u7f6e\u597d\u4e86\u3002\u4e0b\u9762\u6211\u4eec\u53ef\u4ee5\u542f\u52a8\u4e86\u3002<\/p>\n\n\n\n<pre class=\"prettyprint\"><code class=\"language-# hljs vala\"><span class=\"hljs-preprocessor\"># \u542f\u52a8PHP<\/span>\nsystemctl start php-fpm\n<span class=\"hljs-preprocessor\"># \u5c06\u5b83\u8bbe\u7f6e\u4e3a\u5f00\u673a\u542f\u52a8<\/span>\nsystemctl enable php-fpm<\/code><\/pre>\n\n\n\n<h3 id=\"\u914d\u7f6e-nginx-\u4f7f\u5176\u652f\u6301-php\">\u914d\u7f6e nginx \u4f7f\u5176\u652f\u6301 php<\/h3>\n\n<p>\u597d\uff0c\u6211\u4eec\u5728\u5b89\u88c5\u597d <code>nginx<\/code> \u548c <code>php<\/code> \u4e4b\u540e\uff0c\u4ed6\u4eec\u8fd8\u4e0d\u80fd\u534f\u540c\u4f5c\u6218\uff0c\u6211\u4eec\u9700\u8981\u5bf9 <code>nginx<\/code> \u8fdb\u884c\u4e00\u4e9b\u914d\u7f6e\u624d\u53ef\u4ee5\u3002<\/p>\n\n<p>\u9996\u5148\uff0c\u6211\u4eec\u6253\u5f00  <code>nginx<\/code> \u7684\u914d\u7f6e\u6587\u4ef6<\/p>\n\n\n\n<pre class=\"prettyprint\"><code class=\"language-# hljs avrasm\">vim \/etc\/nginx\/nginx<span class=\"hljs-preprocessor\">.conf<\/span><\/code><\/pre>\n\n<p>\u7136\u540e\u5728 <code>server<\/code> \u8fd9\u4e00\u6bb5\u7684\u82b1\u62ec\u53f7\u4e2d\uff0c\u6dfb\u52a0\u5982\u4e0b\u5185\u5bb9\uff1a<\/p>\n\n\n\n<pre class=\"prettyprint\"><code class=\"language-# hljs lasso\">    location ~ <span class=\"hljs-subst\">\\<\/span><span class=\"hljs-built_in\">.<\/span>php$ {\n        try_files <span class=\"hljs-variable\">$uri<\/span> <span class=\"hljs-subst\">=<\/span><span class=\"hljs-number\">404<\/span>;\n        fastcgi_pass unix:\/<span class=\"hljs-built_in\">var<\/span>\/run\/php<span class=\"hljs-attribute\">-fpm<\/span>\/php<span class=\"hljs-attribute\">-fpm<\/span><span class=\"hljs-built_in\">.<\/span>sock;\n        fastcgi_index index<span class=\"hljs-built_in\">.<\/span>php;\n        fastcgi_param SCRIPT_FILENAME <span class=\"hljs-variable\">$document_root<\/span><span class=\"hljs-variable\">$fastcgi_script_name<\/span>;\n        include fastcgi_params;\n    }<\/code><\/pre>\n\n<p>\u53e6\u5916\uff0c\u8fd8\u9700\u8981\u914d\u7f6e\u9ed8\u8ba4\u7684\u9996\u9875\u6587\u4ef6\uff0c\u6211\u4eec\u627e\u5230 <code>index index.html index.htm;<\/code> \u8fd9\u6bb5\u914d\u7f6e\uff0c\u5728\u4e2d\u95f4\u6dfb\u52a0 <code>index.php<\/code> \u3002\u5982\u4e0b\u6240\u793a\uff1a<\/p>\n\n\n\n<pre class=\"prettyprint\"><code class=\"language-# hljs axapta\"><span class=\"hljs-keyword\">index<\/span> <span class=\"hljs-keyword\">index<\/span>.php <span class=\"hljs-keyword\">index<\/span>.html <span class=\"hljs-keyword\">index<\/span>.htm;<\/code><\/pre>\n\n<p>\u597d\uff0c\u7ecf\u8fc7\u8fd9\u6837\u7684\u7b80\u5355\u914d\u7f6e\uff0c\u6211\u4eec\u7684\u4efb\u52a1\u5c31\u5df2\u7ecf\u5b8c\u6210\u4e86\u3002<\/p>\n\n\n\n<pre class=\"prettyprint\"><code class=\"language-# hljs vala\"><span class=\"hljs-preprocessor\"># \u91cd\u542f nginx \u670d\u52a1<\/span>\nsystemctl restart nginx<\/code><\/pre>\n\n\n\n<h3 id=\"\u5b89\u88c5-mysqlmariadb\">\u5b89\u88c5 MySQL(MariaDB)<\/h3>\n\n<p><code>php<\/code> \u7684\u6700\u4f73\u62cd\u6863 <code>mysql<\/code> \u6211\u4eec\u8fd8\u6ca1\u6709\u5b89\u88c5\u3002\u8fd9\u91cc\uff0c\u6211\u4eec\u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c\u81ea\u4ece <code>mysql<\/code> \u88ab\u6536\u8d2d\u4e4b\u540e\uff0c\u6211\u4eec\u5c31\u4e0d\u4f7f\u7528\u4e86\uff0c\u800c\u662f\u4f7f\u7528\u4e00\u4e2a\u53eb <code>mariadb<\/code> \u7684\u4ece <code>mysql<\/code> \u53d1\u5c55\u800c\u6765\u7684\u6570\u636e\u5e93\uff0c\u5b8c\u5168\u517c\u5bb9\u3002<\/p>\n\n<p>\u9664\u4e86\u540d\u5b57\u4e0d\u4e00\u6837\uff0c\u54ea\u54ea\u5c31\u517c\u5bb9\u3002<\/p>\n\n\n\n<pre class=\"prettyprint\"><code class=\"language-# hljs vala\"><span class=\"hljs-preprocessor\"># \u5b89\u88c5 mariadb<\/span>\nyum install mariadb-server mariadb\n<span class=\"hljs-preprocessor\"># \u542f\u52a8 mariadb<\/span>\nsystemctl start mariadb\n<span class=\"hljs-preprocessor\"># \u5c06 mariadb \u8bbe\u7f6e\u4e3a\u5f00\u673a\u542f\u52a8<\/span>\nsystemctl enable mariadb<\/code><\/pre>\n\n<p>\u597d\uff0c\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u6570\u636e\u5e93\u7684\u5bc6\u7801\u4e3a\u7a7a\uff0c\u6211\u4eec\u9700\u8981\u8bbe\u7f6e\u4e00\u4e0b\uff0c\u8fd0\u884c\u4e0b\u9762\u7684\u547d\u4ee4\uff1a<\/p>\n\n\n\n<pre class=\"prettyprint\"><code class=\"language-# hljs \">mysql_secure_installation<\/code><\/pre>\n\n<p>\u8fd0\u884c\u8fd9\u4e2a\u547d\u4ee4\u4e4b\u540e\uff0c\u6839\u636e\u63d0\u793a\u8fdb\u884c\u76f8\u5e94\u7684\u8bbe\u7f6e\u3002\u4e00\u822c\u60c5\u51b5\u4e0b\uff0c\u5c31\u662f\u4e0d\u65ad\u7684\u56de\u8f66\uff0c\u4ee5\u53ca\u8f93\u5165\u4f60\u7684\u5bc6\u7801\uff0c\u786e\u8ba4\u5bc6\u7801\uff0c\u7136\u540e\u4e00\u8def\u56de\u8f66\u5373\u53ef\u3002<\/p>\n\n\n\n<h2 id=\"\u914d\u7f6e\u5c0f\u7ed3\">\u914d\u7f6e\u5c0f\u7ed3<\/h2>\n\n<p>\u603b\u4f53\u6765\u8bf4\uff0c\u6574\u4e2a\u914d\u7f6e\u8fc7\u7a0b\u8fd8\u662f\u975e\u5e38\u987a\u7545\u7684\uff0c\u548c <code>lamp<\/code> \u73af\u5883\u6709\u4e00\u5b9a\u7684\u5dee\u5f02\uff0c\u4f46\u662f\u901a\u8fc7\u67e5\u627e\u76f8\u5173\u7684\u8d44\u6599\uff0c\u8fd8\u662f\u53ef\u4ee5\u5f88\u5feb\u7684\u89e3\u51b3\u95ee\u9898\u7684\u3002<\/p>\n\n<p>\u5176\u4ed6\u5305\u62ec\u865a\u62df\u4e3b\u673a\u7684\u914d\u7f6e\u7b49\u7b49\uff0c\u5927\u5bb6\u53ef\u4ee5\u641c\u7d22 <code>nginx \u914d\u7f6e\u865a\u62df\u4e3b\u673a<\/code> \u5173\u952e\u8bcd\uff0c\u6765\u8fdb\u884c\u76f8\u5173\u8d44\u6599\u7684\u67e5\u627e\u3002<\/p>\n\n<p>\u672c\u6587\u7531 FungLeo \u539f\u521b\uff0c\u5141\u8bb8\u8f6c\u8f7d\uff0c\u4f46\u8f6c\u8f7d\u5fc5\u987b\u4fdd\u7559\u9996\u53d1\u94fe\u63a5\u3002<\/p>","markdowncontent":"# CentOS 7 \u914d\u7f6e Nginx + php + mysql \u642d\u5efa lnmp \u73af\u5883\u8fc7\u7a0b\u5168\u7eaa\u5f55\n\n\u6628\u5929\u641e\u4e86\u4e00\u4e2a\u7f8e\u56fd\u7684\u4fbf\u5b9c `VPS` \u7ed9\u670b\u53cb\u642d\u5efa\u4e00\u4e2a\u7b80\u5355\u7684 `php+mysql` \u7684\u5c0f\u7ad9\u3002\u672c\u6765\u6211\u662f\u51c6\u5907\u7528 `lamp` \u73af\u5883\u7684\u3002\u53cd\u6b63\u4e5f\u662f\u975e\u5e38\u7b80\u5355\u7684\u4e00\u4ef6\u4e8b\u60c5\u3002\u4f46\u662f\u8003\u8651\u6211\u4e4b\u524d\u6ca1\u6709\u914d\u7f6e\u8fc7 `lnmp` \u7684\u73af\u5883\uff0c\u6240\u4ee5\u51c6\u5907\u5b9e\u6218\u4e00\u4e0b\u3002\n\n## CentOS 7 \u670d\u52a1\u5668\u57fa\u672c\u914d\u7f6e\n\n\u670d\u52a1\u5668\u521d\u59cb\u5b89\u88c5\u7cfb\u7edf\u4e4b\u540e\uff0c\u6211\u4eec\u5c31\u53ef\u4ee5\u5229\u7528 `ssh` \u8fde\u63a5\u4e0a\u670d\u52a1\u5668\u7ec8\u7aef\u4e86\u3002\u5982\u679c\u4f7f\u7528\u7684\u662f `windows` \u7cfb\u7edf\uff0c\u53ef\u4ee5\u4f7f\u7528 `putty` \u4e4b\u7c7b\u7684\u5de5\u5177\u8fdb\u884c\u8fde\u63a5\u3002\u6211\u662f `mac` \u7cfb\u7edf\uff0c\u6240\u4ee5\u4e0d\u9700\u8981\u8fd9\u4e9b\u3002\n\n\u4f60\u53ef\u4ee5\u9009\u62e9\u4e00\u76f4\u7528\u5bc6\u7801\u767b\u5f55\uff0c\u4e0d\u8fc7\u6211\u559c\u6b22\u7528 `key` \u767b\u5f55\uff0c\u8fd9\u6837\u53ef\u4ee5\u514d\u5bc6\u7801\u3002\n\n> \u8fd9\u91cc\uff0c\u6211\u4eec\u90fd\u4f7f\u7528 `root` \u6700\u9ad8\u6743\u9650\u7684\u7528\u6237\u6765\u8fdb\u884c\u7ba1\u7406\u3002\u5982\u679c\u4f60\u4f7f\u7528\u7684\u662f\u666e\u901a\u7528\u6237\uff0c\u5728\u6267\u884c\u5927\u591a\u6570\u547d\u4ee4\u7684\u65f6\u5019\u90fd\u6ca1\u6709\u6743\u9650\uff0c\u9700\u8981\u5728\u524d\u9762\u52a0\u4e0a `sudo`\u3002\n\n### \u914d\u7f6e key \u79d8\u94a5\u767b\u5f55\u670d\u52a1\u5668 \uff08\u53ef\u8df3\u8fc7\uff09\n\n\u8fd9\u4e00\u6b65\u914d\u7f6e\u53ef\u4ee5\u8df3\u8fc7\uff0c\u5e76\u4e14\u53ea\u9002\u5408 `mac` \u6216\u8005 `linux` \u7cfb\u7edf\u3002`windows` \u7cfb\u7edf\u7406\u8bba\u4e0a\u662f\u53ef\u4ee5\u7684\uff0c\u4f46\u662f\u64cd\u4f5c\u6bd4\u8f83\u9ebb\u70e6\uff0c\u5e76\u4e14\u548c\u6211\u4e0b\u9762\u8bf4\u7684\u4e0d\u592a\u4e00\u81f4\u3002\n\n**\u914d\u7f6e\u670d\u52a1\u5668\u7aef**\n\u9996\u5148\u7528\u5bc6\u7801\u767b\u5f55\u670d\u52a1\u5668\u3002\n\n```#\n# \u5b89\u88c5 vim \u5de5\u5177\nyum install vim -y\n# \u65b0\u5efa ssh \u914d\u7f6e\u76ee\u5f55\nmkdir ~\/.ssh\n# \u521b\u5efa\u81ea\u52a8\u79d8\u94a5\u767b\u5f55\u914d\u7f6e\u6587\u4ef6\ntouch ~\/.ssh\/authorized_keys\n# \u7f16\u8f91\u914d\u7f6e\u6587\u4ef6\nvim ~\/.ssh\/authorized_keys\n```\n\u7136\u540e\u628a\u81ea\u5df1\u7684\u79d8\u94a5\u7c98\u8d34\u8fdb\u53bb\u3002\n\n**\u914d\u7f6e\u5ba2\u6237\u7aef**\n\n\u672c\u5730\u751f\u6210\u81ea\u5df1\u7684\u79d8\u94a5\u7b49\uff0c\u6211\u8fd9\u91cc\u4e0d\u8bf4\u4e86\uff0c\u4e0d\u6e05\u695a\u7684\u53ef\u4ee5\u81ea\u884c\u641c\u7d22\u4e00\u4e0b\u3002\n\n```#\nvim ~\/.ssh\/config\n```\n\n\u5728\u91cc\u9762\u6dfb\u52a0\u5982\u4e0b\u5185\u5bb9\n\n```#\n# \u914d\u7f6e\u670d\u52a1\u5668\u7b80\u5199\nHost myserver\n# \u914d\u7f6e\u670d\u52a1\u5668IP\nHostname 100.100.100.100\n# \u914d\u7f6e\u670d\u52a1\u5668ssh\u8fde\u63a5\u7aef\u53e3\uff0c\u9ed8\u8ba4\u662f22\u5219\u4e0d\u7528\u914d\u7f6e\uff0c\u4f46\u5efa\u8bae\u4fee\u6539\u9ed8\u8ba4\u7aef\u53e3\u53f7\uff0c\u907f\u514d\u88ab\u9ed1\u5ba2\u626b\u63cf\nPort 22\n# \u914d\u7f6e\u9ed8\u8ba4\u767b\u5f55\u7528\u6237\nUser root\n```\n\n\u597d\uff0c\u7ecf\u8fc7\u4e0a\u9762\u5ba2\u6237\u7aef\u548c\u670d\u52a1\u7aef\u7684\u914d\u7f6e\u4e4b\u540e\uff0c\u6211\u4eec\u5c31\u53ef\u4ee5\u5728\u672c\u5730\u7528\u975e\u5e38\u7b80\u5355\u7684\u547d\u4ee4\u767b\u5f55\u670d\u52a1\u5668\u4e86\u3002\n\n\u767b\u5f55\u670d\u52a1\u5668\u547d\u4ee4\u5982\u4e0b\uff1a\n\n```#\nssh myserver\n```\n\n\u9664\u4e86\u767b\u5f55\u670d\u52a1\u5668\u53d8\u5f97\u5f02\u5e38\u7b80\u5355\uff0c\u4e0d\u7528\u5bc6\u7801\u3002\u6211\u4eec\u4f7f\u7528 `scp` \u4f20\u8f93\u6587\u4ef6\u4e5f\u53d8\u5f97\u5f02\u5e38\u7b80\u5355\n\n```#\n# \u4f20\u8f93\u5355\u4e2a\u6587\u4ef6\u5230\u670d\u52a1\u5668\nscp ~\/.vimrc myserver:~\n# \u4f20\u8f93\u5355\u4e2a\u6587\u4ef6\u5939\u5230\u670d\u52a1\u5668\nscp -r ~\/.vim myserver:~\n```\n\n\u66f4\u591a `scp` \u547d\u4ee4\u8bf7\u53c2\u8003\u76f8\u5173\u8d44\u6599\uff0c\u8fd9\u91cc\u4e0d\u505a\u8fc7\u591a\u5ef6\u4f38\u3002\n\n### \u66f4\u65b0\u670d\u52a1\u5668\u7cfb\u7edf\u4ee5\u53ca\u8f6f\u4ef6\uff0c\u5b89\u88c5\u5e38\u7528\u5de5\u5177\n\n\u4e00\u822c\u6765\u8bf4\uff0c\u4e91\u670d\u52a1\u5668\u6216\u8005 `vps` \u5b89\u88c5\u7684\u7cfb\u7edf\u955c\u50cf\u90fd\u4e0d\u662f\u6700\u65b0\u7684\uff0c\u6240\u4ee5\u6211\u4eec\u8fde\u63a5\u4e0a\u670d\u52a1\u5668\u4e4b\u540e\uff0c\u5fc5\u987b\u5c3d\u5feb\u66f4\u65b0\u670d\u52a1\u5668\u7684\u7cfb\u7edf\u4ee5\u53ca\u8f6f\u4ef6\uff0c\u8fd9\u6837\u53ef\u4ee5\u66f4\u597d\u7684\u4fdd\u969c\u6211\u4eec\u7684\u670d\u52a1\u5668\u7cfb\u7edf\u5b89\u5168\u3002\n\n**\u670d\u52a1\u5668\u7cfb\u7edf\u4ee5\u53ca\u8f6f\u4ef6\u5347\u7ea7\u547d\u4ee4**\n\n```#\nyum -y update\n```\n\n`CentOS` \u7cfb\u5217\u7684\u670d\u52a1\u5668\u7cfb\u7edf\u6709\u4e00\u4e2a\u6bdb\u75c5\uff0c\u5c31\u662f\u5b98\u65b9\u81ea\u5e26\u7684\u6e90\u7684\u8f6f\u4ef6\u6bd4\u8f83\u53e4\u8001\uff0c\u5e76\u4e14\u5f88\u591a\u7684\u8f6f\u4ef6\u90fd\u6ca1\u6709\u3002\u56e0\u4e3a\u4ed6\u4eec\u7684\u9996\u8981\u4efb\u52a1\u662f\u4fdd\u8bc1\u670d\u52a1\u5668\u7684\u7a33\u5b9a\uff0c\u800c\u4e0d\u662f\u8ffd\u6c42\u6700\u65b0\u3002\u4f46\u662f\u592a\u8fc7\u4e8e\u4fdd\u5b88\u4e86\uff0c\u4e00\u822c\u6765\u8bf4\uff0c\u6211\u4eec\u4f1a\u7ed9\u670d\u52a1\u5668\u6dfb\u52a0\u4e00\u4e2a `epel-release` \u8fd9\u4e2a\u6e90\u3002\u8fd9\u4e2a\u6e90\u91cc\u5305\u542b\u4e86\u4f8b\u5982 `nginx` \u4e4b\u7c7b\u7684\u6211\u4eec\u9700\u8981\u7684\u8f6f\u4ef6\uff0c\u4f7f\u7528\u8d77\u6765\u6bd4\u8f83\u65b9\u4fbf\u3002\n\n**\u5b89\u88c5 `epel-release` **\n\n```#\nyum install epel-release -y\n```\n\n\u901a\u8fc7\u4e0a\u9762\u7684\u547d\u4ee4\u8fdb\u884c\u5b89\u88c5\u3002\u786e\u8ba4\u662f\u5426\u5b89\u88c5\u6210\u529f\uff0c\u53ef\u4ee5\u7528\u4e0b\u9762\u7684\u547d\u4ee4\u68c0\u6d4b\u4e00\u4e0b\n\n```#\nyum search nginx\n```\n\n\u5982\u679c\u641c\u7d22\u7684\u7ed3\u679c\u5305\u542b\u4e0b\u9762\u7684\u8fd9\u884c\u5185\u5bb9\uff0c\u5c31\u8868\u793a\u5b89\u88c5\u6210\u529f\u4e86\uff0c\u7136\u540e\u6211\u4eec\u5c31\u80fd\u6109\u5feb\u7684\u5b89\u88c5\u6211\u4eec\u9700\u8981\u7684\u8f6f\u4ef6\u4e86\u3002\n\n```#\nnginx.x86_64 : A high performance web server and reverse proxy server\n```\n\n\u6211\u6628\u5929\u5728\u914d\u7f6e\u7684\u65f6\u5019\u53d1\u73b0\u4e0d\u80fd\u641c\u7d22\u51fa\u6765\uff0c\u4f46\u662f\u786e\u5b9e\u662f\u5b89\u88c5\u4e0a\u4e86\u3002\u540e\u6765\u68c0\u67e5\u4e86\u4e00\u4e0b `\/etc\/yum.repos.d\/epel.repo` \u6587\u4ef6\uff0c\u53d1\u73b0\u91cc\u9762\u914d\u7f6e\u4e0d\u5bf9\uff0c\u4fee\u6539\u4e86\u4e00\u4e0b\u5c31\u597d\u3002\n\n\u4e3b\u8981\u662f `epel` \u6bb5\u843d\u4e2d\u7684 `enabled` \u503c\u9ed8\u8ba4\u8bbe\u7f6e\u4e3a `0` \u4e86\uff0c\u6211\u4eec\u5c06\u503c\u6539\u6210 `1` \u5c31\u53ef\u4ee5\u4e86\u3002\n\n> PS\uff1a\u4f60\u5e94\u8be5\u6ca1\u8fd9\u4e2a\u95ee\u9898\u3002\u5982\u679c\u9047\u5230\u4e86\u95ee\u9898\uff0c\u53ef\u4ee5\u770b\u4e0b\u8fd9\u91cc\u3002\u5982\u679c\u662f\u5176\u4ed6\u95ee\u9898\uff0c\u8bf7\u81ea\u884c\u641c\u7d22\u89e3\u51b3\u3002 \n\n**\u5b89\u88c5\u670d\u52a1\u5668\u5e38\u7528\u8f6f\u4ef6**\n\n\u524d\u9762\u6211\u4eec\u767b\u5f55\u4e0a\u670d\u52a1\u5668\u4e4b\u540e\uff0c\u7b2c\u4e00\u4ef6\u4e8b\u60c5\u5c31\u662f\u5b89\u88c5\u4e86 `vim` \u7f16\u8f91\u5668\u3002\u4f46\u6211\u4eec\u5728\u5de5\u4f5c\u4e2d\uff0c\u53ef\u80fd\u4f1a\u9700\u8981\u5404\u79cd\u5404\u6837\u7684\u8f6f\u4ef6\uff0c\u4f8b\u5982\u6211\u7ecf\u5e38\u4f7f\u7528\u7684\u5982\u4e0b\uff1a\n\n```#\n# wget \u4e0b\u8f7d\u5de5\u5177\nyum install wget\n# \u7edf\u4e00\u5404\u79cd\u683c\u5f0f\u538b\u7f29\u6587\u4ef6\u7684\u5de5\u5177\nyum install atool\n# tmux \u597d\u7528\u7684\u7ec8\u7aef\u5de5\u5177(\u5982\u4f55\u4f7f\u7528\u8bf7\u81ea\u884c\u641c\u7d22)\nyum install tmux\n# zsh \u6700\u597d\u7528\u7684\u7ec8\u7aef\nyum install zsh\n# \u66ff\u4ee3 top \u547d\u4ee4\u7684\u597d\u5de5\u5177\nyum install htop\n# git \u4ee3\u7801\u7248\u672c\u7ba1\u7406\u5de5\u5177\nyum install git\n```\n\n\u4e0a\u9762\u8fd9\u4e9b\u5e38\u7528\u8f6f\u4ef6\u53ef\u4ee5\u6839\u636e\u4f60\u81ea\u5df1\u7684\u9700\u6c42\u8fdb\u884c\u9009\u62e9\u5b89\u88c5\u3002\u4e0d\u662f\u90fd\u5fc5\u987b\u5b89\u88c5\u7684\u3002\n\n\u4ec0\u4e48 `zsh` \u4e4b\u7c7b\u7684\u914d\u7f6e\uff0c\u53ef\u4ee5\u4f7f\u7528 `oh-my-zsh` \u8fd9\u4e2a\u914d\u7f6e\u5de5\u5177\uff0c\u5177\u4f53\u641c\u7d22\u4e00\u4e0b\u3002\u7f51\u4e0a\u6559\u7a0b\u5f88\u591a\u3002\u4e0d\u662f\u5fc5\u987b\u7684\u3002\n\n## \u914d\u7f6e lnmp \u670d\u52a1\u5668\u73af\u5883\n\n\u597d\uff0c\u51c6\u5907\u5de5\u4f5c\u5dee\u4e0d\u591a\u4e86\uff0c\u4e0b\u9762\u6b63\u5f0f\u5f00\u59cb\u3002\n\n### \u5b89\u88c5 nginx\n\n\u5982\u679c\u4f60\u662f\u76f4\u63a5\u8df3\u5230\u8fd9\u6bb5\u770b\u7684\uff0c\u8bf7\u786e\u4fdd\u4f60\u5df2\u7ecf\u8fd0\u884c\u8fc7\u4e0b\u9762\u7684\u547d\u4ee4\u5b89\u88c5\u8fc7 `epel-release` \u3002\u5982\u679c\u4e0d\u662f\uff0c\u8bf7\u8df3\u8fc7\u8fd9\u6761\u547d\u4ee4\u3002\n\n```#\nyum install epel-release -y\n```\n\n\u5f00\u59cb\u5b89\u88c5\uff1a\n\n```#\n# \u5b89\u88c5 nginx\nyum install nginx -y\n# \u542f\u52a8 nginx\nsystemctl start nginx\n# \u5c06 nginx \u8bbe\u7f6e\u4e3a\u5f00\u673a\u542f\u52a8\nsystemctl enable nginx\n```\n\n\u597d\uff0c\u901a\u8fc7\u4e0a\u9762\u4e09\u6761\u547d\u4ee4\u6267\u884c\u4e4b\u540e\uff0c\u5e94\u8be5\u53ef\u4ee5\u5728\u6d4f\u89c8\u5668\u4e2d\u76f4\u63a5\u7528\u670d\u52a1\u5668IP\u53ef\u4ee5\u8bbf\u95ee\u5230 `nginx` \u9ed8\u8ba4\u7684\u9996\u9875\u4e86\u3002\n\n### \u5b89\u88c5 php\n\n`nginx` \u5b89\u88c5\u597d\u4e4b\u540e\uff0c\u6211\u4eec\u5c31\u9700\u8981\u6765\u5b89\u88c5\u6211\u4eec\u7684 `php` \u73af\u5883\u4e86\u3002\n\n**\u5b89\u88c5 php**\n\n\u6267\u884c\u4e0b\u9762\u7684\u547d\u4ee4\uff0c\u5b89\u88c5 `PHP` \u5df2\u7ecf\u5b83\u7684\u5e38\u7528\u7684\u5e93\n\n```#\nyum install php php-mysql php-fpm php-gd php-imap php-ldap php-mbstring php-odbc php-pear php-xml php-xmlrpc -y\n```\n\n**\u914d\u7f6e php**\n\n\u5b89\u88c5\u5b8c\u6210\u4e4b\u540e\uff0c\u6211\u4eec\u9700\u8981\u5bf9\u5b83\u8fdb\u884c\u4e00\u4e9b\u914d\u7f6e\u3002\u9996\u5148\uff0c\u6211\u4eec\u6253\u5f00\u914d\u7f6e\u6587\u4ef6\uff1a\n\n```#\nvim \/etc\/php.ini\n```\n\n\u6253\u5f00\u6587\u4ef6\u540e\uff0c\u6211\u4eec\u627e\u5230 `cgi.fix_pathinfo` \u5e76\u628a\u5b83\u7684\u503c\u8bbe\u7f6e\u4e3a `0`\n\n> \u5927\u6982\u5728 763 \u884c\n\n\u914d\u7f6e\u597d `php.ini` \u6587\u4ef6\u4e4b\u540e\uff0c\u6211\u4eec\u6765\u914d\u7f6e `\/etc\/php-fpm.d\/www.conf` \u6587\u4ef6\n\n```#\nvim \/etc\/php-fpm.d\/www.conf\n```\n\n\u7b2c\u4e00\u5904\u4fee\u6539\uff0c\u5c06 `listen = 127.0.0.1:9000` \u4fee\u6539\u4e3a\u5982\u4e0b\uff1a\n\n```#\nlisten = \/var\/run\/php-fpm\/php-fpm.sock\n```\n\n\u7136\u540e\u627e\u5230\u4e0b\u9762\u4e24\u884c\uff0c\u5220\u6389\u524d\u9762\u7684 `;` \u5206\u53f7\uff0c\u53d6\u6d88\u6ce8\u91ca\u3002\n```#\nlisten.owner = nobody\nlisten.group = nobody\n```\n\n\u6700\u540e\uff0c\u6211\u4eec\u627e\u5230\u4e0b\u9762\u4e24\u884c\n\n```#\nuser = apache\ngroup = apache\n```\n\n\u5c06 `apache` \u6362\u6210 `nginx`\uff0c\u5982\u4e0b\u6240\u793a\uff1a\n\n```#\nuser = nginx\ngroup = nginx\n```\n\n\u597d\uff0c\u8fd9\u6837\uff0c\u6211\u4eec\u5c31\u5df2\u7ecf\u5b89\u88c5\u5e76\u4e14\u914d\u7f6e\u597d\u4e86\u3002\u4e0b\u9762\u6211\u4eec\u53ef\u4ee5\u542f\u52a8\u4e86\u3002\n\n```#\n# \u542f\u52a8PHP\nsystemctl start php-fpm\n# \u5c06\u5b83\u8bbe\u7f6e\u4e3a\u5f00\u673a\u542f\u52a8\nsystemctl enable php-fpm\n```\n\n### \u914d\u7f6e nginx \u4f7f\u5176\u652f\u6301 php\n\n\u597d\uff0c\u6211\u4eec\u5728\u5b89\u88c5\u597d `nginx` \u548c `php` \u4e4b\u540e\uff0c\u4ed6\u4eec\u8fd8\u4e0d\u80fd\u534f\u540c\u4f5c\u6218\uff0c\u6211\u4eec\u9700\u8981\u5bf9 `nginx` \u8fdb\u884c\u4e00\u4e9b\u914d\u7f6e\u624d\u53ef\u4ee5\u3002\n\n\u9996\u5148\uff0c\u6211\u4eec\u6253\u5f00  `nginx` \u7684\u914d\u7f6e\u6587\u4ef6\n\n```#\nvim \/etc\/nginx\/nginx.conf\n```\n\n\u7136\u540e\u5728 `server` \u8fd9\u4e00\u6bb5\u7684\u82b1\u62ec\u53f7\u4e2d\uff0c\u6dfb\u52a0\u5982\u4e0b\u5185\u5bb9\uff1a\n\n```#\n    location ~ \\.php$ {\n        try_files $uri =404;\n        fastcgi_pass unix:\/var\/run\/php-fpm\/php-fpm.sock;\n        fastcgi_index index.php;\n        fastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name;\n        include fastcgi_params;\n    }\n```\n\n\u53e6\u5916\uff0c\u8fd8\u9700\u8981\u914d\u7f6e\u9ed8\u8ba4\u7684\u9996\u9875\u6587\u4ef6\uff0c\u6211\u4eec\u627e\u5230 `index index.html index.htm;` \u8fd9\u6bb5\u914d\u7f6e\uff0c\u5728\u4e2d\u95f4\u6dfb\u52a0 `index.php` \u3002\u5982\u4e0b\u6240\u793a\uff1a\n\n```#\nindex index.php index.html index.htm;\n```\n\n\u597d\uff0c\u7ecf\u8fc7\u8fd9\u6837\u7684\u7b80\u5355\u914d\u7f6e\uff0c\u6211\u4eec\u7684\u4efb\u52a1\u5c31\u5df2\u7ecf\u5b8c\u6210\u4e86\u3002\n\n```#\n# \u91cd\u542f nginx \u670d\u52a1\nsystemctl restart nginx\n```\n\n### \u5b89\u88c5 MySQL(MariaDB)\n\n`php` \u7684\u6700\u4f73\u62cd\u6863 `mysql` \u6211\u4eec\u8fd8\u6ca1\u6709\u5b89\u88c5\u3002\u8fd9\u91cc\uff0c\u6211\u4eec\u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c\u81ea\u4ece `mysql` \u88ab\u6536\u8d2d\u4e4b\u540e\uff0c\u6211\u4eec\u5c31\u4e0d\u4f7f\u7528\u4e86\uff0c\u800c\u662f\u4f7f\u7528\u4e00\u4e2a\u53eb `mariadb` \u7684\u4ece `mysql` \u53d1\u5c55\u800c\u6765\u7684\u6570\u636e\u5e93\uff0c\u5b8c\u5168\u517c\u5bb9\u3002\n\n\u9664\u4e86\u540d\u5b57\u4e0d\u4e00\u6837\uff0c\u54ea\u54ea\u5c31\u517c\u5bb9\u3002\n\n```#\n# \u5b89\u88c5 mariadb\nyum install mariadb-server mariadb\n# \u542f\u52a8 mariadb\nsystemctl start mariadb\n# \u5c06 mariadb \u8bbe\u7f6e\u4e3a\u5f00\u673a\u542f\u52a8\nsystemctl enable mariadb\n```\n\n\u597d\uff0c\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u6570\u636e\u5e93\u7684\u5bc6\u7801\u4e3a\u7a7a\uff0c\u6211\u4eec\u9700\u8981\u8bbe\u7f6e\u4e00\u4e0b\uff0c\u8fd0\u884c\u4e0b\u9762\u7684\u547d\u4ee4\uff1a\n\n```#\nmysql_secure_installation\n```\n\n\u8fd0\u884c\u8fd9\u4e2a\u547d\u4ee4\u4e4b\u540e\uff0c\u6839\u636e\u63d0\u793a\u8fdb\u884c\u76f8\u5e94\u7684\u8bbe\u7f6e\u3002\u4e00\u822c\u60c5\u51b5\u4e0b\uff0c\u5c31\u662f\u4e0d\u65ad\u7684\u56de\u8f66\uff0c\u4ee5\u53ca\u8f93\u5165\u4f60\u7684\u5bc6\u7801\uff0c\u786e\u8ba4\u5bc6\u7801\uff0c\u7136\u540e\u4e00\u8def\u56de\u8f66\u5373\u53ef\u3002\n\n## \u914d\u7f6e\u5c0f\u7ed3\n\n\u603b\u4f53\u6765\u8bf4\uff0c\u6574\u4e2a\u914d\u7f6e\u8fc7\u7a0b\u8fd8\u662f\u975e\u5e38\u987a\u7545\u7684\uff0c\u548c `lamp` \u73af\u5883\u6709\u4e00\u5b9a\u7684\u5dee\u5f02\uff0c\u4f46\u662f\u901a\u8fc7\u67e5\u627e\u76f8\u5173\u7684\u8d44\u6599\uff0c\u8fd8\u662f\u53ef\u4ee5\u5f88\u5feb\u7684\u89e3\u51b3\u95ee\u9898\u7684\u3002\n\n\u5176\u4ed6\u5305\u62ec\u865a\u62df\u4e3b\u673a\u7684\u914d\u7f6e\u7b49\u7b49\uff0c\u5927\u5bb6\u53ef\u4ee5\u641c\u7d22 `nginx \u914d\u7f6e\u865a\u62df\u4e3b\u673a` \u5173\u952e\u8bcd\uff0c\u6765\u8fdb\u884c\u76f8\u5173\u8d44\u6599\u7684\u67e5\u627e\u3002\n\n\u672c\u6587\u7531 FungLeo \u539f\u521b\uff0c\u5141\u8bb8\u8f6c\u8f7d\uff0c\u4f46\u8f6c\u8f7d\u5fc5\u987b\u4fdd\u7559\u9996\u53d1\u94fe\u63a5\u3002\n\n","private":0,"tags":"centos,nginx,php,mysql,lnmp","categories":"Linux\\CentOS","channel":"12","type":"original","status":1},"error":"","status":true}