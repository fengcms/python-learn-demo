{"data":{"id":"49890953","title":"CentOS7 \u521d\u6b21\u5b89\u88c5\u8bb0\u5f55\uff08\u4e09\uff09\u914d\u7f6ePHP\u548cMYSQL","articleedittype":1,"description":"CentOS7 \u521d\u6b21\u5b89\u88c5\u8bb0\u5f55\uff08\u4e09\uff09\u914d\u7f6ePHP\u548cMYSQL\u914d\u7f6e php \u73af\u5883\u8dcc\u8dcc\u649e\u649e\uff0c\u7ec8\u4e8e\u628aapache\u73af\u5883\u7ed9\u5f04\u597d\u4e86\u3002\u4e0b\u9762\u6211\u4eec\u6765\u914d\u7f6ePHP\u73af\u5883\u3002\u7167\u65e7\uff0c\u8fd8\u662fyum\u5b89\u88c5yum -y install php\u987a\u5229\u5b89\u88c5\u6210\u529f\uff01\u6211\u4eec\u6765\u65b0\u5efa\u4e00\u4e2atext.php \u6587\u4ef6\u770b\u770b\u6210\u529f\u4e86\u6ca1\u3002vi \/var\/www\/html test.php\n\/\/ \u5728\u91cc\u9762\u8f93\u5165\n<?php \necho phpinfo();\n?>\n:wq\n\/\/ \u4fdd\u5b58","content":"<h1 id=\"centos7-\u521d\u6b21\u5b89\u88c5\u8bb0\u5f55\u4e09\u914d\u7f6ephp\u548cmysql\">CentOS7 \u521d\u6b21\u5b89\u88c5\u8bb0\u5f55\uff08\u4e09\uff09\u914d\u7f6ePHP\u548cMYSQL<\/h1>\n\n<h2 id=\"\u914d\u7f6e-php-\u73af\u5883\">\u914d\u7f6e php \u73af\u5883<\/h2>\n\n<p>\u8dcc\u8dcc\u649e\u649e\uff0c\u7ec8\u4e8e\u628aapache\u73af\u5883\u7ed9\u5f04\u597d\u4e86\u3002\u4e0b\u9762\u6211\u4eec\u6765\u914d\u7f6ePHP\u73af\u5883\u3002<\/p>\n\n<p>\u7167\u65e7\uff0c\u8fd8\u662fyum\u5b89\u88c5<\/p>\n\n\n\n<pre class=\"prettyprint\"><code class=\"language-language hljs cmake\">yum -y <span class=\"hljs-keyword\">install<\/span> php<\/code><\/pre>\n\n<p>\u987a\u5229\u5b89\u88c5\u6210\u529f\uff01<\/p>\n\n<p>\u6211\u4eec\u6765\u65b0\u5efa\u4e00\u4e2atext.php \u6587\u4ef6\u770b\u770b\u6210\u529f\u4e86\u6ca1\u3002<\/p>\n\n\n\n<pre class=\"prettyprint\"><code class=\"language-language hljs php\">vi \/<span class=\"hljs-keyword\">var<\/span>\/www\/html test.php\n<span class=\"hljs-comment\">\/\/ \u5728\u91cc\u9762\u8f93\u5165<\/span>\n<span class=\"hljs-preprocessor\">&lt;?php<\/span> \n<span class=\"hljs-keyword\">echo<\/span> phpinfo();\n<span class=\"hljs-preprocessor\">?&gt;<\/span>\n:wq\n<span class=\"hljs-comment\">\/\/ \u4fdd\u5b58\u9000\u51fa<\/span><\/code><\/pre>\n\n<p>\u5728\u6d4f\u89c8\u5668\u91cc\u8f93\u5165 <a href=\"http:\/\/192.168.1.254\/test.php\">http:\/\/192.168.1.254\/test.php<\/a> \u8bbf\u95ee\u770b\u770b<\/p>\n\n<p>\u6211\u52d2\u4e2a\u53bb\uff0c\u548b\u56de\u4e8b\u513f\uff1f\u6587\u672c\u8f93\u51fa\uff1f<\/p>\n\n<p>\u539f\u6765\u5fd8\u8bb0\u91cd\u542fapache\u4e86\u3002<code>systemctl restart httpd.service<\/code> \u91cd\u542f\u4e00\u4e0b\u3002<\/p>\n\n<p>\u518d\u6b21\u8bbf\u95ee\u3002\u55ef\u5df2\u7ecf\u6210\u529f\uff0c\u987a\u5229\u5b89\u88c5\u4e86php5.4.16<\/p>\n\n<p>\u7136\u540e\u5c31\u662f\u5b89\u88c5PHP\u5e38\u7528\u6269\u5c55<\/p>\n\n\n\n<pre class=\"prettyprint\"><code class=\"language-language hljs lasso\">yum <span class=\"hljs-attribute\">-y<\/span> install php<span class=\"hljs-attribute\">-mysql<\/span> php<span class=\"hljs-attribute\">-gd<\/span> php<span class=\"hljs-attribute\">-imap<\/span> php<span class=\"hljs-attribute\">-ldap<\/span> php<span class=\"hljs-attribute\">-mbstring<\/span> php<span class=\"hljs-attribute\">-odbc<\/span> php<span class=\"hljs-attribute\">-pear<\/span> php<span class=\"hljs-attribute\">-xml<\/span> php<span class=\"hljs-attribute\">-xmlrpc<\/span>\n<span class=\"hljs-comment\">\/\/ \u91cd\u542f apache \u670d\u52a1<\/span>\nsystemctl restart httpd<span class=\"hljs-built_in\">.<\/span>service<\/code><\/pre>\n\n<p>\u8fd9\u56de\u522b\u5fd8\u4e86\u91cd\u542f<\/p>\n\n<p>PHP\u5b89\u88c5\u8fd8\u7b97\u987a\u5229\uff0c\u4e0b\u9762\u6765\u6574MYSQL<\/p>\n\n\n\n<h2 id=\"\u914d\u7f6e-mysql-\u6570\u636e\u5e93\">\u914d\u7f6e mysql \u6570\u636e\u5e93<\/h2>\n\n<p>\u8fd8\u662fyum\u5b89\u88c5\u3002\u6211\u9664\u4e86yum\u4e5f\u4e0d\u4f1a\u522b\u7684\u4e86-_-~~~<\/p>\n\n\n\n<pre class=\"prettyprint\"><code class=\"language-language hljs lasso\">yum <span class=\"hljs-attribute\">-y<\/span> install mysql mysql<span class=\"hljs-attribute\">-server<\/span><\/code><\/pre>\n\n<p>\u6587\u4ef6\u6bd4\u8f83\u5927\uff0c\u4e0b\u8f7d\u9700\u8981\u70b9\u65f6\u95f4\u3002<\/p>\n\n<p>\u53d1\u73b0\u95ee\u9898\uff0c<code>mysql-server<\/code> \u627e\u4e0d\u5230\uff0c\u767e\u5ea6\u4e86\u4e00\u4e0b\uff0c\u539f\u6765\u5df2\u7ecf\u6362\u6210\u4e86<code>mariadb-server<\/code> \u6211X\uff0c\u6539\u52a8\u592a\u5927\u4e86\u5427<\/p>\n\n<p>\u91cd\u65b0\u5b89\u88c5<\/p>\n\n\n\n<pre class=\"prettyprint\"><code class=\"language-language hljs lasso\">yum <span class=\"hljs-attribute\">-y<\/span> install mariadb mariadb<span class=\"hljs-attribute\">-server<\/span><\/code><\/pre>\n\n<p>\u518d\u62bd\u6839\u70df\uff0c\u5b89\u88c5\u5b8c\u6210\uff0c\u8bbe\u5b9a mysql \u81ea\u542f\u52a8<\/p>\n\n\n\n<pre class=\"prettyprint\"><code class=\"language-language hljs avrasm\">systemctl enable mariadb<span class=\"hljs-preprocessor\">.service<\/span><\/code><\/pre>\n\n<p>\u63a5\u4e0b\u6765\u8bbe\u7f6emysql\u5bc6\u7801<\/p>\n\n\n\n<pre class=\"prettyprint\"><code class=\"language-language hljs \">mysql_secure_installation<\/code><\/pre>\n\n<p>\u6211XXXXX\uff0c\u600e\u4e48\u53c8\u62a5\u9519\u4e86\u554a\uff1f\uff1f\u8fd8\u8ba9\u4e0d\u8ba9\u4eba\u6d3b\u4e86\u554a~~<\/p>\n\n\n\n<pre class=\"prettyprint\"><code class=\"language-language hljs applescript\">ERROR <span class=\"hljs-number\">2002<\/span> (HY000): Can't connect <span class=\"hljs-keyword\">to<\/span> <span class=\"hljs-keyword\">local<\/span> MySQL server <span class=\"hljs-keyword\">through<\/span> socket '\/var\/lib\/mysql\/mysql.sock'<\/code><\/pre>\n\n<p>\u4ed4\u7ec6\u770b\u4e86\u4e00\u4e0b\uff0c\u597d\u50cf\u521a\u521a\u6ca1\u542f\u52a8mysql\u670d\u52a1\u3002\u542f\u52a8\u4e00\u4e0b<\/p>\n\n\n\n<pre class=\"prettyprint\"><code class=\"language-language hljs avrasm\">systemctl restart mariadb<span class=\"hljs-preprocessor\">.service<\/span><\/code><\/pre>\n\n<p>\u91cd\u65b0\u8f93\u5165 <code>mysql_secure_installation<\/code> \u547d\u4ee4\u914d\u7f6e mysql \u6570\u636e\u5e93 \u4e00\u8def\u56de\u8f66\uff0c\u76f4\u5230<\/p>\n\n\n\n<pre class=\"prettyprint\"><code class=\"language-language hljs delphi\"><span class=\"hljs-keyword\">Set<\/span> root password? [Y\/n] \n<span class=\"hljs-comment\">\/\/\u8f93\u5165 y \u56de\u8f66<\/span>\n<span class=\"hljs-comment\">\/\/\u7136\u540e\u8f93\u5165\u4e24\u6b21\u65b0\u5bc6\u7801<\/span>\n<span class=\"hljs-comment\">\/\/\u7136\u540e\u4f1a\u6709\u4e00\u5806\u95ee\u9898\uff0c\u5168\u90e8 y \u56de\u8f66<\/span>\n<span class=\"hljs-comment\">\/\/ OK \u540e\u91cd\u542fmysql\u670d\u52a1<\/span>\nsystemctl restart mariadb.service<\/code><\/pre>\n\n<p>\u597d\u4e86\u3002\u8fd9\u56de\u8c8c\u4f3c\u6210\u529f\u4e86\u3002\u7528mysql\u6570\u636e\u5e93\u7ba1\u7406\u8f6f\u4ef6\uff0c\u8fde\u63a5\u4e00\u4e0bmysql\u3002\u63d0\u793a\u8fde\u63a5\u4e0d\u6210\u529f\uff0c\u6b63\u5e38\u3002\u5237\u65b0\u4e00\u4e0b\u6743\u9650<\/p>\n\n\n\n<pre class=\"prettyprint\"><code class=\"language-language hljs lasso\">mysql <span class=\"hljs-attribute\">-u<\/span> root <span class=\"hljs-attribute\">-p<\/span>\n<span class=\"hljs-comment\">\/\/ \u8f93\u5165\u521a\u521a\u8bbe\u7f6e\u7684\u5bc6\u7801 \u56de\u8f66 \u8fdb\u5165mysql \u63a7\u5236\u53f0<\/span>\nflush privileges;\n<span class=\"hljs-comment\">\/\/ \u518d\u6b21\u8fde\u63a5\uff0c\u767b\u9646\u4e0a\u53bb\u4e86\uff01<\/span><\/code><\/pre>\n\n<p>\u597d\u4e86\uff0capache + php + mysql \u5df2\u7ecf\u987a\u5229\u5b89\u88c5\u4e0a\u4e86\u3002<\/p>\n\n<p>\u660e\u5929\u63a5\u7740\u6363\u9f13 \u865a\u62df\u673a\u7684\u914d\u7f6e\u3002<\/p>\n\n<p><strong>\u603b\u7ed3<\/strong><\/p>\n\n<p>CentOS7 \u66f4\u6362\u4e86\u5927\u91cf\u7684\u547d\u4ee4\uff0c\u6709\u5f88\u591a\u4e1c\u897f\u548c6.5\u6709\u76f8\u5f53\u7684\u5dee\u5f02\u3002\u5fc5\u987b\u597d\u597d\u8c03\u6574\u4e00\u4e0b\u3002<\/p>","markdowncontent":"#CentOS7 \u521d\u6b21\u5b89\u88c5\u8bb0\u5f55\uff08\u4e09\uff09\u914d\u7f6ePHP\u548cMYSQL\n\n##\u914d\u7f6e php \u73af\u5883\n\n\u8dcc\u8dcc\u649e\u649e\uff0c\u7ec8\u4e8e\u628aapache\u73af\u5883\u7ed9\u5f04\u597d\u4e86\u3002\u4e0b\u9762\u6211\u4eec\u6765\u914d\u7f6ePHP\u73af\u5883\u3002\n\n\u7167\u65e7\uff0c\u8fd8\u662fyum\u5b89\u88c5\n\n```language\nyum -y install php\n```\n\u987a\u5229\u5b89\u88c5\u6210\u529f\uff01\n\n\u6211\u4eec\u6765\u65b0\u5efa\u4e00\u4e2atext.php \u6587\u4ef6\u770b\u770b\u6210\u529f\u4e86\u6ca1\u3002\n\n```language\nvi \/var\/www\/html test.php\n\/\/ \u5728\u91cc\u9762\u8f93\u5165\n<?php \necho phpinfo();\n?>\n:wq\n\/\/ \u4fdd\u5b58\u9000\u51fa\n```\n\n\u5728\u6d4f\u89c8\u5668\u91cc\u8f93\u5165 http:\/\/192.168.1.254\/test.php \u8bbf\u95ee\u770b\u770b\n\n\u6211\u52d2\u4e2a\u53bb\uff0c\u548b\u56de\u4e8b\u513f\uff1f\u6587\u672c\u8f93\u51fa\uff1f\n\n\u539f\u6765\u5fd8\u8bb0\u91cd\u542fapache\u4e86\u3002`systemctl restart httpd.service` \u91cd\u542f\u4e00\u4e0b\u3002\n\n\u518d\u6b21\u8bbf\u95ee\u3002\u55ef\u5df2\u7ecf\u6210\u529f\uff0c\u987a\u5229\u5b89\u88c5\u4e86php5.4.16\n\n\u7136\u540e\u5c31\u662f\u5b89\u88c5PHP\u5e38\u7528\u6269\u5c55\n\n```language\nyum -y install php-mysql php-gd php-imap php-ldap php-mbstring php-odbc php-pear php-xml php-xmlrpc\n\/\/ \u91cd\u542f apache \u670d\u52a1\nsystemctl restart httpd.service\n```\n\u8fd9\u56de\u522b\u5fd8\u4e86\u91cd\u542f\n\nPHP\u5b89\u88c5\u8fd8\u7b97\u987a\u5229\uff0c\u4e0b\u9762\u6765\u6574MYSQL\n\n##\u914d\u7f6e mysql \u6570\u636e\u5e93\n\n\u8fd8\u662fyum\u5b89\u88c5\u3002\u6211\u9664\u4e86yum\u4e5f\u4e0d\u4f1a\u522b\u7684\u4e86-_-~~~\n\n```language\nyum -y install mysql mysql-server\n```\n\u6587\u4ef6\u6bd4\u8f83\u5927\uff0c\u4e0b\u8f7d\u9700\u8981\u70b9\u65f6\u95f4\u3002\n\n\u53d1\u73b0\u95ee\u9898\uff0c`mysql-server` \u627e\u4e0d\u5230\uff0c\u767e\u5ea6\u4e86\u4e00\u4e0b\uff0c\u539f\u6765\u5df2\u7ecf\u6362\u6210\u4e86`mariadb-server` \u6211X\uff0c\u6539\u52a8\u592a\u5927\u4e86\u5427\n\n\u91cd\u65b0\u5b89\u88c5\n\n```language\nyum -y install mariadb mariadb-server\n```\n\u518d\u62bd\u6839\u70df\uff0c\u5b89\u88c5\u5b8c\u6210\uff0c\u8bbe\u5b9a mysql \u81ea\u542f\u52a8\n```language\nsystemctl enable mariadb.service\n```\n\n\u63a5\u4e0b\u6765\u8bbe\u7f6emysql\u5bc6\u7801\n\n```language\nmysql_secure_installation\n```\n\u6211XXXXX\uff0c\u600e\u4e48\u53c8\u62a5\u9519\u4e86\u554a\uff1f\uff1f\u8fd8\u8ba9\u4e0d\u8ba9\u4eba\u6d3b\u4e86\u554a~~\n```language\nERROR 2002 (HY000): Can't connect to local MySQL server through socket '\/var\/lib\/mysql\/mysql.sock'\n```\n\u4ed4\u7ec6\u770b\u4e86\u4e00\u4e0b\uff0c\u597d\u50cf\u521a\u521a\u6ca1\u542f\u52a8mysql\u670d\u52a1\u3002\u542f\u52a8\u4e00\u4e0b\n\n```language\nsystemctl restart mariadb.service\n```\n\u91cd\u65b0\u8f93\u5165 `mysql_secure_installation` \u547d\u4ee4\u914d\u7f6e mysql \u6570\u636e\u5e93 \u4e00\u8def\u56de\u8f66\uff0c\u76f4\u5230\n\n```language\nSet root password? [Y\/n] \n\/\/\u8f93\u5165 y \u56de\u8f66\n\/\/\u7136\u540e\u8f93\u5165\u4e24\u6b21\u65b0\u5bc6\u7801\n\/\/\u7136\u540e\u4f1a\u6709\u4e00\u5806\u95ee\u9898\uff0c\u5168\u90e8 y \u56de\u8f66\n\/\/ OK \u540e\u91cd\u542fmysql\u670d\u52a1\nsystemctl restart mariadb.service\n```\n\n\u597d\u4e86\u3002\u8fd9\u56de\u8c8c\u4f3c\u6210\u529f\u4e86\u3002\u7528mysql\u6570\u636e\u5e93\u7ba1\u7406\u8f6f\u4ef6\uff0c\u8fde\u63a5\u4e00\u4e0bmysql\u3002\u63d0\u793a\u8fde\u63a5\u4e0d\u6210\u529f\uff0c\u6b63\u5e38\u3002\u5237\u65b0\u4e00\u4e0b\u6743\u9650\n\n```language\nmysql -u root -p\n\/\/ \u8f93\u5165\u521a\u521a\u8bbe\u7f6e\u7684\u5bc6\u7801 \u56de\u8f66 \u8fdb\u5165mysql \u63a7\u5236\u53f0\nflush privileges;\n\/\/ \u518d\u6b21\u8fde\u63a5\uff0c\u767b\u9646\u4e0a\u53bb\u4e86\uff01\n```\n\u597d\u4e86\uff0capache + php + mysql \u5df2\u7ecf\u987a\u5229\u5b89\u88c5\u4e0a\u4e86\u3002\n\n\u660e\u5929\u63a5\u7740\u6363\u9f13 \u865a\u62df\u673a\u7684\u914d\u7f6e\u3002\n\n**\u603b\u7ed3**\n\nCentOS7 \u66f4\u6362\u4e86\u5927\u91cf\u7684\u547d\u4ee4\uff0c\u6709\u5f88\u591a\u4e1c\u897f\u548c6.5\u6709\u76f8\u5f53\u7684\u5dee\u5f02\u3002\u5fc5\u987b\u597d\u597d\u8c03\u6574\u4e00\u4e0b\u3002","private":0,"tags":"centos,mysql,php","categories":"Linux\\CentOS","channel":"12","type":"original","status":1},"error":"","status":true}