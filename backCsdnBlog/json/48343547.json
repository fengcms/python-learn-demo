{"data":{"id":"48343547","title":"javascript \u5b9e\u73b0\u7b80\u5355 ajax \u6548\u679c\uff08\u4e0d\u652f\u6301\u8de8\u57df\uff09","articleedittype":1,"description":"javascript \u5b9e\u73b0\u7b80\u5355 ajax \u6548\u679c\uff08\u4e0d\u652f\u6301\u8de8\u57df\uff09\u4e00\u822c\u60c5\u51b5\u4e0b\uff0c\u8fd9\u4e9b\u6548\u679c\u6211\u90fd\u662f\u7528JQ\u5b9e\u73b0\u3002\u4f46\u662f\uff0c\u67d0\u4e9b\u4e0d\u80fd\u7528JQ\u7684\u9879\u76ee\uff0c\u8fd8\u662f\u7814\u7a76\u4e00\u4e0b\u539f\u751f\u6bd4\u8f83\u597d\u3002\u4ee5\u4e0b\u5185\u5bb9\u662f\u8f6c\u8f7d\u7684\u3002\u5bf9\u6211\u751a\u6709\u52a9\u76ca\u3002\u4ec0\u4e48\u662f ajaxajax \u5373\u201cAsynchronous JavaScript and XML\u201d\uff08\u5f02\u6b65 JavaScript \u548c XML\uff09\uff0c\u4e5f\u5c31\u662f\u65e0\u5237\u65b0\u6570\u636e\u8bfb\u53d6\u3002http \u8bf7\u6c42\u9996\u5148\u9700\u8981\u4e86\u89e3 http \u8bf7\u6c42\u7684\u65b9\u6cd5\uff08GET \u548c","content":"<h2 id=\"javascript-\u5b9e\u73b0\u7b80\u5355-ajax-\u6548\u679c\u4e0d\u652f\u6301\u8de8\u57df\">javascript \u5b9e\u73b0\u7b80\u5355 ajax \u6548\u679c\uff08\u4e0d\u652f\u6301\u8de8\u57df\uff09<\/h2>\n\n<p>\u4e00\u822c\u60c5\u51b5\u4e0b\uff0c\u8fd9\u4e9b\u6548\u679c\u6211\u90fd\u662f\u7528JQ\u5b9e\u73b0\u3002\u4f46\u662f\uff0c\u67d0\u4e9b\u4e0d\u80fd\u7528JQ\u7684\u9879\u76ee\uff0c\u8fd8\u662f\u7814\u7a76\u4e00\u4e0b\u539f\u751f\u6bd4\u8f83\u597d\u3002<\/p>\n\n<p>\u4ee5\u4e0b\u5185\u5bb9\u662f\u8f6c\u8f7d\u7684\u3002\u5bf9\u6211\u751a\u6709\u52a9\u76ca\u3002<\/p>\n\n<hr>\n\n<h2 id=\"\u4ec0\u4e48\u662f-ajax\">\u4ec0\u4e48\u662f ajax<\/h2>\n\n<p>ajax \u5373\u201cAsynchronous JavaScript and XML\u201d\uff08\u5f02\u6b65 JavaScript \u548c XML\uff09\uff0c\u4e5f\u5c31\u662f\u65e0\u5237\u65b0\u6570\u636e\u8bfb\u53d6\u3002<\/p>\n\n\n\n<h2 id=\"http-\u8bf7\u6c42\">http \u8bf7\u6c42<\/h2>\n\n<p>\u9996\u5148\u9700\u8981\u4e86\u89e3 http \u8bf7\u6c42\u7684\u65b9\u6cd5\uff08GET \u548c POST\uff09\u3002<\/p>\n\n<p>GET \u7528\u4e8e\u83b7\u53d6\u6570\u636e\u3002GET \u662f\u5728 URL \u4e2d\u4f20\u9012\u6570\u636e\uff0c\u5b83\u7684\u5b89\u5168\u6027\u4f4e\uff0c\u5bb9\u91cf\u4f4e\u3002<\/p>\n\n<p>POST \u7528\u4e8e\u4e0a\u4f20\u6570\u636e\u3002POST \u5b89\u5168\u6027\u4e00\u822c\uff0c\u5bb9\u91cf\u51e0\u4e4e\u65e0\u9650\u3002<\/p>\n\n\n\n<h2 id=\"ajax-\u8bf7\u6c42\">ajax \u8bf7\u6c42<\/h2>\n\n<p>ajax \u8bf7\u6c42\u4e00\u822c\u5206\u6210 4 \u4e2a\u6b65\u9aa4\u3002<\/p>\n\n\n\n<h3 id=\"1\u521b\u5efa-ajax-\u5bf9\u8c61\">1\u3001\u521b\u5efa ajax \u5bf9\u8c61<\/h3>\n\n<p>\u5728\u521b\u5efa\u5bf9\u8c61\u65f6\uff0c\u6709\u517c\u5bb9\u95ee\u9898\uff1a<\/p>\n\n\n\n<pre class=\"prettyprint\"><code class=\" hljs cs\"><span class=\"hljs-keyword\">var<\/span> oAjax = <span class=\"hljs-keyword\">new<\/span> XMLHttpRequest();   <span class=\"hljs-comment\">\/\/for ie6 \u4ee5\u4e0a<\/span>\n<span class=\"hljs-keyword\">var<\/span> oAjax = <span class=\"hljs-keyword\">new<\/span> ActiveXObject(<span class=\"hljs-string\">'Microsoft.XMLHTTP'<\/span>); <span class=\"hljs-comment\">\/\/for ie6<\/span><\/code><\/pre>\n\n<p>\u5408\u5e76\u4e0a\u9762\u7684\u4ee3\u7801\uff1a<\/p>\n\n\n\n<pre class=\"prettyprint\"><code class=\" hljs coffeescript\"><span class=\"hljs-reserved\">var<\/span> oAjax = <span class=\"hljs-literal\">null<\/span>;\n<span class=\"hljs-keyword\">if<\/span>(<span class=\"hljs-built_in\">window<\/span>.XMLHttpRequest){\n    oAjax = <span class=\"hljs-keyword\">new<\/span> XMLHttpRequest();\n}<span class=\"hljs-keyword\">else<\/span>{\n    oAjax = <span class=\"hljs-keyword\">new<\/span> ActiveXObject(<span class=\"hljs-string\">'Microsoft.XMLHTTP'<\/span>);\n}<\/code><\/pre>\n\n\n\n<h3 id=\"2\u8fde\u63a5\u670d\u52a1\u5668\">2\u3001\u8fde\u63a5\u670d\u52a1\u5668<\/h3>\n\n<p>\u5728\u8fd9\u91cc\u4f1a\u7528\u5230 open() \u65b9\u6cd5\u3002open() \u65b9\u6cd5\u6709\u4e09\u4e2a\u53c2\u6570\uff0c\u7b2c\u4e00\u4e2a\u53c2\u6570\u662f\u8fde\u63a5\u65b9\u6cd5\u5373 GET \u548c POST\uff0c\u7b2c\u4e8c\u4e2a\u53c2\u6570\u662f URL \u5373\u6240\u8981\u8bfb\u53d6\u6570\u636e\u7684\u5730\u5740\uff0c\u7b2c\u4e09\u4e2a\u53c2\u6570\u662f\u5426\u5f02\u6b65\uff0c\u5b83\u662f\u4e2a\u5e03\u5c14\u503c\uff0ctrue \u4e3a\u5f02\u6b65\uff0cfalse \u4e3a\u540c\u6b65\u3002<\/p>\n\n\n\n<pre class=\"prettyprint\"><code class=\" hljs ocaml\">oAjax.<span class=\"hljs-keyword\">open<\/span>(<span class=\"hljs-string\">'GET'<\/span>, url, <span class=\"hljs-keyword\">true<\/span>);<\/code><\/pre>\n\n\n\n<h3 id=\"3\u53d1\u9001\u8bf7\u6c42\">3\u3001\u53d1\u9001\u8bf7\u6c42<\/h3>\n\n<p>send() \u65b9\u6cd5\u3002<\/p>\n\n\n\n<pre class=\"prettyprint\"><code class=\" hljs perl\">oAjax.<span class=\"hljs-keyword\">send<\/span>();<\/code><\/pre>\n\n\n\n<h3 id=\"4\u63a5\u6536\u8fd4\u56de\u503c\">4\u3001\u63a5\u6536\u8fd4\u56de\u503c<\/h3>\n\n<p>onreadystatechange \u4e8b\u4ef6\u3002\u5f53\u8bf7\u6c42\u88ab\u53d1\u9001\u5230\u670d\u52a1\u5668\u65f6\uff0c\u6211\u4eec\u9700\u8981\u6267\u884c\u4e00\u4e9b\u57fa\u4e8e\u54cd\u5e94\u7684\u4efb\u52a1\u3002\u6bcf\u5f53 readyState \u6539\u53d8\u65f6\uff0c\u5c31\u4f1a\u89e6\u53d1 onreadystatechange \u4e8b\u4ef6\u3002<\/p>\n\n<p>readyState\uff1a\u8bf7\u6c42\u72b6\u6001\uff0c\u8fd4\u56de\u7684\u662f\u6574\u6570\uff080-4\uff09\u3002<\/p>\n\n<p>0\uff08\u672a\u521d\u59cb\u5316\uff09\uff1a\u8fd8\u6ca1\u6709\u8c03\u7528 open() \u65b9\u6cd5\u3002<\/p>\n\n<p>1\uff08\u8f7d\u5165\uff09\uff1a\u5df2\u8c03\u7528 send() \u65b9\u6cd5\uff0c\u6b63\u5728\u53d1\u9001\u8bf7\u6c42\u3002<\/p>\n\n<p>2\uff08\u8f7d\u5165\u5b8c\u6210\uff09\uff1asend() \u65b9\u6cd5\u5b8c\u6210\uff0c\u5df2\u6536\u5230\u5168\u90e8\u54cd\u5e94\u5185\u5bb9\u3002<\/p>\n\n<p>3\uff08\u89e3\u6790\uff09\uff1a\u6b63\u5728\u89e3\u6790\u54cd\u5e94\u5185\u5bb9\u3002<\/p>\n\n<p>4\uff08\u5b8c\u6210\uff09\uff1a\u54cd\u5e94\u5185\u5bb9\u89e3\u6790\u5b8c\u6210\uff0c\u53ef\u4ee5\u5728\u5ba2\u6237\u7aef\u8c03\u7528\u3002<\/p>\n\n<p>status\uff1a\u8bf7\u6c42\u7ed3\u679c\uff0c\u8fd4\u56de 200 \u6216\u8005 404\u3002<\/p>\n\n<p>200 =&gt; \u6210\u529f\u3002<\/p>\n\n<p>404 =&gt; \u5931\u8d25\u3002<\/p>\n\n<p>responseText\uff1a\u8fd4\u56de\u5185\u5bb9\uff0c\u5373\u6211\u4eec\u6240\u9700\u8981\u8bfb\u53d6\u7684\u6570\u636e\u3002\u9700\u8981\u6ce8\u610f\u7684\u662f\uff1aresponseText \u8fd4\u56de\u7684\u662f\u5b57\u7b26\u4e32\u3002<\/p>\n\n\n\n<pre class=\"prettyprint\"><code class=\" hljs javascript\">oAjax.onreadystatechange=<span class=\"hljs-function\"><span class=\"hljs-keyword\">function<\/span><span class=\"hljs-params\">()<\/span>{<\/span>\n    <span class=\"hljs-keyword\">if<\/span>(oAjax.readyState==<span class=\"hljs-number\">4<\/span>){\n        <span class=\"hljs-keyword\">if<\/span>(oAjax.status==<span class=\"hljs-number\">200<\/span>){\n            fnSucc(oAjax.responseText);\n        }<span class=\"hljs-keyword\">else<\/span>{\n            <span class=\"hljs-keyword\">if<\/span>(fnFaild){\n                fnFaild();\n            }\n        }\n    }\n};<\/code><\/pre>\n\n<p>\u5c06\u4ee5\u4e0a\u4ee3\u7801\u8fdb\u884c\u5c01\u88c5\uff1a<\/p>\n\n<pre class=\"prettyprint\"><code class=\" hljs javascript\"><span class=\"hljs-function\"><span class=\"hljs-keyword\">function<\/span> <span class=\"hljs-title\">ajax<\/span><span class=\"hljs-params\">(url, fnSucc, fnFaild)<\/span>{<\/span>\n    <span class=\"hljs-comment\">\/\/1.\u521b\u5efa\u5bf9\u8c61<\/span>\n    <span class=\"hljs-keyword\">var<\/span> oAjax = <span class=\"hljs-literal\">null<\/span>;\n    <span class=\"hljs-keyword\">if<\/span>(window.XMLHttpRequest){\n        oAjax = <span class=\"hljs-keyword\">new<\/span> XMLHttpRequest();\n    }<span class=\"hljs-keyword\">else<\/span>{\n        oAjax = <span class=\"hljs-keyword\">new<\/span> ActiveXObject(<span class=\"hljs-string\">\"Microsoft.XMLHTTP\"<\/span>);\n    }\n\n    <span class=\"hljs-comment\">\/\/2.\u8fde\u63a5\u670d\u52a1\u5668  <\/span>\n    oAjax.open(<span class=\"hljs-string\">'GET'<\/span>, url, <span class=\"hljs-literal\">true<\/span>);   <span class=\"hljs-comment\">\/\/open(\u65b9\u6cd5, url, \u662f\u5426\u5f02\u6b65)<\/span>\n\n    <span class=\"hljs-comment\">\/\/3.\u53d1\u9001\u8bf7\u6c42  <\/span>\n    oAjax.send();\n\n    <span class=\"hljs-comment\">\/\/4.\u63a5\u6536\u8fd4\u56de<\/span>\n    oAjax.onreadystatechange = <span class=\"hljs-function\"><span class=\"hljs-keyword\">function<\/span><span class=\"hljs-params\">()<\/span>{<\/span>  <span class=\"hljs-comment\">\/\/OnReadyStateChange\u4e8b\u4ef6<\/span>\n        <span class=\"hljs-keyword\">if<\/span>(oAjax.readyState == <span class=\"hljs-number\">4<\/span>){  <span class=\"hljs-comment\">\/\/4\u4e3a\u5b8c\u6210<\/span>\n            <span class=\"hljs-keyword\">if<\/span>(oAjax.status == <span class=\"hljs-number\">200<\/span>){    <span class=\"hljs-comment\">\/\/200\u4e3a\u6210\u529f<\/span>\n                fnSucc(oAjax.responseText) \n            }<span class=\"hljs-keyword\">else<\/span>{\n                <span class=\"hljs-keyword\">if<\/span>(fnFaild){\n                    fnFaild();\n                }\n            }\n        }\n    };\n}<\/code><\/pre>\n\n\n\n<h4 id=\"\u6700\u540e\u9644\u4e0a\u5b9e\u4f8b\">\u6700\u540e\u9644\u4e0a\u5b9e\u4f8b\uff1a<\/h4>\n\n\n\n<pre class=\"prettyprint\"><code class=\" hljs xml\"><span class=\"hljs-doctype\">&lt;!DOCTYPE HTML&gt;<\/span>\n<span class=\"hljs-tag\">&lt;<span class=\"hljs-title\">html<\/span> <span class=\"hljs-attribute\">lang<\/span>=<span class=\"hljs-value\">\"en-US\"<\/span>&gt;<\/span>\n<span class=\"hljs-tag\">&lt;<span class=\"hljs-title\">head<\/span>&gt;<\/span>\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-title\">meta<\/span> <span class=\"hljs-attribute\">charset<\/span>=<span class=\"hljs-value\">\"UTF-8\"<\/span>&gt;<\/span>\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-title\">title<\/span>&gt;<\/span>ajax\u57fa\u7840<span class=\"hljs-tag\">&lt;\/<span class=\"hljs-title\">title<\/span>&gt;<\/span>\n<span class=\"hljs-tag\">&lt;\/<span class=\"hljs-title\">head<\/span>&gt;<\/span>\n<span class=\"hljs-tag\">&lt;<span class=\"hljs-title\">body<\/span>&gt;<\/span>\n    \u70b9\u51fb\u6309\u94ae\u7684\u65f6\u5019\uff0c\u8bfb\u53d6abc.txt<span class=\"hljs-tag\">&lt;<span class=\"hljs-title\">input<\/span> <span class=\"hljs-attribute\">id<\/span>=<span class=\"hljs-value\">\"btn\"<\/span> <span class=\"hljs-attribute\">type<\/span>=<span class=\"hljs-value\">\"button\"<\/span> <span class=\"hljs-attribute\">value<\/span>=<span class=\"hljs-value\">\"\u8bfb\u53d6\"<\/span>\/&gt;<\/span><span class=\"hljs-tag\">&lt;<span class=\"hljs-title\">br<\/span>\/&gt;<\/span>\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-title\">div<\/span> <span class=\"hljs-attribute\">id<\/span>=<span class=\"hljs-value\">\"con\"<\/span>&gt;<\/span><span class=\"hljs-tag\">&lt;\/<span class=\"hljs-title\">div<\/span>&gt;<\/span>\n<span class=\"hljs-tag\">&lt;\/<span class=\"hljs-title\">body<\/span>&gt;<\/span>\n<span class=\"hljs-tag\">&lt;\/<span class=\"hljs-title\">html<\/span>&gt;<\/span>\n<span class=\"hljs-tag\">&lt;<span class=\"hljs-title\">script<\/span> <span class=\"hljs-attribute\">type<\/span>=<span class=\"hljs-value\">\"text\/javascript\"<\/span> <span class=\"hljs-attribute\">src<\/span>=<span class=\"hljs-value\">\"ajax.js\"<\/span>&gt;<\/span><span class=\"javascript\"><\/span><span class=\"hljs-tag\">&lt;\/<span class=\"hljs-title\">script<\/span>&gt;<\/span>\n<span class=\"hljs-tag\">&lt;<span class=\"hljs-title\">script<\/span> <span class=\"hljs-attribute\">type<\/span>=<span class=\"hljs-value\">\"text\/javascript\"<\/span>&gt;<\/span><span class=\"javascript\">\nwindow.onload = <span class=\"hljs-function\"><span class=\"hljs-keyword\">function<\/span><span class=\"hljs-params\">()<\/span>{<\/span>\n    <span class=\"hljs-keyword\">var<\/span> oBtn = document.getElementById(<span class=\"hljs-string\">'btn'<\/span>);\n    <span class=\"hljs-keyword\">var<\/span> oCon = document.getElementById(<span class=\"hljs-string\">'con'<\/span>);\n    oBtn.onclick = <span class=\"hljs-function\"><span class=\"hljs-keyword\">function<\/span><span class=\"hljs-params\">()<\/span>{<\/span>\n        ajax(<span class=\"hljs-string\">'abc.txt'<\/span>,<span class=\"hljs-function\"><span class=\"hljs-keyword\">function<\/span><span class=\"hljs-params\">(str)<\/span>{<\/span>\n            oCon.innerHTML = str;\n        });\n    }\n}\n<\/span><span class=\"hljs-tag\">&lt;\/<span class=\"hljs-title\">script<\/span>&gt;<\/span><\/code><\/pre>\n\n<p>\u539f\u6587\u94fe\u63a5\uff1a<a href=\"http:\/\/www.cnblogs.com\/yjzhu\/archive\/2013\/01\/28\/2879542.html\">http:\/\/www.cnblogs.com\/yjzhu\/archive\/2013\/01\/28\/2879542.html<\/a> <\/p>\n\n<p>\u7ecf\u8fc7\u6d4b\u8bd5\uff0c\u4e0d\u652f\u6301\u8de8\u57df\uff0c\u5e76\u4e14\u5fc5\u987b\u5728\u670d\u52a1\u5668\u73af\u5883\u4e0b\u8fd0\u884c\u624d\u80fd\u6210\u529f\u3002\u76f4\u63a5\u6253\u5f00html\u6587\u4ef6\u7684\u5f62\u5f0f\uff0c\u4f1a\u63d0\u793a\u9519\u8bef\u7684\u3002<\/p>","markdowncontent":"##javascript \u5b9e\u73b0\u7b80\u5355 ajax \u6548\u679c\uff08\u4e0d\u652f\u6301\u8de8\u57df\uff09\n\u4e00\u822c\u60c5\u51b5\u4e0b\uff0c\u8fd9\u4e9b\u6548\u679c\u6211\u90fd\u662f\u7528JQ\u5b9e\u73b0\u3002\u4f46\u662f\uff0c\u67d0\u4e9b\u4e0d\u80fd\u7528JQ\u7684\u9879\u76ee\uff0c\u8fd8\u662f\u7814\u7a76\u4e00\u4e0b\u539f\u751f\u6bd4\u8f83\u597d\u3002\n\n\u4ee5\u4e0b\u5185\u5bb9\u662f\u8f6c\u8f7d\u7684\u3002\u5bf9\u6211\u751a\u6709\u52a9\u76ca\u3002\n\n----------\n\n##\u4ec0\u4e48\u662f ajax\najax \u5373\u201cAsynchronous JavaScript and XML\u201d\uff08\u5f02\u6b65 JavaScript \u548c XML\uff09\uff0c\u4e5f\u5c31\u662f\u65e0\u5237\u65b0\u6570\u636e\u8bfb\u53d6\u3002\n\n##http \u8bf7\u6c42\n\u9996\u5148\u9700\u8981\u4e86\u89e3 http \u8bf7\u6c42\u7684\u65b9\u6cd5\uff08GET \u548c POST\uff09\u3002\n\nGET \u7528\u4e8e\u83b7\u53d6\u6570\u636e\u3002GET \u662f\u5728 URL \u4e2d\u4f20\u9012\u6570\u636e\uff0c\u5b83\u7684\u5b89\u5168\u6027\u4f4e\uff0c\u5bb9\u91cf\u4f4e\u3002\n\nPOST \u7528\u4e8e\u4e0a\u4f20\u6570\u636e\u3002POST \u5b89\u5168\u6027\u4e00\u822c\uff0c\u5bb9\u91cf\u51e0\u4e4e\u65e0\u9650\u3002\n\n##ajax \u8bf7\u6c42\najax \u8bf7\u6c42\u4e00\u822c\u5206\u6210 4 \u4e2a\u6b65\u9aa4\u3002\n\n###1\u3001\u521b\u5efa ajax \u5bf9\u8c61\n\u5728\u521b\u5efa\u5bf9\u8c61\u65f6\uff0c\u6709\u517c\u5bb9\u95ee\u9898\uff1a\n```\nvar oAjax = new XMLHttpRequest();   \/\/for ie6 \u4ee5\u4e0a\nvar oAjax = new ActiveXObject('Microsoft.XMLHTTP'); \/\/for ie6\n```\n\u5408\u5e76\u4e0a\u9762\u7684\u4ee3\u7801\uff1a\n```\nvar oAjax = null;\nif(window.XMLHttpRequest){\n    oAjax = new XMLHttpRequest();\n}else{\n    oAjax = new ActiveXObject('Microsoft.XMLHTTP');\n}\n```\n\n###2\u3001\u8fde\u63a5\u670d\u52a1\u5668\n\u5728\u8fd9\u91cc\u4f1a\u7528\u5230 open() \u65b9\u6cd5\u3002open() \u65b9\u6cd5\u6709\u4e09\u4e2a\u53c2\u6570\uff0c\u7b2c\u4e00\u4e2a\u53c2\u6570\u662f\u8fde\u63a5\u65b9\u6cd5\u5373 GET \u548c POST\uff0c\u7b2c\u4e8c\u4e2a\u53c2\u6570\u662f URL \u5373\u6240\u8981\u8bfb\u53d6\u6570\u636e\u7684\u5730\u5740\uff0c\u7b2c\u4e09\u4e2a\u53c2\u6570\u662f\u5426\u5f02\u6b65\uff0c\u5b83\u662f\u4e2a\u5e03\u5c14\u503c\uff0ctrue \u4e3a\u5f02\u6b65\uff0cfalse \u4e3a\u540c\u6b65\u3002\n```\noAjax.open('GET', url, true);\n```\n###3\u3001\u53d1\u9001\u8bf7\u6c42\nsend() \u65b9\u6cd5\u3002\n```\noAjax.send();\n```\n###4\u3001\u63a5\u6536\u8fd4\u56de\u503c\nonreadystatechange \u4e8b\u4ef6\u3002\u5f53\u8bf7\u6c42\u88ab\u53d1\u9001\u5230\u670d\u52a1\u5668\u65f6\uff0c\u6211\u4eec\u9700\u8981\u6267\u884c\u4e00\u4e9b\u57fa\u4e8e\u54cd\u5e94\u7684\u4efb\u52a1\u3002\u6bcf\u5f53 readyState \u6539\u53d8\u65f6\uff0c\u5c31\u4f1a\u89e6\u53d1 onreadystatechange \u4e8b\u4ef6\u3002\n\nreadyState\uff1a\u8bf7\u6c42\u72b6\u6001\uff0c\u8fd4\u56de\u7684\u662f\u6574\u6570\uff080-4\uff09\u3002\n\n0\uff08\u672a\u521d\u59cb\u5316\uff09\uff1a\u8fd8\u6ca1\u6709\u8c03\u7528 open() \u65b9\u6cd5\u3002\n\n1\uff08\u8f7d\u5165\uff09\uff1a\u5df2\u8c03\u7528 send() \u65b9\u6cd5\uff0c\u6b63\u5728\u53d1\u9001\u8bf7\u6c42\u3002\n\n2\uff08\u8f7d\u5165\u5b8c\u6210\uff09\uff1asend() \u65b9\u6cd5\u5b8c\u6210\uff0c\u5df2\u6536\u5230\u5168\u90e8\u54cd\u5e94\u5185\u5bb9\u3002\n\n3\uff08\u89e3\u6790\uff09\uff1a\u6b63\u5728\u89e3\u6790\u54cd\u5e94\u5185\u5bb9\u3002\n\n4\uff08\u5b8c\u6210\uff09\uff1a\u54cd\u5e94\u5185\u5bb9\u89e3\u6790\u5b8c\u6210\uff0c\u53ef\u4ee5\u5728\u5ba2\u6237\u7aef\u8c03\u7528\u3002\n\nstatus\uff1a\u8bf7\u6c42\u7ed3\u679c\uff0c\u8fd4\u56de 200 \u6216\u8005 404\u3002\n\n200 => \u6210\u529f\u3002\n\n404 => \u5931\u8d25\u3002\n\nresponseText\uff1a\u8fd4\u56de\u5185\u5bb9\uff0c\u5373\u6211\u4eec\u6240\u9700\u8981\u8bfb\u53d6\u7684\u6570\u636e\u3002\u9700\u8981\u6ce8\u610f\u7684\u662f\uff1aresponseText \u8fd4\u56de\u7684\u662f\u5b57\u7b26\u4e32\u3002\n\n```\noAjax.onreadystatechange=function(){\n    if(oAjax.readyState==4){\n        if(oAjax.status==200){\n            fnSucc(oAjax.responseText);\n        }else{\n            if(fnFaild){\n                fnFaild();\n            }\n        }\n    }\n};\n```\n\u5c06\u4ee5\u4e0a\u4ee3\u7801\u8fdb\u884c\u5c01\u88c5\uff1a\n\n```\nfunction ajax(url, fnSucc, fnFaild){\n    \/\/1.\u521b\u5efa\u5bf9\u8c61\n    var oAjax = null;\n    if(window.XMLHttpRequest){\n        oAjax = new XMLHttpRequest();\n    }else{\n        oAjax = new ActiveXObject(\"Microsoft.XMLHTTP\");\n    }\n      \n    \/\/2.\u8fde\u63a5\u670d\u52a1\u5668  \n    oAjax.open('GET', url, true);   \/\/open(\u65b9\u6cd5, url, \u662f\u5426\u5f02\u6b65)\n      \n    \/\/3.\u53d1\u9001\u8bf7\u6c42  \n    oAjax.send();\n      \n    \/\/4.\u63a5\u6536\u8fd4\u56de\n    oAjax.onreadystatechange = function(){  \/\/OnReadyStateChange\u4e8b\u4ef6\n        if(oAjax.readyState == 4){  \/\/4\u4e3a\u5b8c\u6210\n            if(oAjax.status == 200){    \/\/200\u4e3a\u6210\u529f\n                fnSucc(oAjax.responseText) \n            }else{\n                if(fnFaild){\n                    fnFaild();\n                }\n            }\n        }\n    };\n}\n```\n####\u6700\u540e\u9644\u4e0a\u5b9e\u4f8b\uff1a\n```\n<!DOCTYPE HTML>\n<html lang=\"en-US\">\n<head>\n    <meta charset=\"UTF-8\">\n    <title>ajax\u57fa\u7840<\/title>\n<\/head>\n<body>\n    \u70b9\u51fb\u6309\u94ae\u7684\u65f6\u5019\uff0c\u8bfb\u53d6abc.txt<input id=\"btn\" type=\"button\" value=\"\u8bfb\u53d6\"\/><br\/>\n    <div id=\"con\"><\/div>\n<\/body>\n<\/html>\n<script type=\"text\/javascript\" src=\"ajax.js\"><\/script>\n<script type=\"text\/javascript\">\nwindow.onload = function(){\n    var oBtn = document.getElementById('btn');\n    var oCon = document.getElementById('con');\n    oBtn.onclick = function(){\n        ajax('abc.txt',function(str){\n            oCon.innerHTML = str;\n        });\n    }\n}\n<\/script>\n```\n\u539f\u6587\u94fe\u63a5\uff1ahttp:\/\/www.cnblogs.com\/yjzhu\/archive\/2013\/01\/28\/2879542.html \n\n\u7ecf\u8fc7\u6d4b\u8bd5\uff0c\u4e0d\u652f\u6301\u8de8\u57df\uff0c\u5e76\u4e14\u5fc5\u987b\u5728\u670d\u52a1\u5668\u73af\u5883\u4e0b\u8fd0\u884c\u624d\u80fd\u6210\u529f\u3002\u76f4\u63a5\u6253\u5f00html\u6587\u4ef6\u7684\u5f62\u5f0f\uff0c\u4f1a\u63d0\u793a\u9519\u8bef\u7684\u3002","private":0,"tags":"javascript,ajax,\u5f02\u6b65","categories":"JavaScript","channel":"14","type":"repost","status":1},"error":"","status":true}