{"data":{"id":"49903427","title":"CentOS7 \u521d\u6b21\u5b89\u88c5\u8bb0\u5f55\uff08\u56db\uff09\u4fee\u6539mysql\u6570\u636e\u5e93\u6570\u636e\u5b58\u50a8\u4f4d\u7f6e","articleedittype":1,"description":"CentOS7 \u521d\u6b21\u5b89\u88c5\u8bb0\u5f55\uff08\u56db\uff09\u4fee\u6539mysql\u6570\u636e\u5e93\u6570\u636e\u5b58\u50a8\u4f4d\u7f6e\u6628\u5929\u8dcc\u8dcc\u649e\u649e\u7ec8\u4e8e\u7b97\u628a\u670d\u52a1\u5668\u57fa\u7840\u7ed9\u642d\u5efa\u597d\u4e86\u3002\u4f46\u662f\u90fd\u53ea\u662f\u9ed8\u8ba4\u72b6\u6001\uff0c\u73b0\u5728\uff0c\u6211\u60f3\u7ed9\u670d\u52a1\u5668\u914d\u7f6e\u5230\u6211\u987a\u624b\u4f7f\u7528\u7684\u5730\u6b65\u79fb\u52a8 mysql \u6570\u636e\u5e93\u6587\u4ef6\u5b58\u50a8\u4f4d\u7f6e\u9ed8\u8ba4mysql\u5b58\u50a8\u7684\u4f4d\u7f6e\u5728\u7cfb\u7edf\u76d8\u4e0a\u3002\u4e00\u822c\u6211\u4eec\u5728\u4f7f\u7528\u963f\u91cc\u4e91\u7b49\u670d\u52a1\u5668\u7684\u65f6\u5019\u90fd\u4f1a\u914d\u5907\u4e00\u4e2a\u6570\u636e\u76d8\u7528\u6765\u5b58\u50a8\u6570\u636e\u3002\u6240\u4ee5\uff0c\u4eca\u5929\u5b66\u4e60\u4e00\u4e0b\u5982\u4f55\u79fb\u52a8 \u6570\u636e\u5e93\u6587\u4ef6\u5b58\u50a8\u4f4d\u7f6e\u3002\u9996\u5148\uff0c\u5728 home \u4e0b\u5efa\u7acb\u6587\u4ef6\u5939 service","content":"<h1 id=\"centos7-\u521d\u6b21\u5b89\u88c5\u8bb0\u5f55\u56db\u4fee\u6539mysql\u6570\u636e\u5e93\u6570\u636e\u5b58\u50a8\u4f4d\u7f6e\">CentOS7 \u521d\u6b21\u5b89\u88c5\u8bb0\u5f55\uff08\u56db\uff09\u4fee\u6539mysql\u6570\u636e\u5e93\u6570\u636e\u5b58\u50a8\u4f4d\u7f6e<\/h1>\n\n<p>\u6628\u5929\u8dcc\u8dcc\u649e\u649e\u7ec8\u4e8e\u7b97\u628a\u670d\u52a1\u5668\u57fa\u7840\u7ed9\u642d\u5efa\u597d\u4e86\u3002\u4f46\u662f\u90fd\u53ea\u662f\u9ed8\u8ba4\u72b6\u6001\uff0c\u73b0\u5728\uff0c\u6211\u60f3\u7ed9\u670d\u52a1\u5668\u914d\u7f6e\u5230\u6211\u987a\u624b\u4f7f\u7528\u7684\u5730\u6b65<\/p>\n\n\n\n<h2 id=\"\u79fb\u52a8-mysql-\u6570\u636e\u5e93\u6587\u4ef6\u5b58\u50a8\u4f4d\u7f6e\">\u79fb\u52a8 mysql \u6570\u636e\u5e93\u6587\u4ef6\u5b58\u50a8\u4f4d\u7f6e<\/h2>\n\n<p>\u9ed8\u8ba4mysql\u5b58\u50a8\u7684\u4f4d\u7f6e\u5728\u7cfb\u7edf\u76d8\u4e0a\u3002\u4e00\u822c\u6211\u4eec\u5728\u4f7f\u7528\u963f\u91cc\u4e91\u7b49\u670d\u52a1\u5668\u7684\u65f6\u5019\u90fd\u4f1a\u914d\u5907\u4e00\u4e2a\u6570\u636e\u76d8\u7528\u6765\u5b58\u50a8\u6570\u636e\u3002\u6240\u4ee5\uff0c\u4eca\u5929\u5b66\u4e60\u4e00\u4e0b\u5982\u4f55\u79fb\u52a8 \u6570\u636e\u5e93\u6587\u4ef6\u5b58\u50a8\u4f4d\u7f6e\u3002<\/p>\n\n<p>\u9996\u5148\uff0c\u5728 <code>home<\/code> \u4e0b\u5efa\u7acb\u6587\u4ef6\u5939 <code>service\/mysql\/data\/<\/code> \u65b0\u5efa\u6587\u4ef6\u5939\u547d\u4ee4\u4e3a <code>mkdir<\/code> \u8c22\u5929\u8c22\u5730\uff0c\u4f5c\u4e3a\u4e3a\u6570\u4e0d\u591a\u6211\u80fd\u8bb0\u4f4f\u7684\u547d\u4ee4\uff0c\u8fd9\u4e2a\u547d\u4ee4\u6ca1\u6709\u53d8\u5316\u3002<\/p>\n\n<p>\u505c\u6b62MYSQL\u670d\u52a1 <code>systemctl stop mariadb.service<\/code> <\/p>\n\n<p>\u79fb\u52a8 mysql \u6570\u636e\u5e93\u6587\u4ef6 <code>mv \/var\/lib\/mysql\u3000\/home\/service\/mysql\/data\/<\/code><\/p>\n\n<p>\u8fdb\u5165<code>\/etc\/<\/code>\u6587\u4ef6\u5939 \u770b\u4e00\u4e0b\u6709\u6ca1\u6709\u4e00\u4e2a <code>my.cnf<\/code>\u7684\u6587\u4ef6\u3002<\/p>\n\n<p>\u7f16\u8f91\u914d\u7f6e\u6587\u4ef6 <code>vi \/etc\/my.cnf<\/code>\u3002<\/p>\n\n<p>\u628a\u5176\u4e2d\u7684 <code>datadir<\/code> \u548c <code>socket<\/code> \u4fee\u6539\u4e3a\u5982\u4e0b<\/p>\n\n\n\n<pre class=\"prettyprint\"><code class=\"language-language hljs haskell\"><span class=\"hljs-title\">datadir<\/span>=\/home\/service\/mysql\/<span class=\"hljs-typedef\"><span class=\"hljs-keyword\">data<\/span>\/<\/span>\n<span class=\"hljs-title\">socket<\/span>=\/home\/service\/mysql\/<span class=\"hljs-typedef\"><span class=\"hljs-keyword\">data<\/span>\/mysql.sock<\/span><\/code><\/pre>\n\n<p>\u4fdd\u5b58\u9000\u51fa\u6587\u4ef6\u7f16\u8f91\u3002<\/p>\n\n<p>\u91cd\u542fmysql \u670d\u52a1 <code>systemctl start mariadb.service<\/code> \u6211XXXXXX\uff0c\u53c8\u62a5\u9519\uff01\uff01\uff01<\/p>\n\n<p>\u5230 <code>service\/mysql\/data\/<\/code> \u76ee\u5f55\u4e0b\u7785\u4e00\u773c\uff0c\u54a6\uff1f\u548b\u8fd8\u6709\u4e00\u4e2amysql\u6587\u4ef6\u5939\u5462\uff0c\u518d\u8fdb\u53bb\u770b\uff0c\u6211\u52d2\u4e2a\u53bb\uff0c\u6211\u8fd9\u6587\u4ef6\u5939\u5efa\u7684\uff0c\u4e5f\u5fd2\u6df1\u4e86\u5427!_!~<\/p>\n\n<p>\u91cd\u65b0 <code>vi \/etc\/my.cnf<\/code> \u6587\u4ef6\uff0c\u5c06\u4fee\u6539\u4e3a~~~<\/p>\n\n\n\n<pre class=\"prettyprint\"><code class=\"language-language hljs ruby\">datadir=<span class=\"hljs-regexp\">\/home\/service<\/span><span class=\"hljs-regexp\">\/mysql\/data<\/span><span class=\"hljs-regexp\">\/mysql\/<\/span>\nsocket=<span class=\"hljs-regexp\">\/home\/service<\/span><span class=\"hljs-regexp\">\/mysql\/data<\/span><span class=\"hljs-regexp\">\/mysql\/mysql<\/span>.sock<\/code><\/pre>\n\n<p>\u4fdd\u5b58\u9000\u51fa\uff0c\u91cd\u542fmysql\u670d\u52a1 <code>systemctl start mariadb.service<\/code> \u6210\u529f\uff01<\/p>\n\n<p>PS\uff1a\u6211\u4e0b\u56de\u7edd\u5bf9\u4e0d\u8fd9\u4e48\u5efa\u7acb\u6587\u4ef6\u5939\u3002\u3002\u3002\u3002\u7d2f\u6b7b\u4e2a\u5a18\u7684\u4e86~~~<\/p>","markdowncontent":"#CentOS7 \u521d\u6b21\u5b89\u88c5\u8bb0\u5f55\uff08\u56db\uff09\u4fee\u6539mysql\u6570\u636e\u5e93\u6570\u636e\u5b58\u50a8\u4f4d\u7f6e\n\n\u6628\u5929\u8dcc\u8dcc\u649e\u649e\u7ec8\u4e8e\u7b97\u628a\u670d\u52a1\u5668\u57fa\u7840\u7ed9\u642d\u5efa\u597d\u4e86\u3002\u4f46\u662f\u90fd\u53ea\u662f\u9ed8\u8ba4\u72b6\u6001\uff0c\u73b0\u5728\uff0c\u6211\u60f3\u7ed9\u670d\u52a1\u5668\u914d\u7f6e\u5230\u6211\u987a\u624b\u4f7f\u7528\u7684\u5730\u6b65\n\n##\u79fb\u52a8 mysql \u6570\u636e\u5e93\u6587\u4ef6\u5b58\u50a8\u4f4d\u7f6e\n\n\u9ed8\u8ba4mysql\u5b58\u50a8\u7684\u4f4d\u7f6e\u5728\u7cfb\u7edf\u76d8\u4e0a\u3002\u4e00\u822c\u6211\u4eec\u5728\u4f7f\u7528\u963f\u91cc\u4e91\u7b49\u670d\u52a1\u5668\u7684\u65f6\u5019\u90fd\u4f1a\u914d\u5907\u4e00\u4e2a\u6570\u636e\u76d8\u7528\u6765\u5b58\u50a8\u6570\u636e\u3002\u6240\u4ee5\uff0c\u4eca\u5929\u5b66\u4e60\u4e00\u4e0b\u5982\u4f55\u79fb\u52a8 \u6570\u636e\u5e93\u6587\u4ef6\u5b58\u50a8\u4f4d\u7f6e\u3002\n\n\u9996\u5148\uff0c\u5728 `home` \u4e0b\u5efa\u7acb\u6587\u4ef6\u5939 `service\/mysql\/data\/` \u65b0\u5efa\u6587\u4ef6\u5939\u547d\u4ee4\u4e3a `mkdir` \u8c22\u5929\u8c22\u5730\uff0c\u4f5c\u4e3a\u4e3a\u6570\u4e0d\u591a\u6211\u80fd\u8bb0\u4f4f\u7684\u547d\u4ee4\uff0c\u8fd9\u4e2a\u547d\u4ee4\u6ca1\u6709\u53d8\u5316\u3002\n\n\u505c\u6b62MYSQL\u670d\u52a1 `systemctl stop mariadb.service` \n\n\u79fb\u52a8 mysql \u6570\u636e\u5e93\u6587\u4ef6 `mv \/var\/lib\/mysql\u3000\/home\/service\/mysql\/data\/`\n\n\u8fdb\u5165`\/etc\/`\u6587\u4ef6\u5939 \u770b\u4e00\u4e0b\u6709\u6ca1\u6709\u4e00\u4e2a `my.cnf`\u7684\u6587\u4ef6\u3002\n\n\u7f16\u8f91\u914d\u7f6e\u6587\u4ef6 `vi \/etc\/my.cnf`\u3002\n\n\u628a\u5176\u4e2d\u7684 `datadir` \u548c `socket` \u4fee\u6539\u4e3a\u5982\u4e0b\n\n```language\ndatadir=\/home\/service\/mysql\/data\/\nsocket=\/home\/service\/mysql\/data\/mysql.sock\n```\n\u4fdd\u5b58\u9000\u51fa\u6587\u4ef6\u7f16\u8f91\u3002\n\n\u91cd\u542fmysql \u670d\u52a1 `systemctl start mariadb.service` \u6211XXXXXX\uff0c\u53c8\u62a5\u9519\uff01\uff01\uff01\n\n\u5230 `service\/mysql\/data\/` \u76ee\u5f55\u4e0b\u7785\u4e00\u773c\uff0c\u54a6\uff1f\u548b\u8fd8\u6709\u4e00\u4e2amysql\u6587\u4ef6\u5939\u5462\uff0c\u518d\u8fdb\u53bb\u770b\uff0c\u6211\u52d2\u4e2a\u53bb\uff0c\u6211\u8fd9\u6587\u4ef6\u5939\u5efa\u7684\uff0c\u4e5f\u5fd2\u6df1\u4e86\u5427!_!~\n\n\u91cd\u65b0 `vi \/etc\/my.cnf` \u6587\u4ef6\uff0c\u5c06\u4fee\u6539\u4e3a~~~\n```language\ndatadir=\/home\/service\/mysql\/data\/mysql\/\nsocket=\/home\/service\/mysql\/data\/mysql\/mysql.sock\n```\n\u4fdd\u5b58\u9000\u51fa\uff0c\u91cd\u542fmysql\u670d\u52a1 `systemctl start mariadb.service` \u6210\u529f\uff01\n\nPS\uff1a\u6211\u4e0b\u56de\u7edd\u5bf9\u4e0d\u8fd9\u4e48\u5efa\u7acb\u6587\u4ef6\u5939\u3002\u3002\u3002\u3002\u7d2f\u6b7b\u4e2a\u5a18\u7684\u4e86~~~","private":0,"tags":"centos,mysql,\u6570\u636e\u5e93\u5b58\u50a8\u4f4d\u7f6e\u79fb\u52a8","categories":"Linux\\CentOS","channel":"12","type":"original","status":1},"error":"","status":true}