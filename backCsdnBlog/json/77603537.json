{"data":{"id":"77603537","title":"Vue2+VueRouter2+Webpack+Axios \u6784\u5efa\u9879\u76ee\u5b9e\u62182017\u91cd\u5236\u7248\uff08\u516b\uff09\u6e32\u67d3\u4e00\u4e2a\u5217\u8868\u51fa\u6765\u5148","articleedittype":1,"description":"Vue2+VueRouter2+Webpack+Axios \u6784\u5efa\u9879\u76ee\u5b9e\u62182017\u91cd\u5236\u7248\uff08\u516b\uff09\u6e32\u67d3\u4e00\u4e2a\u5217\u8868\u51fa\u6765\u5148\u524d\u60c5\u56de\u987e\u5728\u4e0a\u4e00\u7bc7\u535a\u6587\u300aVue2+VueRouter2+Webpack+Axios \u6784\u5efa\u9879\u76ee\u5b9e\u62182017\u91cd\u5236\u7248\uff08\u4e03\uff09\u521d\u8bc6 *.vue \u6587\u4ef6\u300b\u4e2d\uff0c\u6211\u4eec\u961f vue \u7ec4\u4ef6\u5e94\u8be5\u6709\u4e86\u4e00\u4e2a\u7b80\u5355\u7684\u8ba4\u8bc6\u3002\u5982\u679c\u4f60\u53bb\u770b\u4e86\u5b98\u65b9\u6587\u6863\u7684\u8bdd\uff0c\u518d\u770b\u8fd9\u7bc7\u535a\u6587\u4f1a\u6bd4\u8f83\u7b80\u5355\u3002\u5982\u679c\u4f60\u6ca1\u53bb\u770b\uff0c\u5475\u5475\uff0c\u606d\u559c\u4f60\uff0c\u6211\u559c\u6b22\u4f60\u8fd9\u6837\u7684\u4eba\u3002\u597d\uff0c\u8fd9\u7ae0\u5f00","content":"<h1 id=\"vue2vuerouter2webpackaxios-\u6784\u5efa\u9879\u76ee\u5b9e\u62182017\u91cd\u5236\u7248\u516b\u6e32\u67d3\u4e00\u4e2a\u5217\u8868\u51fa\u6765\u5148\">Vue2+VueRouter2+Webpack+Axios \u6784\u5efa\u9879\u76ee\u5b9e\u62182017\u91cd\u5236\u7248\uff08\u516b\uff09\u6e32\u67d3\u4e00\u4e2a\u5217\u8868\u51fa\u6765\u5148<\/h1>\n\n<h2 id=\"\u524d\u60c5\u56de\u987e\">\u524d\u60c5\u56de\u987e<\/h2>\n\n<p>\u5728\u4e0a\u4e00\u7bc7\u535a\u6587\u300a<a href=\"http:\/\/blog.csdn.net\/fungleo\/article\/details\/77602914\" target=\"_blank\">Vue2+VueRouter2+Webpack+Axios \u6784\u5efa\u9879\u76ee\u5b9e\u62182017\u91cd\u5236\u7248\uff08\u4e03\uff09\u521d\u8bc6 *.vue \u6587\u4ef6<\/a>\u300b\u4e2d\uff0c\u6211\u4eec\u961f <code>vue<\/code> \u7ec4\u4ef6\u5e94\u8be5\u6709\u4e86\u4e00\u4e2a\u7b80\u5355\u7684\u8ba4\u8bc6\u3002\u5982\u679c\u4f60\u53bb\u770b\u4e86\u5b98\u65b9\u6587\u6863\u7684\u8bdd\uff0c\u518d\u770b\u8fd9\u7bc7\u535a\u6587\u4f1a\u6bd4\u8f83\u7b80\u5355\u3002\u5982\u679c\u4f60\u6ca1\u53bb\u770b\uff0c\u5475\u5475\uff0c\u606d\u559c\u4f60\uff0c\u6211\u559c\u6b22\u4f60\u8fd9\u6837\u7684\u4eba\u3002<\/p>\n\n<p>\u597d\uff0c\u8fd9\u7ae0\u5f00\u59cb\uff0c\u771f\u7684\u5f97\u5199\u70b9\u4e1c\u897f\u4e86\u3002<\/p>\n\n\n\n<h2 id=\"\u5236\u4f5c-headervue-\u548c-footervue-\u7ec4\u4ef6\u6587\u4ef6\">\u5236\u4f5c header.vue \u548c footer.vue \u7ec4\u4ef6\u6587\u4ef6\u3002<\/h2>\n\n<p>\u4e0d\u662f\u672c\u7bc7\u6587\u7ae0\u7684\u91cd\u70b9\uff0c\u4f46\u662f\u8fd8\u662f\u6709\u6bd4\u8f83\u8bb2\u4e00\u4e0b\u3002\u5728\u7b2c\u4e09\u7bc7\u535a\u6587\u4e2d\uff0c\u6211\u4eec\u89c4\u5212\u4e86\u6211\u4eec\u7684\u9879\u76ee\u6587\u4ef6\u7ed3\u6784\uff0c\u5f53\u65f6\u4fdd\u7559\u4e86\u4e00\u4e2a <code>components<\/code> \u7684\u7a7a\u6587\u4ef6\u5939\u3002\u8fd9\u91cc\uff0c\u5c31\u662f\u51c6\u5907\u653e\u6211\u4eec\u7684\u81ea\u5b9a\u4e49\u7ec4\u4ef6\u7684\u3002<\/p>\n\n<p>\u9996\u5148\uff0c\u6211\u4eec\u53bb\u521b\u5efa\u4e24\u4e2a\u7a7a\u6587\u672c\u6587\u4ef6\uff0c\u5206\u522b\u662f <code>header.vue<\/code> \u6587\u4ef6\u548c <code>footer.vue<\/code> \u6587\u4ef6\u3002<\/p>\n\n<p>\u7136\u540e\uff0c\u5f80\u91cc\u9762\u8f93\u5165\u4e0b\u9762\u7684\u5185\u5bb9\uff1a<\/p>\n\n<p><strong>header.vue<\/strong><\/p>\n\n\n\n<pre class=\"prettyprint\"><code class=\"language-html hljs \"><span class=\"hljs-tag\">&lt;<span class=\"hljs-title\">template<\/span>&gt;<\/span>\n  <span class=\"hljs-tag\">&lt;<span class=\"hljs-title\">header<\/span> <span class=\"hljs-attribute\">class<\/span>=<span class=\"hljs-value\">\"header\"<\/span>&gt;<\/span>\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-title\">h1<\/span> <span class=\"hljs-attribute\">class<\/span>=<span class=\"hljs-value\">\"logo\"<\/span>&gt;<\/span>Vue Demo by FungLeo<span class=\"hljs-tag\">&lt;\/<span class=\"hljs-title\">h1<\/span>&gt;<\/span>\n  <span class=\"hljs-tag\">&lt;\/<span class=\"hljs-title\">header<\/span>&gt;<\/span>\n<span class=\"hljs-tag\">&lt;\/<span class=\"hljs-title\">template<\/span>&gt;<\/span><\/code><\/pre>\n\n<p><strong>footer.vue<\/strong><\/p>\n\n\n\n<pre class=\"prettyprint\"><code class=\"language-html hljs \"><span class=\"hljs-tag\">&lt;<span class=\"hljs-title\">template<\/span>&gt;<\/span>\n  <span class=\"hljs-tag\">&lt;<span class=\"hljs-title\">footer<\/span> <span class=\"hljs-attribute\">class<\/span>=<span class=\"hljs-value\">\"copy\"<\/span>&gt;<\/span>\n    Copy &amp;copy; FungLeo\n  <span class=\"hljs-tag\">&lt;\/<span class=\"hljs-title\">footer<\/span>&gt;<\/span>\n<span class=\"hljs-tag\">&lt;\/<span class=\"hljs-title\">template<\/span>&gt;<\/span><\/code><\/pre>\n\n<p>\u975e\u5e38\u7b80\u5355\u7684\u4e24\u4e2a\u6587\u4ef6\uff0c\u8868\u793a\u6211\u4eec\u7684\u7ec4\u4ef6\u5df2\u7ecf\u5f04\u597d\u4e86\u3002<\/p>\n\n\n\n<h2 id=\"\u7f16\u5199-srcpageindexvue-\u6587\u4ef6\">\u7f16\u5199 src\/page\/index.vue \u6587\u4ef6<\/h2>\n\n<p>\u5c11\u5570\u55e6\uff0c\u770b\u4e1c\u897f\uff1a<\/p>\n\n\n\n<pre class=\"prettyprint\"><code class=\"language-html hljs \"><span class=\"hljs-tag\">&lt;<span class=\"hljs-title\">template<\/span>&gt;<\/span>\n  <span class=\"hljs-tag\">&lt;<span class=\"hljs-title\">div<\/span>&gt;<\/span>\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-title\">Header<\/span>&gt;<\/span><span class=\"hljs-tag\">&lt;\/<span class=\"hljs-title\">Header<\/span>&gt;<\/span>\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-title\">div<\/span> <span class=\"hljs-attribute\">class<\/span>=<span class=\"hljs-value\">\"article_list\"<\/span>&gt;<\/span>\n      <span class=\"hljs-tag\">&lt;<span class=\"hljs-title\">ul<\/span>&gt;<\/span>\n        <span class=\"hljs-tag\">&lt;<span class=\"hljs-title\">li<\/span> <span class=\"hljs-attribute\">v-for<\/span>=<span class=\"hljs-value\">\"i in list\"<\/span>&gt;<\/span>\n          <span class=\"hljs-tag\">&lt;<span class=\"hljs-title\">time<\/span> <span class=\"hljs-attribute\">v-text<\/span>=<span class=\"hljs-value\">\"i.create_at\"<\/span>&gt;<\/span><span class=\"hljs-tag\">&lt;\/<span class=\"hljs-title\">time<\/span>&gt;<\/span>\n          <span class=\"hljs-tag\">&lt;<span class=\"hljs-title\">router-link<\/span> <span class=\"hljs-attribute\">:to<\/span>=<span class=\"hljs-value\">\"'\/content\/' + i.id\"<\/span>&gt;<\/span>\n            {{ i.title }}\n          <span class=\"hljs-tag\">&lt;\/<span class=\"hljs-title\">router-link<\/span>&gt;<\/span>\n        <span class=\"hljs-tag\">&lt;\/<span class=\"hljs-title\">li<\/span>&gt;<\/span>\n      <span class=\"hljs-tag\">&lt;\/<span class=\"hljs-title\">ul<\/span>&gt;<\/span>\n    <span class=\"hljs-tag\">&lt;\/<span class=\"hljs-title\">div<\/span>&gt;<\/span>\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-title\">Footer<\/span>&gt;<\/span><span class=\"hljs-tag\">&lt;\/<span class=\"hljs-title\">Footer<\/span>&gt;<\/span>\n  <span class=\"hljs-tag\">&lt;\/<span class=\"hljs-title\">div<\/span>&gt;<\/span>\n<span class=\"hljs-tag\">&lt;\/<span class=\"hljs-title\">template<\/span>&gt;<\/span>\n<span class=\"hljs-tag\">&lt;<span class=\"hljs-title\">script<\/span>&gt;<\/span><span class=\"javascript\">\nimport Header from <span class=\"hljs-string\">'..\/components\/header.vue'<\/span>\nimport Footer from <span class=\"hljs-string\">'..\/components\/footer.vue'<\/span>\nexport <span class=\"hljs-keyword\">default<\/span> {\n  components: { Header, Footer },\n  data () {\n    <span class=\"hljs-keyword\">return<\/span> {\n      list: []\n    }\n  },\n  created () {\n    <span class=\"hljs-keyword\">this<\/span>.getData()\n  },\n  methods: {\n    getData () {\n      <span class=\"hljs-keyword\">this<\/span>.$api.get(<span class=\"hljs-string\">'topics'<\/span>, <span class=\"hljs-literal\">null<\/span>, r =&gt; {\n        <span class=\"hljs-keyword\">this<\/span>.list = r.data\n      })\n    }\n  }\n}\n<\/span><span class=\"hljs-tag\">&lt;\/<span class=\"hljs-title\">script<\/span>&gt;<\/span><\/code><\/pre>\n\n<p>\u5982\u4e0a\uff0c\u4ee3\u7801\uff0c\u6211\u5c31\u628a\u9875\u9762\u6e32\u67d3\u51fa\u6765\u4e86\u3002\u6211\u4eec\u770b\u4e0b\u5b9e\u9645\u7684\u6548\u679c\uff1a<\/p>\n\n<p><img src=\"http:\/\/img.blog.csdn.net\/20170826163750296?watermark\/2\/text\/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvRnVuZ0xlbw==\/font\/5a6L5L2T\/fontsize\/400\/fill\/I0JBQkFCMA==\/dissolve\/70\/gravity\/SouthEast\" alt=\"\u8fd0\u884c\u6548\u679c\" title=\"\"><\/p>\n\n<p>\u524d\u9762\u4e00\u7247\u6587\u7ae0\u5df2\u7ecf\u8ba9\u6211\u4eec\u8ba4\u77e5\u4e86 <code>vue<\/code> \u7ec4\u4ef6\u4e86\u3002\u8fd9\u91cc\u6211\u4e0d\u8fc7\u591a\u7684\u9610\u8ff0\uff0c\u7701\u5f97\u5acc\u5f03\u6211\u5570\u55e6\u3002\u6211\u53ea\u6311\u51e0\u4e2a\u91cd\u70b9\u6765\u8bb2\u4e00\u4e0b\uff1a<\/p>\n\n\n\n<pre class=\"prettyprint\"><code class=\"language-html hljs \"><span class=\"hljs-tag\">&lt;<span class=\"hljs-title\">li<\/span> <span class=\"hljs-attribute\">v-for<\/span>=<span class=\"hljs-value\">\"i in list\"<\/span>&gt;<\/span>\n  <span class=\"hljs-tag\">&lt;<span class=\"hljs-title\">time<\/span> <span class=\"hljs-attribute\">v-text<\/span>=<span class=\"hljs-value\">\"i.create_at\"<\/span>&gt;<\/span><span class=\"hljs-tag\">&lt;\/<span class=\"hljs-title\">time<\/span>&gt;<\/span>\n  <span class=\"hljs-tag\">&lt;<span class=\"hljs-title\">router-link<\/span> <span class=\"hljs-attribute\">:to<\/span>=<span class=\"hljs-value\">\"'\/content\/' + i.id\"<\/span>&gt;<\/span>\n    {{ i.title }}\n  <span class=\"hljs-tag\">&lt;\/<span class=\"hljs-title\">router-link<\/span>&gt;<\/span>\n<span class=\"hljs-tag\">&lt;\/<span class=\"hljs-title\">li<\/span>&gt;<\/span><\/code><\/pre>\n\n<p>\u5982\u4e0a\uff0c\u6211\u5148\u7528\u4e86\u4e00\u4e2a <code>v-for<\/code> \u7684\u5faa\u73af\uff0c\u6765\u5faa\u73af\u6570\u636e\u3002\u8fd9\u91cc\u53ef\u4ee5\u53c2\u8003\uff1a<a href=\"https:\/\/cn.vuejs.org\/v2\/api\/#v-for\" target=\"_blank\">https:\/\/cn.vuejs.org\/v2\/api\/#v-for<\/a> \u6587\u6863\u3002<\/p>\n\n<p>\u5728 <code>time<\/code> \u6807\u7b7e\u4e2d\uff0c\u6211\u4f7f\u7528\u4e86 <code>v-text=\"i.create_at\"<\/code> \u6765\u6e32\u67d3\u65f6\u95f4\u6570\u636e\u3002\u53c2\u8003\u6587\u6863\uff1a <a href=\"https:\/\/cn.vuejs.org\/v2\/api\/#v-text\" target=\"_blank\">https:\/\/cn.vuejs.org\/v2\/api\/#v-text<\/a><\/p>\n\n<p><code>router-link<\/code> \u662f <code>VueRouter2<\/code> \u201c\u58f0\u660e\u5f0f\u5bfc\u822a\u201d\u7684\u5199\u6cd5\uff0c\u5728\u5b9e\u9645\u8f6c\u6362\u4e3a <code>html<\/code> \u6807\u7b7e\u7684\u65f6\u5019\uff0c\u4f1a\u8f6c\u5316\u4e3a <code>&lt;a&gt;&lt;\/a&gt;<\/code>\uff0c\u91cc\u9762\u7684 <code>to<\/code> \u5c5e\u6027\uff0c\u5c31\u76f8\u5f53\u4e8e <code>a<\/code> \u7684 <code>href<\/code> \u5c5e\u6027\u3002\u53c2\u8003\u6587\u6863\uff1a<a href=\"https:\/\/router.vuejs.org\/zh-cn\/essentials\/getting-started.html\" target=\"_blank\">https:\/\/router.vuejs.org\/zh-cn\/essentials\/getting-started.html<\/a><\/p>\n\n<p>\u597d\uff0c<code>html<\/code> \u7684\u90e8\u5206\u5c31\u8bf4\u5230\u8fd9\u91cc\uff0c\u66f4\u591a\u7684\u5185\u5bb9\uff0c\u5c31\u4ea4\u7ed9\u4f60\u4eec\u81ea\u7531\u53d1\u6325\u53bb\u5427\u3002<\/p>\n\n\n\n<pre class=\"prettyprint\"><code class=\"language-js hljs \"><span class=\"hljs-keyword\">this<\/span>.$api.get(<span class=\"hljs-string\">'topics'<\/span>, <span class=\"hljs-literal\">null<\/span>, r =&gt; {\n  <span class=\"hljs-keyword\">this<\/span>.list = r.data\n})<\/code><\/pre>\n\n<p><strong>2017\u5e7409\u670819\u65e5\u8865\u5145 \u4e0d\u7528\u7bad\u5934\u51fd\u6570\uff0c\u7528\u666e\u901a\u51fd\u6570\u600e\u4e48\u5199\u8fd9\u6bb5\u4ee3\u7801<\/strong><\/p>\n\n<p>\u8bc4\u8bba\u533a\uff0c\u6709\u4eba\u95ee\u7528\u666e\u901a\u51fd\u6570\u5982\u4f55\u5199\u8fd9\u6bb5\u5185\u5bb9\u3002\u8fd9\u4e2a\u662f <code>js<\/code> \u7684\u57fa\u7840\u5185\u5bb9\uff0c\u548c <code>vue<\/code> \u672c\u8eab\u65e0\u5173\u3002<\/p>\n\n<p>\u793a\u4f8b\u4ee3\u7801\u5982\u4e0b\uff1a<\/p>\n\n\n\n<pre class=\"prettyprint\"><code class=\"language-js hljs \"><span class=\"hljs-keyword\">var<\/span> v = <span class=\"hljs-keyword\">this<\/span>\nv.$api.get(<span class=\"hljs-string\">'topics'<\/span>, <span class=\"hljs-literal\">null<\/span>, <span class=\"hljs-function\"><span class=\"hljs-keyword\">function<\/span> <span class=\"hljs-params\">(r)<\/span> {<\/span>\n  v.list = r.data\n})<\/code><\/pre>\n\n<p><strong>\u8865\u5145\u7ed3\u675f<\/strong><\/p>\n\n<p>\u7531\u4e8e\u6709\u4e86\u524d\u9762\u51e0\u7bc7\u6587\u7ae0\u7684\u79ef\u7d2f\uff0c\u8fd9\u91cc\u5c31\u6bd4\u8f83\u597d\u7406\u89e3\u4e86\u3002<\/p>\n\n<p>\u6211\u4eec\u4ece\u63a5\u53e3\u62ff\u5230\u4e86 <code>r.data<\/code> \u7684\u6570\u636e\uff0c\u8ba9\u6211\u4eec\u81ea\u5df1\u5b9a\u4e49\u7684 <code>this.list<\/code> \u7b49\u4e8e\u8fd9\u4e2a\u6570\u636e\uff0c\u7136\u540e\u6211\u4eec\u5728\u6a21\u677f\u4e2d\u5c31\u53ef\u4ee5\u7528 <code>list<\/code> \u8fdb\u884c\u6e32\u67d3\u4e86\u3002\u8fd9\u91cc\u7740\u91cd\u4f53\u73b0\u4e86 <code>vue<\/code> \u7684\u6570\u636e\u53cc\u5411\u7ed1\u5b9a\u7684\u7279\u6027\u3002<\/p>\n\n<h2 id=\"\u5199\u4e00\u4e2a\u516c\u7528\u7684\u65f6\u95f4\u5904\u7406\u5de5\u5177\u51fd\u6570\">\u5199\u4e00\u4e2a\u516c\u7528\u7684\u65f6\u95f4\u5904\u7406\u5de5\u5177\u51fd\u6570<\/h2>\n\n<p>\u5982\u4e0a\u9762\u7684\u56fe\u7247\u6240\u793a\uff0c\u7531\u4e8e\u62ff\u5230\u7684\u6570\u636e\u662f\u4e00\u4e2a\u6807\u51c6\u7684\u65f6\u95f4\u683c\u5f0f\uff0c\u76f4\u63a5\u6e32\u67d3\u5728\u9875\u9762\u4e0a\uff0c\u8fd9\u4e2a\u6548\u679c\u4e0d\u662f\u5f88\u7406\u60f3\u3002\u56e0\u6b64\uff0c\u6211\u4eec\u53ef\u4ee5\u628a\u65f6\u95f4\u7ed9\u5904\u7406\u4e00\u4e0b\uff0c\u7136\u540e\u518d\u6e32\u67d3\u51fa\u6765\u3002<\/p>\n\n<p>\u8fd9\u91cc\uff0c\u6211\u4eec\u53ef\u4ee5\u76f4\u63a5\u5728 <code>getData () {...}<\/code> \u540e\u9762\u518d\u5199\u4e00\u4e2a\u65b9\u6cd5\u5373\u53ef\u3002\u4f46\u662f\uff0c\u5728\u4e00\u4e2a\u9879\u76ee\u4e2d\uff0c\u5982\u679c\u6240\u6709\u7684\u5730\u65b9\u90fd\u662f\u8fd9\u6837\u7684\u65f6\u95f4\u683c\u5f0f\uff0c\u6211\u4eec\u5728\u6bcf\u4e00\u4e2a\u7ec4\u4ef6\u4e2d\u90fd\u6765\u5199\u8fd9\u6837\u7684\u5904\u7406\u65b9\u6cd5\uff0c\u5f88\u663e\u7136\u5c31\u663e\u5f97\u6211\u4eec\u6bd4\u8f83\u611a\u8822\u4e86\u3002<\/p>\n\n<p>\u56e0\u6b64\uff0c\u6211\u4eec\u53ef\u4ee5\u72ec\u7acb\u51fa\u6765\u5199\u4e00\u4e2a\u65b9\u6cd5\uff0c\u7136\u540e\u5728\u6240\u6709\u7684\u5730\u65b9\u90fd\u53ef\u4ee5\u4f7f\u7528\uff0c\u8fd9\u6837\u5c31\u6bd4\u8f83\u65b9\u4fbf\u4e86\u3002<\/p>\n\n<p>\u8fd8\u8bb0\u5f97\u6211\u4eec\u5728\u7b2c\u4e09\u7bc7\u535a\u6587\u4e2d\uff0c\u6211\u4eec\u5efa\u7acb\u4e86\u4e00\u4e2a <code>src\/utils\/index.js<\/code> \u7684\u7a7a\u6587\u672c\u6587\u4ef6\u5417\uff1f\u8fd9\u91cc\uff0c\u6211\u4eec\u8981\u7528\u4e0a\u4e86\u3002<\/p>\n\n\n\n<h3 id=\"\u7f16\u5199-srcutilsindexjs-\u6587\u4ef6\">\u7f16\u5199 src\/utils\/index.js \u6587\u4ef6<\/h3>\n\n<p>\u76f4\u63a5\u7ed9\u4ee3\u7801\u5982\u4e0b\uff1a<\/p>\n\n\n\n<pre class=\"prettyprint\"><code class=\"language-js hljs \">export <span class=\"hljs-keyword\">default<\/span> {\n  goodTime (str) {\n    <span class=\"hljs-keyword\">let<\/span> now = <span class=\"hljs-keyword\">new<\/span> <span class=\"hljs-built_in\">Date<\/span>().getTime()\n    <span class=\"hljs-keyword\">let<\/span> oldTime = <span class=\"hljs-keyword\">new<\/span> <span class=\"hljs-built_in\">Date<\/span>(str).getTime()\n    <span class=\"hljs-keyword\">let<\/span> difference = now - oldTime\n    <span class=\"hljs-keyword\">let<\/span> result = <span class=\"hljs-string\">''<\/span>\n    <span class=\"hljs-keyword\">let<\/span> minute = <span class=\"hljs-number\">1000<\/span> * <span class=\"hljs-number\">60<\/span>\n    <span class=\"hljs-keyword\">let<\/span> hour = minute * <span class=\"hljs-number\">60<\/span>\n    <span class=\"hljs-keyword\">let<\/span> day = hour * <span class=\"hljs-number\">24<\/span>\n    <span class=\"hljs-keyword\">let<\/span> month = day * <span class=\"hljs-number\">30<\/span>\n    <span class=\"hljs-keyword\">let<\/span> year = month * <span class=\"hljs-number\">12<\/span>\n    <span class=\"hljs-keyword\">let<\/span> _year = difference \/ year\n    <span class=\"hljs-keyword\">let<\/span> _month = difference \/ month\n    <span class=\"hljs-keyword\">let<\/span> _week = difference \/ (<span class=\"hljs-number\">7<\/span> * day)\n    <span class=\"hljs-keyword\">let<\/span> _day = difference \/ day\n    <span class=\"hljs-keyword\">let<\/span> _hour = difference \/ hour\n    <span class=\"hljs-keyword\">let<\/span> _min = difference \/ minute\n\n    <span class=\"hljs-keyword\">if<\/span> (_year &gt;= <span class=\"hljs-number\">1<\/span>) {\n      result = <span class=\"hljs-string\">'\u53d1\u8868\u4e8e '<\/span> + ~~(_year) + <span class=\"hljs-string\">' \u5e74\u524d'<\/span>\n    } <span class=\"hljs-keyword\">else<\/span> <span class=\"hljs-keyword\">if<\/span> (_month &gt;= <span class=\"hljs-number\">1<\/span>) {\n      result = <span class=\"hljs-string\">'\u53d1\u8868\u4e8e '<\/span> + ~~(_month) + <span class=\"hljs-string\">' \u4e2a\u6708\u524d'<\/span>\n    } <span class=\"hljs-keyword\">else<\/span> <span class=\"hljs-keyword\">if<\/span> (_week &gt;= <span class=\"hljs-number\">1<\/span>) {\n      result = <span class=\"hljs-string\">'\u53d1\u8868\u4e8e '<\/span> + ~~(_week) + <span class=\"hljs-string\">' \u5468\u524d'<\/span>\n    } <span class=\"hljs-keyword\">else<\/span> <span class=\"hljs-keyword\">if<\/span> (_day &gt;= <span class=\"hljs-number\">1<\/span>) {\n      result = <span class=\"hljs-string\">'\u53d1\u8868\u4e8e '<\/span> + ~~(_day) + <span class=\"hljs-string\">' \u5929\u524d'<\/span>\n    } <span class=\"hljs-keyword\">else<\/span> <span class=\"hljs-keyword\">if<\/span> (_hour &gt;= <span class=\"hljs-number\">1<\/span>) {\n      result = <span class=\"hljs-string\">'\u53d1\u8868\u4e8e '<\/span> + ~~(_hour) + <span class=\"hljs-string\">' \u4e2a\u5c0f\u65f6\u524d'<\/span>\n    } <span class=\"hljs-keyword\">else<\/span> <span class=\"hljs-keyword\">if<\/span> (_min &gt;= <span class=\"hljs-number\">1<\/span>) {\n      result = <span class=\"hljs-string\">'\u53d1\u8868\u4e8e '<\/span> + ~~(_min) + <span class=\"hljs-string\">' \u5206\u949f\u524d'<\/span>\n    } <span class=\"hljs-keyword\">else<\/span> {\n      result = <span class=\"hljs-string\">'\u521a\u521a'<\/span>\n    }\n    <span class=\"hljs-keyword\">return<\/span> result\n  }\n}<\/code><\/pre>\n\n<p>\u597d\uff0c\u4ee3\u7801\u6076\u5fc3\u4e86\u70b9\uff0c\u6211\u62ff\u6211\u4ee5\u524d\u5199\u7684\u4ee3\u7801\u6539\u7684\uff0c\u6ca1\u6709\u6df1\u5165\u4f18\u5316\uff0c\u5927\u5bb6\u5c31\u968f\u4fbf\u770b\u770b\uff0c\u5927\u6982\u5c31\u662f\u8fd9\u4e48\u4e2a\u4e1c\u897f\u3002<\/p>\n\n<p>\u5199\u597d\u4ee3\u7801\u4e4b\u540e\uff0c\u6211\u4eec\u4fdd\u5b58\u6587\u4ef6\u3002\u4f46\u662f\u6b64\u65f6\uff0c\u6211\u4eec\u8fd8\u4e0d\u80fd\u4f7f\u7528\u6211\u4eec\u7684\u8fd9\u4e2a\u65b9\u6cd5\u51fd\u6570\u3002\u6211\u4eec\u5fc5\u987b\u5728 <code>main.js<\/code> \u4e2d\u5c06\u6211\u4eec\u7684\u65b9\u6cd5\u51fd\u6570\u7ed9\u7ed1\u5b9a\u4e0a\u3002\u5982\u4e0b\u4ee3\u7801\uff1a<\/p>\n\n\n\n<pre class=\"prettyprint\"><code class=\"language-js hljs \"><span class=\"hljs-comment\">\/\/ \u5f15\u7528\u5de5\u5177\u6587\u4ef6<\/span>\nimport utils from <span class=\"hljs-string\">'.\/utils\/index.js'<\/span>\n<span class=\"hljs-comment\">\/\/ \u5c06\u5de5\u5177\u65b9\u6cd5\u7ed1\u5b9a\u5230\u5168\u5c40<\/span>\nVue.prototype.$utils = utils<\/code><\/pre>\n\n<p>\u8fd8\u8bb0\u5f97\u6211\u4eec\u5148\u524d\u662f\u5982\u4f55\u5c06\u6211\u4eec\u7684\u63a5\u53e3\u8bf7\u6c42\u51fd\u6570\u7ed9\u7ed1\u5b9a\u4e0a\u7684\u5417\uff1f\u8fd9\u91cc\u5176\u5b9e\u662f\u91c7\u7528\u4e86\u540c\u6837\u7684\u65b9\u6cd5\u3002\u5982\u679c\u4e0d\u8bb0\u5f97\u4e86\uff0c\u53ef\u4ee5<a href=\"http:\/\/blog.csdn.net\/fungleo\/article\/details\/77601270\" target=\"_blank\">\u70b9\u51fb\u94fe\u63a5<\/a>\u8fc7\u53bb\u770b\u770b\u3002<\/p>\n\n<p>\u597d\u4e86\uff0c\u8fd9\u6837\uff0c\u6211\u4eec\u5199\u7684\u8fd9\u4e2a\u51fd\u6570\uff0c\u5c31\u53ef\u4ee5\u968f\u4fbf\u88ab\u6211\u4eec\u8c03\u7528\u4e86\u3002\u6211\u4eec\u518d\u6765\u4fee\u6539\u4e00\u4e0b\u6211\u4eec\u4e0a\u9762\u7684 <code>index.vue<\/code> \u4e2d\u7684\u4ee3\u7801\uff0c\u5c06 <code>time<\/code> \u8c03\u6574\u4e3a\uff1a<\/p>\n\n\n\n<pre class=\"prettyprint\"><code class=\"language-html hljs \"><span class=\"hljs-tag\">&lt;<span class=\"hljs-title\">time<\/span> <span class=\"hljs-attribute\">v-text<\/span>=<span class=\"hljs-value\">\"$utils.goodTime(i.create_at)\"<\/span>&gt;<\/span><span class=\"hljs-tag\">&lt;\/<span class=\"hljs-title\">time<\/span>&gt;<\/span><\/code><\/pre>\n\n<p>\u7136\u540e\uff0c\u6211\u4eec\u518d\u6765\u770b\u4e00\u4e0b\u5b9e\u9645\u7684\u6548\u679c\uff1a<\/p>\n\n<p><img src=\"http:\/\/img.blog.csdn.net\/20170826170347545?watermark\/2\/text\/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvRnVuZ0xlbw==\/font\/5a6L5L2T\/fontsize\/400\/fill\/I0JBQkFCMA==\/dissolve\/70\/gravity\/SouthEast\" alt=\"vue demo by fungleo\" title=\"\"><\/p>\n\n<p>\u597d\uff0c\u6211\u4eec\u5df2\u7ecf\u770b\u5230\uff0c\u65f6\u95f4\u5df2\u7ecf\u641e\u7684\u633a\u597d\u7684\u4e86\u3002<\/p>\n\n<blockquote>\n  <p>\u6837\u5f0f\uff0c\u4e0d\u662f\u6211\u8fd9\u4e2a <code>demo<\/code> \u7684\u91cd\u70b9\uff0c\u6240\u4ee5\uff0c\u6837\u5f0f\u81ea\u5df1\u53bb\u5199\u5427\u3002\u6211\u5c31\u4e0d\u5199\u4e86\u3002<\/p>\n<\/blockquote>\n\n<p>\u4e0d\u77e5\u9053\u5927\u5bb6\u6709\u6ca1\u6709\u53d1\u73b0\uff0c\u6211\u4eec\u5728 <code>script<\/code> \u533a\u57df\uff0c\u5f15\u7528\u4e00\u4e2a\u51fd\u6570\u662f\u4f7f\u7528 <code>this.getData<\/code> \u6216\u8005 <code>this.list<\/code> \u8fd9\u6837\u7684\u4ee3\u7801\u5f15\u7528\u7684\u3002\u4f46\u662f\u5728 <code>template<\/code> \u4e2d\uff0c\u6211\u4eec\u662f\u4e0d\u52a0 <code>this<\/code> \u7684\u3002<\/p>\n\n<p><strong>\u5728 <code>js<\/code> \u4e2d\uff0c\u5173\u4e8e <code>this<\/code> \u7684\u8bba\u6587\u5c31\u5f88\u591a\uff0c\u6211\u8fd9\u91cc\u4e0d\u6df1\u5165\u8bb2\u89e3\u4e86\u3002\u5927\u5bb6\u53ea\u8981\u8bb0\u4f4f\u8fd9\u6837\u7528\u5c31\u53ef\u4ee5\u4e86\u3002<\/strong><\/p>\n\n<p>\u597d\uff0c\u6211\u4eec\u7684\u5217\u8868\u5df2\u7ecf\u6e32\u67d3\u51fa\u6765\u4e86\u3002\u7ec8\u4e8e\u89c1\u4e86\u70b9\u771f\u7ae0\uff0c\u5e94\u8be5\u5f88\u6fc0\u52a8\u4e86\u5427\u3002\u4e0b\u9762\uff0c\u6211\u4eec\u7ee7\u7eed\u3002<\/p>\n\n<blockquote>\n  <p>\u5982\u679c\u6587\u7ae0\u7531\u4e8e\u6211\u5b66\u8bc6\u6d45\u8584\uff0c\u5bfc\u81f4\u60a8\u53d1\u73b0\u6709\u4e25\u91cd\u8c2c\u8bef\u7684\u5730\u65b9\uff0c\u8bf7\u4e00\u5b9a\u5728\u8bc4\u8bba\u4e2d\u6307\u51fa\uff0c\u6211\u4f1a\u5728\u7b2c\u4e00\u65f6\u95f4\u4fee\u6b63\u6211\u7684\u535a\u6587\uff0c\u4ee5\u907f\u514d\u8bef\u4eba\u5b50\u5f1f\u3002<\/p>\n<\/blockquote>\n\n<p>\u672c\u6587\u7531 FungLeo \u539f\u521b\uff0c\u5141\u8bb8\u8f6c\u8f7d\uff0c\u4f46\u8f6c\u8f7d\u5fc5\u987b\u4fdd\u7559\u9996\u53d1\u94fe\u63a5\u3002<\/p>","markdowncontent":"# Vue2+VueRouter2+Webpack+Axios \u6784\u5efa\u9879\u76ee\u5b9e\u62182017\u91cd\u5236\u7248\uff08\u516b\uff09\u6e32\u67d3\u4e00\u4e2a\u5217\u8868\u51fa\u6765\u5148\n\n## \u524d\u60c5\u56de\u987e\n\n\u5728\u4e0a\u4e00\u7bc7\u535a\u6587\u300a[Vue2+VueRouter2+Webpack+Axios \u6784\u5efa\u9879\u76ee\u5b9e\u62182017\u91cd\u5236\u7248\uff08\u4e03\uff09\u521d\u8bc6 *.vue \u6587\u4ef6](http:\/\/blog.csdn.net\/fungleo\/article\/details\/77602914)\u300b\u4e2d\uff0c\u6211\u4eec\u961f `vue` \u7ec4\u4ef6\u5e94\u8be5\u6709\u4e86\u4e00\u4e2a\u7b80\u5355\u7684\u8ba4\u8bc6\u3002\u5982\u679c\u4f60\u53bb\u770b\u4e86\u5b98\u65b9\u6587\u6863\u7684\u8bdd\uff0c\u518d\u770b\u8fd9\u7bc7\u535a\u6587\u4f1a\u6bd4\u8f83\u7b80\u5355\u3002\u5982\u679c\u4f60\u6ca1\u53bb\u770b\uff0c\u5475\u5475\uff0c\u606d\u559c\u4f60\uff0c\u6211\u559c\u6b22\u4f60\u8fd9\u6837\u7684\u4eba\u3002\n\n\u597d\uff0c\u8fd9\u7ae0\u5f00\u59cb\uff0c\u771f\u7684\u5f97\u5199\u70b9\u4e1c\u897f\u4e86\u3002\n\n## \u5236\u4f5c header.vue \u548c footer.vue \u7ec4\u4ef6\u6587\u4ef6\u3002\n\n\u4e0d\u662f\u672c\u7bc7\u6587\u7ae0\u7684\u91cd\u70b9\uff0c\u4f46\u662f\u8fd8\u662f\u6709\u6bd4\u8f83\u8bb2\u4e00\u4e0b\u3002\u5728\u7b2c\u4e09\u7bc7\u535a\u6587\u4e2d\uff0c\u6211\u4eec\u89c4\u5212\u4e86\u6211\u4eec\u7684\u9879\u76ee\u6587\u4ef6\u7ed3\u6784\uff0c\u5f53\u65f6\u4fdd\u7559\u4e86\u4e00\u4e2a `components` \u7684\u7a7a\u6587\u4ef6\u5939\u3002\u8fd9\u91cc\uff0c\u5c31\u662f\u51c6\u5907\u653e\u6211\u4eec\u7684\u81ea\u5b9a\u4e49\u7ec4\u4ef6\u7684\u3002\n\n\u9996\u5148\uff0c\u6211\u4eec\u53bb\u521b\u5efa\u4e24\u4e2a\u7a7a\u6587\u672c\u6587\u4ef6\uff0c\u5206\u522b\u662f `header.vue` \u6587\u4ef6\u548c `footer.vue` \u6587\u4ef6\u3002\n\n\u7136\u540e\uff0c\u5f80\u91cc\u9762\u8f93\u5165\u4e0b\u9762\u7684\u5185\u5bb9\uff1a\n\n**header.vue**\n```html\n<template>\n  <header class=\"header\">\n    <h1 class=\"logo\">Vue Demo by FungLeo<\/h1>\n  <\/header>\n<\/template>\n```\n**footer.vue**\n```html\n<template>\n  <footer class=\"copy\">\n    Copy &copy; FungLeo\n  <\/footer>\n<\/template>\n```\n\u975e\u5e38\u7b80\u5355\u7684\u4e24\u4e2a\u6587\u4ef6\uff0c\u8868\u793a\u6211\u4eec\u7684\u7ec4\u4ef6\u5df2\u7ecf\u5f04\u597d\u4e86\u3002\n\n## \u7f16\u5199 src\/page\/index.vue \u6587\u4ef6\n\n\u5c11\u5570\u55e6\uff0c\u770b\u4e1c\u897f\uff1a\n\n```html\n<template>\n  <div>\n    <Header><\/Header>\n    <div class=\"article_list\">\n      <ul>\n        <li v-for=\"i in list\">\n          <time v-text=\"i.create_at\"><\/time>\n          <router-link :to=\"'\/content\/' + i.id\">\n            {{ i.title }}\n          <\/router-link>\n        <\/li>\n      <\/ul>\n    <\/div>\n    <Footer><\/Footer>\n  <\/div>\n<\/template>\n<script>\nimport Header from '..\/components\/header.vue'\nimport Footer from '..\/components\/footer.vue'\nexport default {\n  components: { Header, Footer },\n  data () {\n    return {\n      list: []\n    }\n  },\n  created () {\n    this.getData()\n  },\n  methods: {\n    getData () {\n      this.$api.get('topics', null, r => {\n        this.list = r.data\n      })\n    }\n  }\n}\n<\/script>\n```\n\n\u5982\u4e0a\uff0c\u4ee3\u7801\uff0c\u6211\u5c31\u628a\u9875\u9762\u6e32\u67d3\u51fa\u6765\u4e86\u3002\u6211\u4eec\u770b\u4e0b\u5b9e\u9645\u7684\u6548\u679c\uff1a\n\n\n![\u8fd0\u884c\u6548\u679c](http:\/\/img.blog.csdn.net\/20170826163750296?watermark\/2\/text\/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvRnVuZ0xlbw==\/font\/5a6L5L2T\/fontsize\/400\/fill\/I0JBQkFCMA==\/dissolve\/70\/gravity\/SouthEast)\n\n\u524d\u9762\u4e00\u7247\u6587\u7ae0\u5df2\u7ecf\u8ba9\u6211\u4eec\u8ba4\u77e5\u4e86 `vue` \u7ec4\u4ef6\u4e86\u3002\u8fd9\u91cc\u6211\u4e0d\u8fc7\u591a\u7684\u9610\u8ff0\uff0c\u7701\u5f97\u5acc\u5f03\u6211\u5570\u55e6\u3002\u6211\u53ea\u6311\u51e0\u4e2a\u91cd\u70b9\u6765\u8bb2\u4e00\u4e0b\uff1a\n\n```html\n<li v-for=\"i in list\">\n  <time v-text=\"i.create_at\"><\/time>\n  <router-link :to=\"'\/content\/' + i.id\">\n    {{ i.title }}\n  <\/router-link>\n<\/li>\n```\n\u5982\u4e0a\uff0c\u6211\u5148\u7528\u4e86\u4e00\u4e2a `v-for` \u7684\u5faa\u73af\uff0c\u6765\u5faa\u73af\u6570\u636e\u3002\u8fd9\u91cc\u53ef\u4ee5\u53c2\u8003\uff1ahttps:\/\/cn.vuejs.org\/v2\/api\/#v-for \u6587\u6863\u3002\n\n\u5728 `time` \u6807\u7b7e\u4e2d\uff0c\u6211\u4f7f\u7528\u4e86 `v-text=\"i.create_at\"` \u6765\u6e32\u67d3\u65f6\u95f4\u6570\u636e\u3002\u53c2\u8003\u6587\u6863\uff1a https:\/\/cn.vuejs.org\/v2\/api\/#v-text\n\n`router-link` \u662f `VueRouter2` \u201c\u58f0\u660e\u5f0f\u5bfc\u822a\u201d\u7684\u5199\u6cd5\uff0c\u5728\u5b9e\u9645\u8f6c\u6362\u4e3a `html` \u6807\u7b7e\u7684\u65f6\u5019\uff0c\u4f1a\u8f6c\u5316\u4e3a `<a><\/a>`\uff0c\u91cc\u9762\u7684 `to` \u5c5e\u6027\uff0c\u5c31\u76f8\u5f53\u4e8e `a` \u7684 `href` \u5c5e\u6027\u3002\u53c2\u8003\u6587\u6863\uff1ahttps:\/\/router.vuejs.org\/zh-cn\/essentials\/getting-started.html\n\n\n\u597d\uff0c`html` \u7684\u90e8\u5206\u5c31\u8bf4\u5230\u8fd9\u91cc\uff0c\u66f4\u591a\u7684\u5185\u5bb9\uff0c\u5c31\u4ea4\u7ed9\u4f60\u4eec\u81ea\u7531\u53d1\u6325\u53bb\u5427\u3002\n\n```js\nthis.$api.get('topics', null, r => {\n  this.list = r.data\n})\n```\n**2017\u5e7409\u670819\u65e5\u8865\u5145 \u4e0d\u7528\u7bad\u5934\u51fd\u6570\uff0c\u7528\u666e\u901a\u51fd\u6570\u600e\u4e48\u5199\u8fd9\u6bb5\u4ee3\u7801**\n\n\u8bc4\u8bba\u533a\uff0c\u6709\u4eba\u95ee\u7528\u666e\u901a\u51fd\u6570\u5982\u4f55\u5199\u8fd9\u6bb5\u5185\u5bb9\u3002\u8fd9\u4e2a\u662f `js` \u7684\u57fa\u7840\u5185\u5bb9\uff0c\u548c `vue` \u672c\u8eab\u65e0\u5173\u3002\n\n\u793a\u4f8b\u4ee3\u7801\u5982\u4e0b\uff1a\n\n```js\nvar v = this\nv.$api.get('topics', null, function (r) {\n  v.list = r.data\n})\n```\n\n**\u8865\u5145\u7ed3\u675f**\n\n\u7531\u4e8e\u6709\u4e86\u524d\u9762\u51e0\u7bc7\u6587\u7ae0\u7684\u79ef\u7d2f\uff0c\u8fd9\u91cc\u5c31\u6bd4\u8f83\u597d\u7406\u89e3\u4e86\u3002\n\n\u6211\u4eec\u4ece\u63a5\u53e3\u62ff\u5230\u4e86 `r.data` \u7684\u6570\u636e\uff0c\u8ba9\u6211\u4eec\u81ea\u5df1\u5b9a\u4e49\u7684 `this.list` \u7b49\u4e8e\u8fd9\u4e2a\u6570\u636e\uff0c\u7136\u540e\u6211\u4eec\u5728\u6a21\u677f\u4e2d\u5c31\u53ef\u4ee5\u7528 `list` \u8fdb\u884c\u6e32\u67d3\u4e86\u3002\u8fd9\u91cc\u7740\u91cd\u4f53\u73b0\u4e86 `vue` \u7684\u6570\u636e\u53cc\u5411\u7ed1\u5b9a\u7684\u7279\u6027\u3002\n\n## \u5199\u4e00\u4e2a\u516c\u7528\u7684\u65f6\u95f4\u5904\u7406\u5de5\u5177\u51fd\u6570\n\n\u5982\u4e0a\u9762\u7684\u56fe\u7247\u6240\u793a\uff0c\u7531\u4e8e\u62ff\u5230\u7684\u6570\u636e\u662f\u4e00\u4e2a\u6807\u51c6\u7684\u65f6\u95f4\u683c\u5f0f\uff0c\u76f4\u63a5\u6e32\u67d3\u5728\u9875\u9762\u4e0a\uff0c\u8fd9\u4e2a\u6548\u679c\u4e0d\u662f\u5f88\u7406\u60f3\u3002\u56e0\u6b64\uff0c\u6211\u4eec\u53ef\u4ee5\u628a\u65f6\u95f4\u7ed9\u5904\u7406\u4e00\u4e0b\uff0c\u7136\u540e\u518d\u6e32\u67d3\u51fa\u6765\u3002\n\n\u8fd9\u91cc\uff0c\u6211\u4eec\u53ef\u4ee5\u76f4\u63a5\u5728 `getData () {...}` \u540e\u9762\u518d\u5199\u4e00\u4e2a\u65b9\u6cd5\u5373\u53ef\u3002\u4f46\u662f\uff0c\u5728\u4e00\u4e2a\u9879\u76ee\u4e2d\uff0c\u5982\u679c\u6240\u6709\u7684\u5730\u65b9\u90fd\u662f\u8fd9\u6837\u7684\u65f6\u95f4\u683c\u5f0f\uff0c\u6211\u4eec\u5728\u6bcf\u4e00\u4e2a\u7ec4\u4ef6\u4e2d\u90fd\u6765\u5199\u8fd9\u6837\u7684\u5904\u7406\u65b9\u6cd5\uff0c\u5f88\u663e\u7136\u5c31\u663e\u5f97\u6211\u4eec\u6bd4\u8f83\u611a\u8822\u4e86\u3002\n\n\u56e0\u6b64\uff0c\u6211\u4eec\u53ef\u4ee5\u72ec\u7acb\u51fa\u6765\u5199\u4e00\u4e2a\u65b9\u6cd5\uff0c\u7136\u540e\u5728\u6240\u6709\u7684\u5730\u65b9\u90fd\u53ef\u4ee5\u4f7f\u7528\uff0c\u8fd9\u6837\u5c31\u6bd4\u8f83\u65b9\u4fbf\u4e86\u3002\n\n\u8fd8\u8bb0\u5f97\u6211\u4eec\u5728\u7b2c\u4e09\u7bc7\u535a\u6587\u4e2d\uff0c\u6211\u4eec\u5efa\u7acb\u4e86\u4e00\u4e2a `src\/utils\/index.js` \u7684\u7a7a\u6587\u672c\u6587\u4ef6\u5417\uff1f\u8fd9\u91cc\uff0c\u6211\u4eec\u8981\u7528\u4e0a\u4e86\u3002\n\n### \u7f16\u5199 src\/utils\/index.js \u6587\u4ef6\n\n\u76f4\u63a5\u7ed9\u4ee3\u7801\u5982\u4e0b\uff1a\n\n```js\nexport default {\n  goodTime (str) {\n    let now = new Date().getTime()\n    let oldTime = new Date(str).getTime()\n    let difference = now - oldTime\n    let result = ''\n    let minute = 1000 * 60\n    let hour = minute * 60\n    let day = hour * 24\n    let month = day * 30\n    let year = month * 12\n    let _year = difference \/ year\n    let _month = difference \/ month\n    let _week = difference \/ (7 * day)\n    let _day = difference \/ day\n    let _hour = difference \/ hour\n    let _min = difference \/ minute\n\n    if (_year >= 1) {\n      result = '\u53d1\u8868\u4e8e ' + ~~(_year) + ' \u5e74\u524d'\n    } else if (_month >= 1) {\n      result = '\u53d1\u8868\u4e8e ' + ~~(_month) + ' \u4e2a\u6708\u524d'\n    } else if (_week >= 1) {\n      result = '\u53d1\u8868\u4e8e ' + ~~(_week) + ' \u5468\u524d'\n    } else if (_day >= 1) {\n      result = '\u53d1\u8868\u4e8e ' + ~~(_day) + ' \u5929\u524d'\n    } else if (_hour >= 1) {\n      result = '\u53d1\u8868\u4e8e ' + ~~(_hour) + ' \u4e2a\u5c0f\u65f6\u524d'\n    } else if (_min >= 1) {\n      result = '\u53d1\u8868\u4e8e ' + ~~(_min) + ' \u5206\u949f\u524d'\n    } else {\n      result = '\u521a\u521a'\n    }\n    return result\n  }\n}\n```\n\u597d\uff0c\u4ee3\u7801\u6076\u5fc3\u4e86\u70b9\uff0c\u6211\u62ff\u6211\u4ee5\u524d\u5199\u7684\u4ee3\u7801\u6539\u7684\uff0c\u6ca1\u6709\u6df1\u5165\u4f18\u5316\uff0c\u5927\u5bb6\u5c31\u968f\u4fbf\u770b\u770b\uff0c\u5927\u6982\u5c31\u662f\u8fd9\u4e48\u4e2a\u4e1c\u897f\u3002\n\n\u5199\u597d\u4ee3\u7801\u4e4b\u540e\uff0c\u6211\u4eec\u4fdd\u5b58\u6587\u4ef6\u3002\u4f46\u662f\u6b64\u65f6\uff0c\u6211\u4eec\u8fd8\u4e0d\u80fd\u4f7f\u7528\u6211\u4eec\u7684\u8fd9\u4e2a\u65b9\u6cd5\u51fd\u6570\u3002\u6211\u4eec\u5fc5\u987b\u5728 `main.js` \u4e2d\u5c06\u6211\u4eec\u7684\u65b9\u6cd5\u51fd\u6570\u7ed9\u7ed1\u5b9a\u4e0a\u3002\u5982\u4e0b\u4ee3\u7801\uff1a\n\n```js\n\/\/ \u5f15\u7528\u5de5\u5177\u6587\u4ef6\nimport utils from '.\/utils\/index.js'\n\/\/ \u5c06\u5de5\u5177\u65b9\u6cd5\u7ed1\u5b9a\u5230\u5168\u5c40\nVue.prototype.$utils = utils\n```\n\n\u8fd8\u8bb0\u5f97\u6211\u4eec\u5148\u524d\u662f\u5982\u4f55\u5c06\u6211\u4eec\u7684\u63a5\u53e3\u8bf7\u6c42\u51fd\u6570\u7ed9\u7ed1\u5b9a\u4e0a\u7684\u5417\uff1f\u8fd9\u91cc\u5176\u5b9e\u662f\u91c7\u7528\u4e86\u540c\u6837\u7684\u65b9\u6cd5\u3002\u5982\u679c\u4e0d\u8bb0\u5f97\u4e86\uff0c\u53ef\u4ee5[\u70b9\u51fb\u94fe\u63a5](http:\/\/blog.csdn.net\/fungleo\/article\/details\/77601270)\u8fc7\u53bb\u770b\u770b\u3002\n\n\u597d\u4e86\uff0c\u8fd9\u6837\uff0c\u6211\u4eec\u5199\u7684\u8fd9\u4e2a\u51fd\u6570\uff0c\u5c31\u53ef\u4ee5\u968f\u4fbf\u88ab\u6211\u4eec\u8c03\u7528\u4e86\u3002\u6211\u4eec\u518d\u6765\u4fee\u6539\u4e00\u4e0b\u6211\u4eec\u4e0a\u9762\u7684 `index.vue` \u4e2d\u7684\u4ee3\u7801\uff0c\u5c06 `time` \u8c03\u6574\u4e3a\uff1a\n\n```html\n<time v-text=\"$utils.goodTime(i.create_at)\"><\/time>\n```\n\n\u7136\u540e\uff0c\u6211\u4eec\u518d\u6765\u770b\u4e00\u4e0b\u5b9e\u9645\u7684\u6548\u679c\uff1a\n\n![vue demo by fungleo](http:\/\/img.blog.csdn.net\/20170826170347545?watermark\/2\/text\/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvRnVuZ0xlbw==\/font\/5a6L5L2T\/fontsize\/400\/fill\/I0JBQkFCMA==\/dissolve\/70\/gravity\/SouthEast)\n\n\u597d\uff0c\u6211\u4eec\u5df2\u7ecf\u770b\u5230\uff0c\u65f6\u95f4\u5df2\u7ecf\u641e\u7684\u633a\u597d\u7684\u4e86\u3002\n\n> \u6837\u5f0f\uff0c\u4e0d\u662f\u6211\u8fd9\u4e2a `demo` \u7684\u91cd\u70b9\uff0c\u6240\u4ee5\uff0c\u6837\u5f0f\u81ea\u5df1\u53bb\u5199\u5427\u3002\u6211\u5c31\u4e0d\u5199\u4e86\u3002\n\n\u4e0d\u77e5\u9053\u5927\u5bb6\u6709\u6ca1\u6709\u53d1\u73b0\uff0c\u6211\u4eec\u5728 `script` \u533a\u57df\uff0c\u5f15\u7528\u4e00\u4e2a\u51fd\u6570\u662f\u4f7f\u7528 `this.getData` \u6216\u8005 `this.list` \u8fd9\u6837\u7684\u4ee3\u7801\u5f15\u7528\u7684\u3002\u4f46\u662f\u5728 `template` \u4e2d\uff0c\u6211\u4eec\u662f\u4e0d\u52a0 `this` \u7684\u3002\n\n**\u5728 `js` \u4e2d\uff0c\u5173\u4e8e `this` \u7684\u8bba\u6587\u5c31\u5f88\u591a\uff0c\u6211\u8fd9\u91cc\u4e0d\u6df1\u5165\u8bb2\u89e3\u4e86\u3002\u5927\u5bb6\u53ea\u8981\u8bb0\u4f4f\u8fd9\u6837\u7528\u5c31\u53ef\u4ee5\u4e86\u3002**\n\n\u597d\uff0c\u6211\u4eec\u7684\u5217\u8868\u5df2\u7ecf\u6e32\u67d3\u51fa\u6765\u4e86\u3002\u7ec8\u4e8e\u89c1\u4e86\u70b9\u771f\u7ae0\uff0c\u5e94\u8be5\u5f88\u6fc0\u52a8\u4e86\u5427\u3002\u4e0b\u9762\uff0c\u6211\u4eec\u7ee7\u7eed\u3002\n\n> \u5982\u679c\u6587\u7ae0\u7531\u4e8e\u6211\u5b66\u8bc6\u6d45\u8584\uff0c\u5bfc\u81f4\u60a8\u53d1\u73b0\u6709\u4e25\u91cd\u8c2c\u8bef\u7684\u5730\u65b9\uff0c\u8bf7\u4e00\u5b9a\u5728\u8bc4\u8bba\u4e2d\u6307\u51fa\uff0c\u6211\u4f1a\u5728\u7b2c\u4e00\u65f6\u95f4\u4fee\u6b63\u6211\u7684\u535a\u6587\uff0c\u4ee5\u907f\u514d\u8bef\u4eba\u5b50\u5f1f\u3002\n\n\u672c\u6587\u7531 FungLeo \u539f\u521b\uff0c\u5141\u8bb8\u8f6c\u8f7d\uff0c\u4f46\u8f6c\u8f7d\u5fc5\u987b\u4fdd\u7559\u9996\u53d1\u94fe\u63a5\u3002\n\n\n","private":0,"tags":"vue,vuerouter,cnodejs,webpack,axios","categories":"vuejs","channel":"14","type":"original","status":1},"error":"","status":true}