{"data":{"id":"78114436","title":"javascript \u5feb\u901f\u83b7\u53d6\u56fe\u7247\u5b9e\u9645\u5927\u5c0f\u7684\u5bbd\u9ad8","articleedittype":1,"description":"javascript \u5feb\u901f\u83b7\u53d6\u56fe\u7247\u5b9e\u9645\u5927\u5c0f\u7684\u5bbd\u9ad8\u7b80\u964b\u7684\u83b7\u53d6\u56fe\u7247\u5b9e\u9645\u5bbd\u9ad8\u7684\u65b9\u5f0f\/\/ \u56fe\u7247\u5730\u5740\nvar img_url = '13643608813441.jpg'\/\/ \u521b\u5efa\u5bf9\u8c61\nvar img = new Image()\/\/ \u6539\u53d8\u56fe\u7247\u7684src\nimg.src = img_url\/\/ \u6253\u5370\nalert('width:'+img.width+',height:'+img.height);\u7ed3\u679c\u5982\u4e0b\uff1a\u5bbd\u9ad8\u90fd\u662f","content":"<h1 id=\"javascript-\u5feb\u901f\u83b7\u53d6\u56fe\u7247\u5b9e\u9645\u5927\u5c0f\u7684\u5bbd\u9ad8\">javascript \u5feb\u901f\u83b7\u53d6\u56fe\u7247\u5b9e\u9645\u5927\u5c0f\u7684\u5bbd\u9ad8<\/h1>\n\n<h2 id=\"\u7b80\u964b\u7684\u83b7\u53d6\u56fe\u7247\u5b9e\u9645\u5bbd\u9ad8\u7684\u65b9\u5f0f\">\u7b80\u964b\u7684\u83b7\u53d6\u56fe\u7247\u5b9e\u9645\u5bbd\u9ad8\u7684\u65b9\u5f0f<\/h2>\n\n\n\n<pre class=\"prettyprint\"><code class=\"language-js hljs \"><span class=\"hljs-comment\">\/\/ \u56fe\u7247\u5730\u5740<\/span>\n<span class=\"hljs-keyword\">var<\/span> img_url = <span class=\"hljs-string\">'13643608813441.jpg'<\/span>\n\n<span class=\"hljs-comment\">\/\/ \u521b\u5efa\u5bf9\u8c61<\/span>\n<span class=\"hljs-keyword\">var<\/span> img = <span class=\"hljs-keyword\">new<\/span> Image()\n\n<span class=\"hljs-comment\">\/\/ \u6539\u53d8\u56fe\u7247\u7684src<\/span>\nimg.src = img_url\n\n<span class=\"hljs-comment\">\/\/ \u6253\u5370<\/span>\nalert(<span class=\"hljs-string\">'width:'<\/span>+img.width+<span class=\"hljs-string\">',height:'<\/span>+img.height);<\/code><\/pre>\n\n<p>\u7ed3\u679c\u5982\u4e0b\uff1a<\/p>\n\n<p><img src=\"http:\/\/upload-images.jianshu.io\/upload_images\/4645892-0ef46ab2f2df29c1.jpg?imageMogr2\/auto-orient\/strip%7CimageView2\/2\/w\/1240\" alt=\"\" title=\"\"><\/p>\n\n<p>\u5bbd\u9ad8\u90fd\u662f0\u7684\u8fd9\u4e2a\u7ed3\u679c\u5f88\u6b63\u5e38\uff0c\u56e0\u4e3a\u56fe\u7247\u7684\u76f8\u5173\u6570\u636e\u90fd\u6ca1\u6709\u88ab\u52a0\u8f7d\u524d\u5b83\u7684\u5bbd\u9ad8\u9ed8\u8ba4\u5c31\u662f0\uff0c\u6211\u4eec\u9700\u8981\u5b83\u52a0\u8f7d\u5b8c\u6240\u6709\u7684\u76f8\u5173\u6570\u636e\u518d\u83b7\u53d6\u5bbd\u548c\u9ad8\u3002<\/p>\n\n\n\n<h2 id=\"onload\u52a0\u8f7d\u6240\u6709\u7684\u76f8\u5173\u6570\u636e\u540e\u53d6\u5bbd\u9ad8\">onload\u52a0\u8f7d\u6240\u6709\u7684\u76f8\u5173\u6570\u636e\u540e\uff0c\u53d6\u5bbd\u9ad8<\/h2>\n\n\n\n<pre class=\"prettyprint\"><code class=\"language-js hljs \"><span class=\"hljs-comment\">\/\/ \u56fe\u7247\u5730\u5740<\/span>\n<span class=\"hljs-keyword\">var<\/span> img_url = <span class=\"hljs-string\">'13643608813441.jpg'<\/span>\n\n<span class=\"hljs-comment\">\/\/ \u521b\u5efa\u5bf9\u8c61<\/span>\n<span class=\"hljs-keyword\">var<\/span> img = <span class=\"hljs-keyword\">new<\/span> Image()\n\n<span class=\"hljs-comment\">\/\/ \u6539\u53d8\u56fe\u7247\u7684src<\/span>\nimg.src = img_url\n\n<span class=\"hljs-comment\">\/\/ \u52a0\u8f7d\u5b8c\u6210\u6267\u884c<\/span>\nimg.onload = <span class=\"hljs-function\"><span class=\"hljs-keyword\">function<\/span><span class=\"hljs-params\">()<\/span>{<\/span>\n    <span class=\"hljs-comment\">\/\/ \u6253\u5370<\/span>\n    alert(<span class=\"hljs-string\">'width:'<\/span>+img.width+<span class=\"hljs-string\">',height:'<\/span>+img.height)\n}<\/code><\/pre>\n\n<p>\u7ed3\u679c\u5982\u4e0b:<\/p>\n\n<p><img src=\"http:\/\/upload-images.jianshu.io\/upload_images\/4645892-6900614bacd4d4ba.jpg?imageMogr2\/auto-orient\/strip%7CimageView2\/2\/w\/1240\" alt=\"\" title=\"\"><\/p>\n\n<p>\u901a\u8fc7onload\u5c31\u80fd\u83b7\u53d6\u5230\u56fe\u7247\u7684\u5bbd\u9ad8\u4e86\u3002\u4f46onload\u5927\u4e00\u70b9\u7684\u56fe\u901a\u5e38\u90fd\u6bd4\u8f83\u6162\uff0c\u4e0d\u5b9e\u7528\uff0c\u4f46\u53ea\u8981\u56fe\u7247\u88ab\u6d4f\u89c8\u5668\u7f13\u5b58\uff0c\u90a3\u4e48\u56fe\u7247\u52a0\u8f7d\u51e0\u4e4e\u5c31\u4e0d\u7528\u7b49\u5f85\u5373\u53ef\u89e6\u53d1onload\uff0c\u6211\u4eec\u8981\u7684\u662f\u5360\u4f4d\u7b26\u3002\u6240\u4ee5\u6709\u4e9b\u4eba\u901a\u8fc7\u7f13\u5b58\u83b7\u53d6\u4e5f\u53ef\u4ee5\u8fd9\u4e48\u5199\u3002<\/p>\n\n\n\n<h2 id=\"\u901a\u8fc7complete\u4e0eonload\u4e00\u8d77\u6df7\u5408\u4f7f\u7528\">\u901a\u8fc7complete\u4e0eonload\u4e00\u8d77\u6df7\u5408\u4f7f\u7528<\/h2>\n\n\n\n<pre class=\"prettyprint\"><code class=\"language-js hljs \"><span class=\"hljs-comment\">\/\/ \u56fe\u7247\u5730\u5740<\/span>\n<span class=\"hljs-keyword\">var<\/span> img_url = <span class=\"hljs-string\">'13643608813441.jpg'<\/span>\n\n<span class=\"hljs-comment\">\/\/ \u521b\u5efa\u5bf9\u8c61<\/span>\n<span class=\"hljs-keyword\">var<\/span> img = <span class=\"hljs-keyword\">new<\/span> Image()\n\n<span class=\"hljs-comment\">\/\/ \u6539\u53d8\u56fe\u7247\u7684src<\/span>\nimg.src = img_url\n\n<span class=\"hljs-comment\">\/\/ \u5224\u65ad\u662f\u5426\u6709\u7f13\u5b58<\/span>\n<span class=\"hljs-keyword\">if<\/span>(img.complete){\n    <span class=\"hljs-comment\">\/\/ \u6253\u5370<\/span>\n    alert(<span class=\"hljs-string\">'from:complete : width:'<\/span>+img.width+<span class=\"hljs-string\">',height:'<\/span>+img.height)\n}<span class=\"hljs-keyword\">else<\/span>{\n    <span class=\"hljs-comment\">\/\/ \u52a0\u8f7d\u5b8c\u6210\u6267\u884c<\/span>\n    img.onload = <span class=\"hljs-function\"><span class=\"hljs-keyword\">function<\/span><span class=\"hljs-params\">()<\/span>{<\/span>\n        <span class=\"hljs-comment\">\/\/ \u6253\u5370<\/span>\n        alert(<span class=\"hljs-string\">'width:'<\/span>+img.width+<span class=\"hljs-string\">',height:'<\/span>+img.height)\n    }\n}<\/code><\/pre>\n\n<p>\u7b2c\u4e00\u6b21\u6267\u884c\uff0c\u6c38\u8fdc\u662fonload\u89e6\u53d1\uff0c\u4f60\u518d\u5237\u65b0\uff0c\u51e0\u4e4e\u90fd\u662f\u7f13\u5b58\u89e6\u53d1\u4e86\u3002<\/p>\n\n<p>\u4ece\u7f13\u5b58\u91cc\u8bfb\u53d6\u56fe\u7247\u7684\u5bbd\u9ad8\u4e0d\u7528\u8bf4\uff0c\u975e\u5e38\u65b9\u4fbf\u5feb\u6377\uff0c\u4eca\u5929\u6211\u4eec\u8981\u89e3\u51b3\u7684\u662f\u6ca1\u6709\u7f13\u5b58\u800c\u53c8\u5feb\u901f\u7684\u76f8\u6bd4onload\u66f4\u5feb\u7684\u65b9\u5f0f\u53bb\u83b7\u53d6\u56fe\u7247\u7684\u5bbd\u9ad8\u3002\u6211\u4eec\u5e38\u5e38\u77e5\u9053\u6709\u4e9b\u56fe\u7247\u867d\u7136\u6ca1\u6709\u5b8c\u5168down\u4e0b\u6765\uff0c\u4f46\u662f\u5df2\u7ecf\u5148\u6709\u5360\u4f4d\u7b26\uff0c\u7136\u540e\u4e00\u70b9\u4e00\u70b9\u7684\u52a0\u8f7d\u3002\u65e2\u7136\u6709\u5360\u4f4d\u7b26\u90a3\u5e94\u8be5\u662f\u8bf7\u6c42\u56fe\u7247\u8d44\u6e90\u670d\u52a1\u5668\u54cd\u5e94\u540e\u8fd4\u56de\u7684\u3002\u53ef\u670d\u52a1\u5668\u4ec0\u4e48\u65f6\u5019\u54cd\u5e94\u5e76\u8fd4\u56de\u5bbd\u9ad8\u7684\u6570\u636e\u6ca1\u6709\u89e6\u53d1\u4e8b\u4ef6\uff0c\u6bd4\u5982onload\u4e8b\u4ef6\u3002\u4e8e\u662f\u50ac\u751f\u4e86\u7b2c\u56db\u79cd\u65b9\u6cd5\u3002<\/p>\n\n\n\n<h2 id=\"\u901a\u8fc7\u5b9a\u65f6\u5faa\u73af\u68c0\u6d4b\u83b7\u53d6\">\u901a\u8fc7\u5b9a\u65f6\u5faa\u73af\u68c0\u6d4b\u83b7\u53d6<\/h2>\n\n<p>\u8fd9\u4e2a\u65b9\u6cd5\u53ef\u4ee5\u5f88\u5feb\u83b7\u53d6\u56fe\u7247\u76f8\u5173\u4fe1\u606f\uff1a<\/p>\n\n\n\n<pre class=\"prettyprint\"><code class=\"language-js hljs \"><span class=\"hljs-comment\">\/\/ \u8bb0\u5f55\u5f53\u524d\u65f6\u95f4\u6233<\/span>\n<span class=\"hljs-keyword\">var<\/span> start_time = <span class=\"hljs-keyword\">new<\/span> <span class=\"hljs-built_in\">Date<\/span>().getTime()\n<span class=\"hljs-comment\">\/\/ \u56fe\u7247\u5730\u5740 \u540e\u9762\u52a0\u65f6\u95f4\u6233\u662f\u4e3a\u4e86\u907f\u514d\u7f13\u5b58<\/span>\n<span class=\"hljs-keyword\">var<\/span> img_url = <span class=\"hljs-string\">'http:\/\/b.zol-img.com.cn\/desk\/bizhi\/image\/2\/2560x1600\/1365477614755.jpg?'<\/span>+start_time\n<span class=\"hljs-comment\">\/\/ \u521b\u5efa\u5bf9\u8c61<\/span>\n<span class=\"hljs-keyword\">var<\/span> img = <span class=\"hljs-keyword\">new<\/span> Image()\n<span class=\"hljs-comment\">\/\/ \u6539\u53d8\u56fe\u7247\u7684src<\/span>\nimg.src = img_url\n<span class=\"hljs-comment\">\/\/ \u5b9a\u65f6\u6267\u884c\u83b7\u53d6\u5bbd\u9ad8<\/span>\n<span class=\"hljs-keyword\">var<\/span> check = <span class=\"hljs-function\"><span class=\"hljs-keyword\">function<\/span><span class=\"hljs-params\">()<\/span>{<\/span>\n <span class=\"hljs-comment\">\/\/ \u53ea\u8981\u4efb\u4f55\u4e00\u65b9\u5927\u4e8e0<\/span>\n <span class=\"hljs-comment\">\/\/ \u8868\u793a\u5df2\u7ecf\u670d\u52a1\u5668\u5df2\u7ecf\u8fd4\u56de\u5bbd\u9ad8<\/span>\n    <span class=\"hljs-keyword\">if<\/span> (img.width&gt;<span class=\"hljs-number\">0<\/span> || img.height&gt;<span class=\"hljs-number\">0<\/span>) {\n        <span class=\"hljs-keyword\">var<\/span> diff = <span class=\"hljs-keyword\">new<\/span> <span class=\"hljs-built_in\">Date<\/span>().getTime() - start_time;\n        document.body.innerHTML += <span class=\"hljs-string\">'\n        from:check : width:'<\/span>+img.width+<span class=\"hljs-string\">',height:'<\/span>+img.height+<span class=\"hljs-string\">', time:'<\/span>+diff+<span class=\"hljs-string\">'ms'<\/span>;\n        clearInterval(set);\n    }\n}\n<span class=\"hljs-keyword\">var<\/span> set = setInterval(check,<span class=\"hljs-number\">40<\/span>)\n<span class=\"hljs-comment\">\/\/ \u52a0\u8f7d\u5b8c\u6210\u83b7\u53d6\u5bbd\u9ad8<\/span>\nimg.onload = <span class=\"hljs-function\"><span class=\"hljs-keyword\">function<\/span><span class=\"hljs-params\">()<\/span>{<\/span>\n    <span class=\"hljs-keyword\">var<\/span> diff = <span class=\"hljs-keyword\">new<\/span> <span class=\"hljs-built_in\">Date<\/span>().getTime() - start_time;\n    document.body.innerHTML += <span class=\"hljs-string\">'from:onload : width:'<\/span>+img.width+<span class=\"hljs-string\">',height:'<\/span>+img.height+<span class=\"hljs-string\">', time:'<\/span>+diff+<span class=\"hljs-string\">'ms'<\/span>;\n};<\/code><\/pre>\n\n<p>\u7ed3\u679c\u5982\u4e0b\uff1a<\/p>\n\n<p><img src=\"http:\/\/upload-images.jianshu.io\/upload_images\/4645892-c76e38f4e13a093a.jpg?imageMogr2\/auto-orient\/strip%7CimageView2\/2\/w\/1240\" alt=\"\" title=\"\"><\/p>\n\n<p>\u8fd9\u662f\u4e00\u5f202560 * 1600\u5927\u5c0f\u7684\u56fe\u7247\uff0c\u5404\u6d4f\u89c8\u5668\u6267\u884c\u7ed3\u679c\u90fd\u80fd\u770b\u5230\u901a\u8fc7\u5feb\u901f\u83b7\u53d6\u56fe\u7247\u5927\u5c0f\u7684\u65b9\u6cd5\u51e0\u4e4e\u90fd\u5728200\u6beb\u79d2\u4ee5\u5185\uff0c\u800conload\u81f3\u5c11\u4e94\u79d2\u4ee5\u4e0a\uff0c\u8fd9\u5dee\u522b\u4e4b\u5927\u8bf4\u660e\u5feb\u901f\u83b7\u53d6\u56fe\u7247\u5bbd\u9ad8\u975e\u5e38\u5b9e\u7528\u3002<\/p>\n\n<p>\u5f53\u7136\u73b0\u5728\u6d4f\u89c8\u5668\u968f\u7740\u6027\u80fd\u7684\u63d0\u5347\u4e5f\u8bb8\u8fd9\u4e00\u5dee\u8ddd\u4e0d\u662f\u90a3\u4e48\u7684\u5927\uff0c\u751a\u81f3\u4e0eonload\u6709\u65f6\u8fd8\u4f1a\u66f4\u5feb\u4e9b\u3002<\/p>\n\n<p>\u4f5c\u8005\uff1a\u8a00\u58a8\u513f <br>\n\u94fe\u63a5\uff1a<a href=\"http:\/\/www.jianshu.com\/p\/41ff1d103d3f\" target=\"_blank\">http:\/\/www.jianshu.com\/p\/41ff1d103d3f<\/a><\/p>","markdowncontent":"# javascript \u5feb\u901f\u83b7\u53d6\u56fe\u7247\u5b9e\u9645\u5927\u5c0f\u7684\u5bbd\u9ad8\n\n## \u7b80\u964b\u7684\u83b7\u53d6\u56fe\u7247\u5b9e\u9645\u5bbd\u9ad8\u7684\u65b9\u5f0f\n\n```js\n\/\/ \u56fe\u7247\u5730\u5740\nvar img_url = '13643608813441.jpg'\n\n\/\/ \u521b\u5efa\u5bf9\u8c61\nvar img = new Image()\n\n\/\/ \u6539\u53d8\u56fe\u7247\u7684src\nimg.src = img_url\n\n\/\/ \u6253\u5370\nalert('width:'+img.width+',height:'+img.height);\n```\n\n\u7ed3\u679c\u5982\u4e0b\uff1a\n\n![](http:\/\/upload-images.jianshu.io\/upload_images\/4645892-0ef46ab2f2df29c1.jpg?imageMogr2\/auto-orient\/strip%7CimageView2\/2\/w\/1240)\n\n\n\u5bbd\u9ad8\u90fd\u662f0\u7684\u8fd9\u4e2a\u7ed3\u679c\u5f88\u6b63\u5e38\uff0c\u56e0\u4e3a\u56fe\u7247\u7684\u76f8\u5173\u6570\u636e\u90fd\u6ca1\u6709\u88ab\u52a0\u8f7d\u524d\u5b83\u7684\u5bbd\u9ad8\u9ed8\u8ba4\u5c31\u662f0\uff0c\u6211\u4eec\u9700\u8981\u5b83\u52a0\u8f7d\u5b8c\u6240\u6709\u7684\u76f8\u5173\u6570\u636e\u518d\u83b7\u53d6\u5bbd\u548c\u9ad8\u3002\n\n## onload\u52a0\u8f7d\u6240\u6709\u7684\u76f8\u5173\u6570\u636e\u540e\uff0c\u53d6\u5bbd\u9ad8\n\n```js\n\/\/ \u56fe\u7247\u5730\u5740\nvar img_url = '13643608813441.jpg'\n\n\/\/ \u521b\u5efa\u5bf9\u8c61\nvar img = new Image()\n\n\/\/ \u6539\u53d8\u56fe\u7247\u7684src\nimg.src = img_url\n\n\/\/ \u52a0\u8f7d\u5b8c\u6210\u6267\u884c\nimg.onload = function(){\n    \/\/ \u6253\u5370\n    alert('width:'+img.width+',height:'+img.height)\n}\n```\n\n\u7ed3\u679c\u5982\u4e0b:\n\n![](http:\/\/upload-images.jianshu.io\/upload_images\/4645892-6900614bacd4d4ba.jpg?imageMogr2\/auto-orient\/strip%7CimageView2\/2\/w\/1240)\n\n\n\u901a\u8fc7onload\u5c31\u80fd\u83b7\u53d6\u5230\u56fe\u7247\u7684\u5bbd\u9ad8\u4e86\u3002\u4f46onload\u5927\u4e00\u70b9\u7684\u56fe\u901a\u5e38\u90fd\u6bd4\u8f83\u6162\uff0c\u4e0d\u5b9e\u7528\uff0c\u4f46\u53ea\u8981\u56fe\u7247\u88ab\u6d4f\u89c8\u5668\u7f13\u5b58\uff0c\u90a3\u4e48\u56fe\u7247\u52a0\u8f7d\u51e0\u4e4e\u5c31\u4e0d\u7528\u7b49\u5f85\u5373\u53ef\u89e6\u53d1onload\uff0c\u6211\u4eec\u8981\u7684\u662f\u5360\u4f4d\u7b26\u3002\u6240\u4ee5\u6709\u4e9b\u4eba\u901a\u8fc7\u7f13\u5b58\u83b7\u53d6\u4e5f\u53ef\u4ee5\u8fd9\u4e48\u5199\u3002\n\n## \u901a\u8fc7complete\u4e0eonload\u4e00\u8d77\u6df7\u5408\u4f7f\u7528\n\n```js\n\/\/ \u56fe\u7247\u5730\u5740\nvar img_url = '13643608813441.jpg'\n\n\/\/ \u521b\u5efa\u5bf9\u8c61\nvar img = new Image()\n\n\/\/ \u6539\u53d8\u56fe\u7247\u7684src\nimg.src = img_url\n\n\/\/ \u5224\u65ad\u662f\u5426\u6709\u7f13\u5b58\nif(img.complete){\n    \/\/ \u6253\u5370\n    alert('from:complete : width:'+img.width+',height:'+img.height)\n}else{\n    \/\/ \u52a0\u8f7d\u5b8c\u6210\u6267\u884c\n    img.onload = function(){\n        \/\/ \u6253\u5370\n        alert('width:'+img.width+',height:'+img.height)\n    }\n}\n```\n\n\u7b2c\u4e00\u6b21\u6267\u884c\uff0c\u6c38\u8fdc\u662fonload\u89e6\u53d1\uff0c\u4f60\u518d\u5237\u65b0\uff0c\u51e0\u4e4e\u90fd\u662f\u7f13\u5b58\u89e6\u53d1\u4e86\u3002\n\n\u4ece\u7f13\u5b58\u91cc\u8bfb\u53d6\u56fe\u7247\u7684\u5bbd\u9ad8\u4e0d\u7528\u8bf4\uff0c\u975e\u5e38\u65b9\u4fbf\u5feb\u6377\uff0c\u4eca\u5929\u6211\u4eec\u8981\u89e3\u51b3\u7684\u662f\u6ca1\u6709\u7f13\u5b58\u800c\u53c8\u5feb\u901f\u7684\u76f8\u6bd4onload\u66f4\u5feb\u7684\u65b9\u5f0f\u53bb\u83b7\u53d6\u56fe\u7247\u7684\u5bbd\u9ad8\u3002\u6211\u4eec\u5e38\u5e38\u77e5\u9053\u6709\u4e9b\u56fe\u7247\u867d\u7136\u6ca1\u6709\u5b8c\u5168down\u4e0b\u6765\uff0c\u4f46\u662f\u5df2\u7ecf\u5148\u6709\u5360\u4f4d\u7b26\uff0c\u7136\u540e\u4e00\u70b9\u4e00\u70b9\u7684\u52a0\u8f7d\u3002\u65e2\u7136\u6709\u5360\u4f4d\u7b26\u90a3\u5e94\u8be5\u662f\u8bf7\u6c42\u56fe\u7247\u8d44\u6e90\u670d\u52a1\u5668\u54cd\u5e94\u540e\u8fd4\u56de\u7684\u3002\u53ef\u670d\u52a1\u5668\u4ec0\u4e48\u65f6\u5019\u54cd\u5e94\u5e76\u8fd4\u56de\u5bbd\u9ad8\u7684\u6570\u636e\u6ca1\u6709\u89e6\u53d1\u4e8b\u4ef6\uff0c\u6bd4\u5982onload\u4e8b\u4ef6\u3002\u4e8e\u662f\u50ac\u751f\u4e86\u7b2c\u56db\u79cd\u65b9\u6cd5\u3002\n\n## \u901a\u8fc7\u5b9a\u65f6\u5faa\u73af\u68c0\u6d4b\u83b7\u53d6\n\n\u8fd9\u4e2a\u65b9\u6cd5\u53ef\u4ee5\u5f88\u5feb\u83b7\u53d6\u56fe\u7247\u76f8\u5173\u4fe1\u606f\uff1a\n\n```js\n\/\/ \u8bb0\u5f55\u5f53\u524d\u65f6\u95f4\u6233\nvar start_time = new Date().getTime()\n\/\/ \u56fe\u7247\u5730\u5740 \u540e\u9762\u52a0\u65f6\u95f4\u6233\u662f\u4e3a\u4e86\u907f\u514d\u7f13\u5b58\nvar img_url = 'http:\/\/b.zol-img.com.cn\/desk\/bizhi\/image\/2\/2560x1600\/1365477614755.jpg?'+start_time\n\/\/ \u521b\u5efa\u5bf9\u8c61\nvar img = new Image()\n\/\/ \u6539\u53d8\u56fe\u7247\u7684src\nimg.src = img_url\n\/\/ \u5b9a\u65f6\u6267\u884c\u83b7\u53d6\u5bbd\u9ad8\nvar check = function(){\n \/\/ \u53ea\u8981\u4efb\u4f55\u4e00\u65b9\u5927\u4e8e0\n \/\/ \u8868\u793a\u5df2\u7ecf\u670d\u52a1\u5668\u5df2\u7ecf\u8fd4\u56de\u5bbd\u9ad8\n    if (img.width>0 || img.height>0) {\n        var diff = new Date().getTime() - start_time;\n        document.body.innerHTML += '\n        from:check : width:'+img.width+',height:'+img.height+', time:'+diff+'ms';\n        clearInterval(set);\n    }\n}\nvar set = setInterval(check,40)\n\/\/ \u52a0\u8f7d\u5b8c\u6210\u83b7\u53d6\u5bbd\u9ad8\nimg.onload = function(){\n    var diff = new Date().getTime() - start_time;\n    document.body.innerHTML += 'from:onload : width:'+img.width+',height:'+img.height+', time:'+diff+'ms';\n};\n```\n\n\u7ed3\u679c\u5982\u4e0b\uff1a\n\n![](http:\/\/upload-images.jianshu.io\/upload_images\/4645892-c76e38f4e13a093a.jpg?imageMogr2\/auto-orient\/strip%7CimageView2\/2\/w\/1240)\n\n\u8fd9\u662f\u4e00\u5f202560 * 1600\u5927\u5c0f\u7684\u56fe\u7247\uff0c\u5404\u6d4f\u89c8\u5668\u6267\u884c\u7ed3\u679c\u90fd\u80fd\u770b\u5230\u901a\u8fc7\u5feb\u901f\u83b7\u53d6\u56fe\u7247\u5927\u5c0f\u7684\u65b9\u6cd5\u51e0\u4e4e\u90fd\u5728200\u6beb\u79d2\u4ee5\u5185\uff0c\u800conload\u81f3\u5c11\u4e94\u79d2\u4ee5\u4e0a\uff0c\u8fd9\u5dee\u522b\u4e4b\u5927\u8bf4\u660e\u5feb\u901f\u83b7\u53d6\u56fe\u7247\u5bbd\u9ad8\u975e\u5e38\u5b9e\u7528\u3002\n\n\u5f53\u7136\u73b0\u5728\u6d4f\u89c8\u5668\u968f\u7740\u6027\u80fd\u7684\u63d0\u5347\u4e5f\u8bb8\u8fd9\u4e00\u5dee\u8ddd\u4e0d\u662f\u90a3\u4e48\u7684\u5927\uff0c\u751a\u81f3\u4e0eonload\u6709\u65f6\u8fd8\u4f1a\u66f4\u5feb\u4e9b\u3002\n\n\u4f5c\u8005\uff1a\u8a00\u58a8\u513f\n\u94fe\u63a5\uff1ahttp:\/\/www.jianshu.com\/p\/41ff1d103d3f\n\n\n","private":0,"tags":"javascript,\u83b7\u53d6\u56fe\u7247\u5927\u5c0f","categories":"JavaScript","channel":"14","type":"repost","status":1},"error":"","status":true}