{"data":{"id":"71557042","title":"Vue2+VueRouter2+webpack+Axios \u6784\u5efa\u9879\u76ee\u5b9e\u6218\uff08\u4e03\uff09\u91cd\u6784API\u6587\u4ef6\u4e3a\u4f7f\u7528axios","articleedittype":1,"description":"Vue2+VueRouter2+webpack+Axios \u6784\u5efa\u9879\u76ee\u5b9e\u6218\uff08\u4e03\uff09\u91cd\u6784API\u6587\u4ef6\u4e3a\u4f7f\u7528axios\u524d\u8a00\u6211\u4eec\u5728\u524d\u9762\u7684\u6559\u7a0bVue2+VueRouter2+webpack \u6784\u5efa\u9879\u76ee\u5b9e\u6218\uff08\u56db\uff09\u63a5\u901aapi\uff0c\u5148\u6e32\u67d3\u4e2a\u5217\u8868\u5f53\u4e2d\u4f7f\u7528\u4e86superagent\u8fd9\u4e2aAPI\u8bf7\u6c42\u5de5\u5177\u3002\u4f46\u662f\u73b0\u5728\u5f88\u591a\u4e3b\u6d41\u7684\u6559\u7a0b\u90fd\u662f\u4f7f\u7528\u7684axios\u8fd9\u4e2a\u5de5\u5177\u3002\u56e0\u6b64\uff0c\u6211\u5c31\u60f3\u91cd\u6784\u4e00\u4e0b\u6211\u4eec\u7684\u8fd9\u4e2a\u6587\u4ef6\uff0c\u8ba9\u6211\u4eec\u7684\u9879\u76ee\uff0c\u4e5f\u80fd\u8dd1\u5728axios\u8fd9\u4e2a\u63a5\u53e3\u5de5\u5177\u4e0a","content":"<h1 id=\"vue2vuerouter2webpackaxios-\u6784\u5efa\u9879\u76ee\u5b9e\u6218\u4e03\u91cd\u6784api\u6587\u4ef6\u4e3a\u4f7f\u7528axios\">Vue2+VueRouter2+webpack+Axios \u6784\u5efa\u9879\u76ee\u5b9e\u6218\uff08\u4e03\uff09\u91cd\u6784API\u6587\u4ef6\u4e3a\u4f7f\u7528axios<\/h1>\n\n\n\n<h2 id=\"2017\u5e748\u6708\u8865\u5145\">2017\u5e748\u6708\u8865\u5145<\/h2>\n\n<p>2016\u5e74\uff0c\u6211\u5199\u4e86\u4e00\u7cfb\u5217\u7684 VUE \u5165\u95e8\u6559\u7a0b\uff0c\u5f53\u65f6\u5199\u8fd9\u4e00\u7cfb\u5217\u535a\u6587\u7684\u65f6\u5019\uff0c\u6211\u4e5f\u53ea\u662f\u4e00\u4e2a\u83dc\u9e1f\uff0c\u751a\u81f3\u5728\u5199\u7684\u8fc7\u7a0b\u4e2d\u5173\u95ed\u4e86\u4ee3\u7801\u5ba1\u67e5\uff0c\u5426\u5219\u901a\u4e0d\u8fc7\u6821\u9a8c\u3002<\/p>\n\n<p>\u672c\u6765\u5199\u8fd9\u4e00\u7cfb\u5217\u7684\u535a\u6587\u53ea\u662f\u4e3a\u4e86\u7ed9\u81ea\u5df1\u770b\u7684\uff0c\u4f46\u6ca1\u60f3\u5230\u7684\u662f\uff0c\u8fd9\u7cfb\u5217\u535a\u6587\u7684\u70b9\u51fb\u91cf\u8d85\u8fc7\u4e862\u4e07\u4ee5\u4e0a\uff0c\u641c\u7d22\u5f15\u64ce\u7684\u6392\u540d\u4e5f\u662f\u975e\u5e38\u7406\u60f3\uff0c\u8fd9\u8ba9\u6211\u8bda\u60f6\u8bda\u6050\uff0c\u751f\u6015\u6211\u5199\u7684\u535a\u6587\u6709\u6240\u7eb0\u6f0f\uff0c\u8bef\u4eba\u5b50\u5f1f\u3002<\/p>\n\n<p>\u518d\u8005\uff0c\u8fd9\u4e00\u5e74\u7684\u53d1\u5c55\uff0cVUE \u9879\u76ee\u5feb\u901f\u8fed\u4ee3\uff0c\u770b\u7740\u6211\u4e00\u5e74\u524d\u5199\u7684\u535a\u6587\uff0c\u5f88\u53ef\u80fd\u5404\u79cd\u63d0\u793a\u5df2\u7ecf\u53d1\u751f\u6539\u53d8\uff0c\u5bf9\u7167\u7740\u8fc7\u65f6\u7684\u8d44\u6599\uff0c\u975e\u5e38\u53ef\u80fd\u5bfc\u81f4\u65b0\u624b\u5728\u5b66\u4e60\u7684\u8fc7\u7a0b\u4e2d\u4ea7\u751f\u4e0d\u5fc5\u8981\u7684\u56f0\u6270\u3002<\/p>\n\n<p>\u56e0\u6b64\uff0c\u672c\u4eba\u51b3\u5b9a\uff0c\u91cd\u5199\u8fd9\u4e2a\u7cfb\u5217\u7684\u535a\u6587\uff0c\u529b\u6c42\u4ee5\u7b80\u660e\u3001\u6e05\u6670\u3001\u51c6\u786e\u7684\u56fe\u6587\u4ee5\u53ca\u4ee3\u7801\u63cf\u8ff0\uff0c\u914d\u5408 github \u7684\u9879\u76ee\u5f00\u6e90\u4ee3\u7801\uff0c\u7ed9\u5404\u4f4d VUE \u65b0\u624b\u63d0\u4f9b\u4e00\u4e2a\u9ad8\u8d28\u91cf\u7684\u5165\u95e8\u6587\u6848\u3002<\/p>\n\n<p>\u4ee5\u4e0b\u4e3a\u6211\u5199\u7684\u535a\u6587\uff1a<\/p>\n\n<ol>\n<li><a href=\"http:\/\/blog.csdn.net\/fungleo\/article\/details\/77575077\">Vue2+VueRouter2+Webpack+Axios \u6784\u5efa\u9879\u76ee\u5b9e\u62182017\u91cd\u5236\u7248\uff08\u4e00\uff09\u57fa\u7840\u77e5\u8bc6\u6982\u8ff0<\/a><\/li>\n<li><a href=\"http:\/\/blog.csdn.net\/fungleo\/article\/details\/77584701\">Vue2+VueRouter2+Webpack+Axios \u6784\u5efa\u9879\u76ee\u5b9e\u62182017\u91cd\u5236\u7248\uff08\u4e8c\uff09\u5b89\u88c5 nodejs \u73af\u5883\u4ee5\u53ca vue-cli \u6784\u5efa\u521d\u59cb\u9879\u76ee<\/a><\/li>\n<li><a href=\"http:\/\/blog.csdn.net\/fungleo\/article\/details\/77585205\">Vue2+VueRouter2+Webpack+Axios \u6784\u5efa\u9879\u76ee\u5b9e\u62182017\u91cd\u5236\u7248\uff08\u4e09\uff09\u8ba4\u8bc6\u9879\u76ee\u6240\u6709\u6587\u4ef6<\/a><\/li>\n<li><a href=\"http:\/\/blog.csdn.net\/fungleo\/article\/details\/77600798\">Vue2+VueRouter2+Webpack+Axios \u6784\u5efa\u9879\u76ee\u5b9e\u62182017\u91cd\u5236\u7248\uff08\u56db\uff09\u8c03\u6574 App.vue \u548c router \u8def\u7531<\/a><\/li>\n<li><a href=\"http:\/\/blog.csdn.net\/fungleo\/article\/details\/77601270\">Vue2+VueRouter2+Webpack+Axios \u6784\u5efa\u9879\u76ee\u5b9e\u62182017\u91cd\u5236\u7248\uff08\u4e94\uff09\u914d\u7f6e Axios api \u63a5\u53e3\u8c03\u7528\u6587\u4ef6<\/a><\/li>\n<li><a href=\"http:\/\/blog.csdn.net\/fungleo\/article\/details\/77601761\">Vue2+VueRouter2+Webpack+Axios \u6784\u5efa\u9879\u76ee\u5b9e\u62182017\u91cd\u5236\u7248\uff08\u516d\uff09\u5c06\u63a5\u53e3\u7528 webpack \u4ee3\u7406\u5230\u672c\u5730<\/a><\/li>\n<li><a href=\"http:\/\/blog.csdn.net\/fungleo\/article\/details\/77602914\">Vue2+VueRouter2+Webpack+Axios \u6784\u5efa\u9879\u76ee\u5b9e\u62182017\u91cd\u5236\u7248\uff08\u4e03\uff09\u521d\u8bc6 *.vue \u6587\u4ef6<\/a><\/li>\n<li><a href=\"http:\/\/blog.csdn.net\/fungleo\/article\/details\/77603537\">Vue2+VueRouter2+Webpack+Axios \u6784\u5efa\u9879\u76ee\u5b9e\u62182017\u91cd\u5236\u7248\uff08\u516b\uff09\u6e32\u67d3\u4e00\u4e2a\u5217\u8868\u51fa\u6765\u5148<\/a><\/li>\n<li><a href=\"http:\/\/blog.csdn.net\/fungleo\/article\/details\/77604490\">Vue2+VueRouter2+Webpack+Axios \u6784\u5efa\u9879\u76ee\u5b9e\u62182017\u91cd\u5236\u7248\uff08\u4e5d\uff09\u518d\u628a\u5185\u5bb9\u9875\u9762\u6e32\u67d3\u51fa\u6765<\/a><\/li>\n<li><a href=\"http:\/\/blog.csdn.net\/fungleo\/article\/details\/77606216\">Vue2+VueRouter2+Webpack+Axios \u6784\u5efa\u9879\u76ee\u5b9e\u62182017\u91cd\u5236\u7248\uff08\u5341\uff09\u6253\u5305\u9879\u76ee\u5e76\u53d1\u5e03\u5230\u5b50\u76ee\u5f55<\/a><\/li>\n<li><a href=\"http:\/\/blog.csdn.net\/fungleo\/article\/details\/77606321\">Vue2+VueRouter2+Webpack+Axios \u6784\u5efa\u9879\u76ee\u5b9e\u62182017\u91cd\u5236\u7248\uff08\u5341\u4e00\uff09\u9636\u6bb5\u6027\u5c0f\u7ed3<\/a><\/li>\n<\/ol>\n\n<p><strong>\u4ee5\u4e0b\u4e3a\u539f\u6587<\/strong><\/p>\n\n<h2 id=\"\u524d\u8a00\">\u524d\u8a00<\/h2>\n\n<p>\u6211\u4eec\u5728\u524d\u9762\u7684\u6559\u7a0b<a href=\"http:\/\/blog.csdn.net\/fungleo\/article\/details\/53202276\">Vue2+VueRouter2+webpack \u6784\u5efa\u9879\u76ee\u5b9e\u6218\uff08\u56db\uff09\u63a5\u901aapi\uff0c\u5148\u6e32\u67d3\u4e2a\u5217\u8868<\/a>\u5f53\u4e2d\u4f7f\u7528\u4e86<code>superagent<\/code>\u8fd9\u4e2aAPI\u8bf7\u6c42\u5de5\u5177\u3002<\/p>\n\n<p>\u4f46\u662f\u73b0\u5728\u5f88\u591a\u4e3b\u6d41\u7684\u6559\u7a0b\u90fd\u662f\u4f7f\u7528\u7684<code>axios<\/code>\u8fd9\u4e2a\u5de5\u5177\u3002\u56e0\u6b64\uff0c\u6211\u5c31\u60f3\u91cd\u6784\u4e00\u4e0b\u6211\u4eec\u7684\u8fd9\u4e2a\u6587\u4ef6\uff0c\u8ba9\u6211\u4eec\u7684\u9879\u76ee\uff0c\u4e5f\u80fd\u8dd1\u5728<code>axios<\/code>\u8fd9\u4e2a\u63a5\u53e3\u5de5\u5177\u4e0a\u3002<\/p>\n\n<p>\u76ee\u6807\u662f\uff0c\u5b8c\u7f8e\u517c\u5bb9\u6211\u4eec\u7684\u539f\u6709\u4ee3\u7801\uff0c\u800c\u4e0d\u9700\u8981\u505a\u4efb\u4f55\u4fee\u6539\uff0c\u53ea\u9700\u8981\u8c03\u6574<code>api.js<\/code>\u6587\u4ef6\u5373\u53ef\u3002<\/p>\n\n<p>\u4e00\u822c\uff0c\u6211\u4eec\u5728\u9879\u76ee\u4e2d\u53ea\u9700\u8981\u4f7f\u7528\u5230\u56db\u4e2a\u65b9\u6cd5\uff0c\u5c31\u662f\u589e\u5220\u6539\u67e5\uff0c\u5206\u522b\u662f<code>POST<\/code>\u3001<code>DELETE<\/code>\u3001<code>PUT<\/code>\u3001<code>GET<\/code>\u65b9\u6cd5\u3002\u56e0\u6b64\uff0c\u6211\u4eec\u53ea\u5c01\u88c5\u4e86\u8fd9\u56db\u4e2a\u65b9\u6cd5\u3002<\/p>\n\n<p><code>superagent<\/code>\u548c<code>axios<\/code>\u662f\u7c7b\u4f3c\u7684\u5de5\u5177\uff0c\u4f46\u662f\u4ed6\u4eec\u7684\u4ee3\u7801\u98ce\u683c\uff0c\u4ee5\u53ca\u5b9e\u73b0\u529f\u80fd\u662f\u6709\u6240\u5dee\u5f02\u7684\u3002\u5177\u4f53\u7684\u5dee\u5f02\uff0c\u53ef\u4ee5\u67e5\u770b<a href=\"https:\/\/npmcompare.com\/compare\/axios,got,request,reqwest,superagent\">Comparing axios vs. got vs. request vs. reqwest vs. superagent<\/a>\u8fd9\u7bc7\u6587\u7ae0\uff0c\u8fd9\u91cc\u6709\u8be6\u7ec6\u7684\u5bf9\u6bd4\u3002<\/p>\n\n<p>\u4f46\u6211\u4eec\u4e0d\u7ba1\u4ed6\u4eec\u80fd\u5b9e\u73b0\u4ec0\u4e48\uff0c\u6211\u4eec\u53ea\u9700\u8981\u4ed6\u4eec\u80fd\u5b9e\u73b0\u6211\u4eec\u7684\u529f\u80fd\u5373\u53ef\u3002<\/p>\n\n\n\n<h2 id=\"\u6539\u9020\u4ee3\u7801\u5982\u4e0b\">\u6539\u9020\u4ee3\u7801\u5982\u4e0b\uff1a<\/h2>\n\n\n\n<pre class=\"prettyprint\"><code class=\"language-js hljs \"><span class=\"hljs-comment\">\/\/ \u914d\u7f6eAPI\u63a5\u53e3\u5730\u5740<\/span>\n<span class=\"hljs-keyword\">var<\/span> root = process.env.API_ROOT\n<span class=\"hljs-comment\">\/\/ \u5f15\u7528axios<\/span>\n<span class=\"hljs-keyword\">var<\/span> axios = <span class=\"hljs-built_in\">require<\/span>(<span class=\"hljs-string\">'axios'<\/span>)\n<span class=\"hljs-comment\">\/\/ \u81ea\u5b9a\u4e49\u5224\u65ad\u5143\u7d20\u7c7b\u578bJS<\/span>\n<span class=\"hljs-function\"><span class=\"hljs-keyword\">function<\/span> <span class=\"hljs-title\">toType<\/span> <span class=\"hljs-params\">(obj)<\/span> {<\/span>\n  <span class=\"hljs-keyword\">return<\/span> ({}).toString.call(obj).match(<span class=\"hljs-regexp\">\/\\s([a-zA-Z]+)\/<\/span>)[<span class=\"hljs-number\">1<\/span>].toLowerCase()\n}\n<span class=\"hljs-comment\">\/\/ \u53c2\u6570\u8fc7\u6ee4\u51fd\u6570<\/span>\n<span class=\"hljs-function\"><span class=\"hljs-keyword\">function<\/span> <span class=\"hljs-title\">filterNull<\/span> <span class=\"hljs-params\">(o)<\/span> {<\/span>\n  <span class=\"hljs-keyword\">for<\/span> (<span class=\"hljs-keyword\">var<\/span> key <span class=\"hljs-keyword\">in<\/span> o) {\n    <span class=\"hljs-keyword\">if<\/span> (o[key] === <span class=\"hljs-literal\">null<\/span>) {\n      <span class=\"hljs-keyword\">delete<\/span> o[key]\n    }\n    <span class=\"hljs-keyword\">if<\/span> (toType(o[key]) === <span class=\"hljs-string\">'string'<\/span>) {\n      o[key] = o[key].trim()\n    } <span class=\"hljs-keyword\">else<\/span> <span class=\"hljs-keyword\">if<\/span> (toType(o[key]) === <span class=\"hljs-string\">'object'<\/span>) {\n      o[key] = filterNull(o[key])\n    } <span class=\"hljs-keyword\">else<\/span> <span class=\"hljs-keyword\">if<\/span> (toType(o[key]) === <span class=\"hljs-string\">'array'<\/span>) {\n      o[key] = filterNull(o[key])\n    }\n  }\n  <span class=\"hljs-keyword\">return<\/span> o\n}\n<span class=\"hljs-comment\">\/*\n  \u63a5\u53e3\u5904\u7406\u51fd\u6570\n  \u8fd9\u4e2a\u51fd\u6570\u6bcf\u4e2a\u9879\u76ee\u90fd\u662f\u4e0d\u4e00\u6837\u7684\uff0c\u6211\u73b0\u5728\u8c03\u6574\u7684\u662f\u9002\u7528\u4e8e\n  https:\/\/cnodejs.org\/api\/v1 \u7684\u63a5\u53e3\uff0c\u5982\u679c\u662f\u5176\u4ed6\u63a5\u53e3\n  \u9700\u8981\u6839\u636e\u63a5\u53e3\u7684\u53c2\u6570\u8fdb\u884c\u8c03\u6574\u3002\u53c2\u8003\u8bf4\u660e\u6587\u6863\u5730\u5740\uff1a\n  https:\/\/cnodejs.org\/topic\/5378720ed6e2d16149fa16bd\n  \u4e3b\u8981\u662f\uff0c\u4e0d\u540c\u7684\u63a5\u53e3\u7684\u6210\u529f\u6807\u8bc6\u548c\u5931\u8d25\u63d0\u793a\u662f\u4e0d\u4e00\u81f4\u7684\u3002\n  \u53e6\u5916\uff0c\u4e0d\u540c\u7684\u9879\u76ee\u7684\u5904\u7406\u65b9\u6cd5\u4e5f\u662f\u4e0d\u4e00\u81f4\u7684\uff0c\u8fd9\u91cc\u51fa\u9519\u5c31\u662f\u7b80\u5355\u7684alert\n*\/<\/span>\n\n<span class=\"hljs-function\"><span class=\"hljs-keyword\">function<\/span> <span class=\"hljs-title\">apiAxios<\/span> <span class=\"hljs-params\">(method, url, params, success, failure)<\/span> {<\/span>\n  <span class=\"hljs-keyword\">if<\/span> (params) {\n    params = filterNull(params)\n  }\n  axios({\n    method: method,\n    url: url,\n    data: method === <span class=\"hljs-string\">'POST'<\/span> || method === <span class=\"hljs-string\">'PUT'<\/span> ? params : <span class=\"hljs-literal\">null<\/span>,\n    params: method === <span class=\"hljs-string\">'GET'<\/span> || method === <span class=\"hljs-string\">'DELETE'<\/span> ? params : <span class=\"hljs-literal\">null<\/span>,\n    baseURL: root,\n    withCredentials: <span class=\"hljs-literal\">false<\/span>\n  })\n  .then(<span class=\"hljs-function\"><span class=\"hljs-keyword\">function<\/span> <span class=\"hljs-params\">(res)<\/span> {<\/span>\n    <span class=\"hljs-keyword\">if<\/span> (res.data.success === <span class=\"hljs-literal\">true<\/span>) {\n      <span class=\"hljs-keyword\">if<\/span> (success) {\n        success(res.data)\n      }\n    } <span class=\"hljs-keyword\">else<\/span> {\n      <span class=\"hljs-keyword\">if<\/span> (failure) {\n        failure(res.data)\n      } <span class=\"hljs-keyword\">else<\/span> {\n        window.alert(<span class=\"hljs-string\">'error: '<\/span> + <span class=\"hljs-built_in\">JSON<\/span>.stringify(res.data))\n      }\n    }\n  })\n  .catch(<span class=\"hljs-function\"><span class=\"hljs-keyword\">function<\/span> <span class=\"hljs-params\">(err)<\/span> {<\/span>\n    <span class=\"hljs-keyword\">let<\/span> res = err.response\n    <span class=\"hljs-keyword\">if<\/span> (err) {\n      window.alert(<span class=\"hljs-string\">'api error, HTTP CODE: '<\/span> + res.status)\n      <span class=\"hljs-keyword\">return<\/span>\n    }\n  })\n}\n\n<span class=\"hljs-comment\">\/\/ \u8fd4\u56de\u5728vue\u6a21\u677f\u4e2d\u7684\u8c03\u7528\u63a5\u53e3<\/span>\nexport <span class=\"hljs-keyword\">default<\/span> {\n  get: <span class=\"hljs-function\"><span class=\"hljs-keyword\">function<\/span> <span class=\"hljs-params\">(url, params, success, failure)<\/span> {<\/span>\n    <span class=\"hljs-keyword\">return<\/span> apiAxios(<span class=\"hljs-string\">'GET'<\/span>, url, params, success, failure)\n  },\n  post: <span class=\"hljs-function\"><span class=\"hljs-keyword\">function<\/span> <span class=\"hljs-params\">(url, params, success, failure)<\/span> {<\/span>\n    <span class=\"hljs-keyword\">return<\/span> apiAxios(<span class=\"hljs-string\">'POST'<\/span>, url, params, success, failure)\n  },\n  put: <span class=\"hljs-function\"><span class=\"hljs-keyword\">function<\/span> <span class=\"hljs-params\">(url, params, success, failure)<\/span> {<\/span>\n    <span class=\"hljs-keyword\">return<\/span> apiAxios(<span class=\"hljs-string\">'PUT'<\/span>, url, params, success, failure)\n  },\n  <span class=\"hljs-keyword\">delete<\/span>: <span class=\"hljs-function\"><span class=\"hljs-keyword\">function<\/span> <span class=\"hljs-params\">(url, params, success, failure)<\/span> {<\/span>\n    <span class=\"hljs-keyword\">return<\/span> apiAxios(<span class=\"hljs-string\">'DELETE'<\/span>, url, params, success, failure)\n  }\n}\n\n<\/code><\/pre>\n\n<p>\u53ef\u4ee5\u5c06\u8fd9\u6bb5\u4ee3\u7801\u66ff\u6362\u6211\u4eec\u539f\u6709\u7684api.js\u4e2d\u7684\u4ee3\u7801\u3002<\/p>\n\n\n\n<h2 id=\"\u5c0f\u7ed3\">\u5c0f\u7ed3<\/h2>\n\n<p>\u522b\u7684\u6ca1\u5565\u611f\u89c9\uff0c\u5c31\u662f\u611f\u89c9<code>axios<\/code>\u7684\u4ee3\u7801\u6e05\u6670\u4e86\u8bb8\u591a\u3002\u867d\u7136\u7ed3\u679c\u662f\u4e00\u6837\u7684\u3002\u6211\u4e5f\u7b97\u660e\u767d\u4e3a\u4ec0\u4e48\u8fd9\u4e1c\u897f\u4f1a\u88abvue\u5b98\u65b9\u63a8\u8350\u4e86\u3002<\/p>\n\n<p>\u672c\u6587\u7531FungLeo\u539f\u521b\uff0c\u5141\u8bb8\u8f6c\u8f7d\uff0c\u4f46\u8f6c\u8f7d\u5fc5\u987b\u9644\u5e26\u9996\u53d1\u94fe\u63a5\u3002\u5982\u679c\u4f60\u4e0d\u5e26\u94fe\u63a5\uff0c\u6211\u5c06\u91c7\u53d6\u5305\u62ec\u4f46\u4e0d\u9650\u4e8e\u6df1\u6df1\u7684\u9119\u89c6\u4f60\u7b49\u624b\u6bb5\uff01<\/p>","markdowncontent":"#  Vue2+VueRouter2+webpack+Axios \u6784\u5efa\u9879\u76ee\u5b9e\u6218\uff08\u4e03\uff09\u91cd\u6784API\u6587\u4ef6\u4e3a\u4f7f\u7528axios\n\n## 2017\u5e748\u6708\u8865\u5145\n\n2016\u5e74\uff0c\u6211\u5199\u4e86\u4e00\u7cfb\u5217\u7684 VUE \u5165\u95e8\u6559\u7a0b\uff0c\u5f53\u65f6\u5199\u8fd9\u4e00\u7cfb\u5217\u535a\u6587\u7684\u65f6\u5019\uff0c\u6211\u4e5f\u53ea\u662f\u4e00\u4e2a\u83dc\u9e1f\uff0c\u751a\u81f3\u5728\u5199\u7684\u8fc7\u7a0b\u4e2d\u5173\u95ed\u4e86\u4ee3\u7801\u5ba1\u67e5\uff0c\u5426\u5219\u901a\u4e0d\u8fc7\u6821\u9a8c\u3002\n\n\u672c\u6765\u5199\u8fd9\u4e00\u7cfb\u5217\u7684\u535a\u6587\u53ea\u662f\u4e3a\u4e86\u7ed9\u81ea\u5df1\u770b\u7684\uff0c\u4f46\u6ca1\u60f3\u5230\u7684\u662f\uff0c\u8fd9\u7cfb\u5217\u535a\u6587\u7684\u70b9\u51fb\u91cf\u8d85\u8fc7\u4e862\u4e07\u4ee5\u4e0a\uff0c\u641c\u7d22\u5f15\u64ce\u7684\u6392\u540d\u4e5f\u662f\u975e\u5e38\u7406\u60f3\uff0c\u8fd9\u8ba9\u6211\u8bda\u60f6\u8bda\u6050\uff0c\u751f\u6015\u6211\u5199\u7684\u535a\u6587\u6709\u6240\u7eb0\u6f0f\uff0c\u8bef\u4eba\u5b50\u5f1f\u3002\n\n\u518d\u8005\uff0c\u8fd9\u4e00\u5e74\u7684\u53d1\u5c55\uff0cVUE \u9879\u76ee\u5feb\u901f\u8fed\u4ee3\uff0c\u770b\u7740\u6211\u4e00\u5e74\u524d\u5199\u7684\u535a\u6587\uff0c\u5f88\u53ef\u80fd\u5404\u79cd\u63d0\u793a\u5df2\u7ecf\u53d1\u751f\u6539\u53d8\uff0c\u5bf9\u7167\u7740\u8fc7\u65f6\u7684\u8d44\u6599\uff0c\u975e\u5e38\u53ef\u80fd\u5bfc\u81f4\u65b0\u624b\u5728\u5b66\u4e60\u7684\u8fc7\u7a0b\u4e2d\u4ea7\u751f\u4e0d\u5fc5\u8981\u7684\u56f0\u6270\u3002\n\n\u56e0\u6b64\uff0c\u672c\u4eba\u51b3\u5b9a\uff0c\u91cd\u5199\u8fd9\u4e2a\u7cfb\u5217\u7684\u535a\u6587\uff0c\u529b\u6c42\u4ee5\u7b80\u660e\u3001\u6e05\u6670\u3001\u51c6\u786e\u7684\u56fe\u6587\u4ee5\u53ca\u4ee3\u7801\u63cf\u8ff0\uff0c\u914d\u5408 github \u7684\u9879\u76ee\u5f00\u6e90\u4ee3\u7801\uff0c\u7ed9\u5404\u4f4d VUE \u65b0\u624b\u63d0\u4f9b\u4e00\u4e2a\u9ad8\u8d28\u91cf\u7684\u5165\u95e8\u6587\u6848\u3002\n\n\u4ee5\u4e0b\u4e3a\u6211\u5199\u7684\u535a\u6587\uff1a\n\n1. [Vue2+VueRouter2+Webpack+Axios \u6784\u5efa\u9879\u76ee\u5b9e\u62182017\u91cd\u5236\u7248\uff08\u4e00\uff09\u57fa\u7840\u77e5\u8bc6\u6982\u8ff0](http:\/\/blog.csdn.net\/fungleo\/article\/details\/77575077)\n2. [Vue2+VueRouter2+Webpack+Axios \u6784\u5efa\u9879\u76ee\u5b9e\u62182017\u91cd\u5236\u7248\uff08\u4e8c\uff09\u5b89\u88c5 nodejs \u73af\u5883\u4ee5\u53ca vue-cli \u6784\u5efa\u521d\u59cb\u9879\u76ee](http:\/\/blog.csdn.net\/fungleo\/article\/details\/77584701)\n3. [Vue2+VueRouter2+Webpack+Axios \u6784\u5efa\u9879\u76ee\u5b9e\u62182017\u91cd\u5236\u7248\uff08\u4e09\uff09\u8ba4\u8bc6\u9879\u76ee\u6240\u6709\u6587\u4ef6](http:\/\/blog.csdn.net\/fungleo\/article\/details\/77585205)\n4. [Vue2+VueRouter2+Webpack+Axios \u6784\u5efa\u9879\u76ee\u5b9e\u62182017\u91cd\u5236\u7248\uff08\u56db\uff09\u8c03\u6574 App.vue \u548c router \u8def\u7531](http:\/\/blog.csdn.net\/fungleo\/article\/details\/77600798)\n5. [Vue2+VueRouter2+Webpack+Axios \u6784\u5efa\u9879\u76ee\u5b9e\u62182017\u91cd\u5236\u7248\uff08\u4e94\uff09\u914d\u7f6e Axios api \u63a5\u53e3\u8c03\u7528\u6587\u4ef6](http:\/\/blog.csdn.net\/fungleo\/article\/details\/77601270)\n6. [Vue2+VueRouter2+Webpack+Axios \u6784\u5efa\u9879\u76ee\u5b9e\u62182017\u91cd\u5236\u7248\uff08\u516d\uff09\u5c06\u63a5\u53e3\u7528 webpack \u4ee3\u7406\u5230\u672c\u5730](http:\/\/blog.csdn.net\/fungleo\/article\/details\/77601761)\n7. [Vue2+VueRouter2+Webpack+Axios \u6784\u5efa\u9879\u76ee\u5b9e\u62182017\u91cd\u5236\u7248\uff08\u4e03\uff09\u521d\u8bc6 *.vue \u6587\u4ef6](http:\/\/blog.csdn.net\/fungleo\/article\/details\/77602914)\n8. [Vue2+VueRouter2+Webpack+Axios \u6784\u5efa\u9879\u76ee\u5b9e\u62182017\u91cd\u5236\u7248\uff08\u516b\uff09\u6e32\u67d3\u4e00\u4e2a\u5217\u8868\u51fa\u6765\u5148](http:\/\/blog.csdn.net\/fungleo\/article\/details\/77603537)\n9. [Vue2+VueRouter2+Webpack+Axios \u6784\u5efa\u9879\u76ee\u5b9e\u62182017\u91cd\u5236\u7248\uff08\u4e5d\uff09\u518d\u628a\u5185\u5bb9\u9875\u9762\u6e32\u67d3\u51fa\u6765](http:\/\/blog.csdn.net\/fungleo\/article\/details\/77604490)\n10. [Vue2+VueRouter2+Webpack+Axios \u6784\u5efa\u9879\u76ee\u5b9e\u62182017\u91cd\u5236\u7248\uff08\u5341\uff09\u6253\u5305\u9879\u76ee\u5e76\u53d1\u5e03\u5230\u5b50\u76ee\u5f55](http:\/\/blog.csdn.net\/fungleo\/article\/details\/77606216)\n11. [Vue2+VueRouter2+Webpack+Axios \u6784\u5efa\u9879\u76ee\u5b9e\u62182017\u91cd\u5236\u7248\uff08\u5341\u4e00\uff09\u9636\u6bb5\u6027\u5c0f\u7ed3](http:\/\/blog.csdn.net\/fungleo\/article\/details\/77606321)\n\n**\u4ee5\u4e0b\u4e3a\u539f\u6587**\n\n\n\n## \u524d\u8a00\n\n\u6211\u4eec\u5728\u524d\u9762\u7684\u6559\u7a0b[Vue2+VueRouter2+webpack \u6784\u5efa\u9879\u76ee\u5b9e\u6218\uff08\u56db\uff09\u63a5\u901aapi\uff0c\u5148\u6e32\u67d3\u4e2a\u5217\u8868](http:\/\/blog.csdn.net\/fungleo\/article\/details\/53202276)\u5f53\u4e2d\u4f7f\u7528\u4e86`superagent`\u8fd9\u4e2aAPI\u8bf7\u6c42\u5de5\u5177\u3002\n\n\u4f46\u662f\u73b0\u5728\u5f88\u591a\u4e3b\u6d41\u7684\u6559\u7a0b\u90fd\u662f\u4f7f\u7528\u7684`axios`\u8fd9\u4e2a\u5de5\u5177\u3002\u56e0\u6b64\uff0c\u6211\u5c31\u60f3\u91cd\u6784\u4e00\u4e0b\u6211\u4eec\u7684\u8fd9\u4e2a\u6587\u4ef6\uff0c\u8ba9\u6211\u4eec\u7684\u9879\u76ee\uff0c\u4e5f\u80fd\u8dd1\u5728`axios`\u8fd9\u4e2a\u63a5\u53e3\u5de5\u5177\u4e0a\u3002\n\n\u76ee\u6807\u662f\uff0c\u5b8c\u7f8e\u517c\u5bb9\u6211\u4eec\u7684\u539f\u6709\u4ee3\u7801\uff0c\u800c\u4e0d\u9700\u8981\u505a\u4efb\u4f55\u4fee\u6539\uff0c\u53ea\u9700\u8981\u8c03\u6574`api.js`\u6587\u4ef6\u5373\u53ef\u3002\n\n\u4e00\u822c\uff0c\u6211\u4eec\u5728\u9879\u76ee\u4e2d\u53ea\u9700\u8981\u4f7f\u7528\u5230\u56db\u4e2a\u65b9\u6cd5\uff0c\u5c31\u662f\u589e\u5220\u6539\u67e5\uff0c\u5206\u522b\u662f`POST`\u3001`DELETE`\u3001`PUT`\u3001`GET`\u65b9\u6cd5\u3002\u56e0\u6b64\uff0c\u6211\u4eec\u53ea\u5c01\u88c5\u4e86\u8fd9\u56db\u4e2a\u65b9\u6cd5\u3002\n\n`superagent`\u548c`axios`\u662f\u7c7b\u4f3c\u7684\u5de5\u5177\uff0c\u4f46\u662f\u4ed6\u4eec\u7684\u4ee3\u7801\u98ce\u683c\uff0c\u4ee5\u53ca\u5b9e\u73b0\u529f\u80fd\u662f\u6709\u6240\u5dee\u5f02\u7684\u3002\u5177\u4f53\u7684\u5dee\u5f02\uff0c\u53ef\u4ee5\u67e5\u770b[Comparing axios vs. got vs. request vs. reqwest vs. superagent](https:\/\/npmcompare.com\/compare\/axios,got,request,reqwest,superagent)\u8fd9\u7bc7\u6587\u7ae0\uff0c\u8fd9\u91cc\u6709\u8be6\u7ec6\u7684\u5bf9\u6bd4\u3002\n\n\u4f46\u6211\u4eec\u4e0d\u7ba1\u4ed6\u4eec\u80fd\u5b9e\u73b0\u4ec0\u4e48\uff0c\u6211\u4eec\u53ea\u9700\u8981\u4ed6\u4eec\u80fd\u5b9e\u73b0\u6211\u4eec\u7684\u529f\u80fd\u5373\u53ef\u3002\n\n## \u6539\u9020\u4ee3\u7801\u5982\u4e0b\uff1a\n\n```js\n\/\/ \u914d\u7f6eAPI\u63a5\u53e3\u5730\u5740\nvar root = process.env.API_ROOT\n\/\/ \u5f15\u7528axios\nvar axios = require('axios')\n\/\/ \u81ea\u5b9a\u4e49\u5224\u65ad\u5143\u7d20\u7c7b\u578bJS\nfunction toType (obj) {\n  return ({}).toString.call(obj).match(\/\\s([a-zA-Z]+)\/)[1].toLowerCase()\n}\n\/\/ \u53c2\u6570\u8fc7\u6ee4\u51fd\u6570\nfunction filterNull (o) {\n  for (var key in o) {\n    if (o[key] === null) {\n      delete o[key]\n    }\n    if (toType(o[key]) === 'string') {\n      o[key] = o[key].trim()\n    } else if (toType(o[key]) === 'object') {\n      o[key] = filterNull(o[key])\n    } else if (toType(o[key]) === 'array') {\n      o[key] = filterNull(o[key])\n    }\n  }\n  return o\n}\n\/*\n  \u63a5\u53e3\u5904\u7406\u51fd\u6570\n  \u8fd9\u4e2a\u51fd\u6570\u6bcf\u4e2a\u9879\u76ee\u90fd\u662f\u4e0d\u4e00\u6837\u7684\uff0c\u6211\u73b0\u5728\u8c03\u6574\u7684\u662f\u9002\u7528\u4e8e\n  https:\/\/cnodejs.org\/api\/v1 \u7684\u63a5\u53e3\uff0c\u5982\u679c\u662f\u5176\u4ed6\u63a5\u53e3\n  \u9700\u8981\u6839\u636e\u63a5\u53e3\u7684\u53c2\u6570\u8fdb\u884c\u8c03\u6574\u3002\u53c2\u8003\u8bf4\u660e\u6587\u6863\u5730\u5740\uff1a\n  https:\/\/cnodejs.org\/topic\/5378720ed6e2d16149fa16bd\n  \u4e3b\u8981\u662f\uff0c\u4e0d\u540c\u7684\u63a5\u53e3\u7684\u6210\u529f\u6807\u8bc6\u548c\u5931\u8d25\u63d0\u793a\u662f\u4e0d\u4e00\u81f4\u7684\u3002\n  \u53e6\u5916\uff0c\u4e0d\u540c\u7684\u9879\u76ee\u7684\u5904\u7406\u65b9\u6cd5\u4e5f\u662f\u4e0d\u4e00\u81f4\u7684\uff0c\u8fd9\u91cc\u51fa\u9519\u5c31\u662f\u7b80\u5355\u7684alert\n*\/\n\nfunction apiAxios (method, url, params, success, failure) {\n  if (params) {\n    params = filterNull(params)\n  }\n  axios({\n    method: method,\n    url: url,\n    data: method === 'POST' || method === 'PUT' ? params : null,\n    params: method === 'GET' || method === 'DELETE' ? params : null,\n    baseURL: root,\n    withCredentials: false\n  })\n  .then(function (res) {\n    if (res.data.success === true) {\n      if (success) {\n        success(res.data)\n      }\n    } else {\n      if (failure) {\n        failure(res.data)\n      } else {\n        window.alert('error: ' + JSON.stringify(res.data))\n      }\n    }\n  })\n  .catch(function (err) {\n    let res = err.response\n    if (err) {\n      window.alert('api error, HTTP CODE: ' + res.status)\n      return\n    }\n  })\n}\n\n\/\/ \u8fd4\u56de\u5728vue\u6a21\u677f\u4e2d\u7684\u8c03\u7528\u63a5\u53e3\nexport default {\n  get: function (url, params, success, failure) {\n    return apiAxios('GET', url, params, success, failure)\n  },\n  post: function (url, params, success, failure) {\n    return apiAxios('POST', url, params, success, failure)\n  },\n  put: function (url, params, success, failure) {\n    return apiAxios('PUT', url, params, success, failure)\n  },\n  delete: function (url, params, success, failure) {\n    return apiAxios('DELETE', url, params, success, failure)\n  }\n}\n\n\n```\n\n\u53ef\u4ee5\u5c06\u8fd9\u6bb5\u4ee3\u7801\u66ff\u6362\u6211\u4eec\u539f\u6709\u7684api.js\u4e2d\u7684\u4ee3\u7801\u3002\n\n## \u5c0f\u7ed3\n\n\u522b\u7684\u6ca1\u5565\u611f\u89c9\uff0c\u5c31\u662f\u611f\u89c9`axios`\u7684\u4ee3\u7801\u6e05\u6670\u4e86\u8bb8\u591a\u3002\u867d\u7136\u7ed3\u679c\u662f\u4e00\u6837\u7684\u3002\u6211\u4e5f\u7b97\u660e\u767d\u4e3a\u4ec0\u4e48\u8fd9\u4e1c\u897f\u4f1a\u88abvue\u5b98\u65b9\u63a8\u8350\u4e86\u3002\n\n\u672c\u6587\u7531FungLeo\u539f\u521b\uff0c\u5141\u8bb8\u8f6c\u8f7d\uff0c\u4f46\u8f6c\u8f7d\u5fc5\u987b\u9644\u5e26\u9996\u53d1\u94fe\u63a5\u3002\u5982\u679c\u4f60\u4e0d\u5e26\u94fe\u63a5\uff0c\u6211\u5c06\u91c7\u53d6\u5305\u62ec\u4f46\u4e0d\u9650\u4e8e\u6df1\u6df1\u7684\u9119\u89c6\u4f60\u7b49\u624b\u6bb5\uff01","private":0,"tags":"api,vue,axios,\u63a5\u53e3\u5bf9\u63a5,superagent","categories":"vuejs,JavaScript","channel":"14","type":"original","status":1},"error":"","status":true}