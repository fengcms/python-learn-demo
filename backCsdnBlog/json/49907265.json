{"data":{"id":"49907265","title":"CentOS7 \u521d\u6b21\u5b89\u88c5\u8bb0\u5f55\uff08\u4e94\uff09\u914d\u7f6e apache \u865a\u62df\u4e3b\u673a","articleedittype":1,"description":"CentOS7 \u521d\u6b21\u5b89\u88c5\u8bb0\u5f55\uff08\u4e94\uff09\u914d\u7f6e apache \u865a\u62df\u4e3b\u673a\u6570\u636e\u5e93\u4e5f\u632a\u597d\u4e86\u3002\u4e0b\u9762\u51c6\u5907\u914d\u7f6e\u865a\u62df\u4e3b\u673a\u3002\u4e0d\u51c6\u5907\u5b89\u88c5\u4e71\u4e03\u516b\u7cdf\u7684\u7ba1\u7406\u8f6f\u4ef6\uff0c\u5c31\u662f\u80fd\u591f\u652f\u6301\u4e00\u53f0\u670d\u52a1\u5668\u591a\u4e2a\u7f51\u7ad9\u5373\u53ef\u3002apache \u914d\u7f6e\u865a\u62df\u4e3b\u673a\u5b66\u806a\u660e\u4e86\uff0c\u4e0d\u518d\u51ed\u501f\u81ea\u5df1\u7684\u7ecf\u9a8c\u6765\u4e86\uff0c\u8fd8\u662f\u8001\u8001\u5b9e\u5b9e\u7684\u767e\u5ea6\u5427 -_-\u4e00\u822c\u6559\u7a0b\u4e0a\u6765\u8bf4\uff0c\u4f1a\u8bf4\u53bb\u4fee\u6539 \/etc\/httpd\/conf\/httpd.conf \u6587\u4ef6\u3002\u4f46\u662f\u6211\u4e0d\u63a8\u8350\u8fd9\u6837\u505a\u3002\u56e0\u4e3a\u8fd9\u4e2a\u662f\u4e3b\u914d\u7f6e\u6587\u4ef6\uff0c\u6bd4\u8f83\u957f\uff0c\u4e5f\u6bd4\u8f83\u91cd\u8981","content":"<h1 id=\"centos7-\u521d\u6b21\u5b89\u88c5\u8bb0\u5f55\u4e94\u914d\u7f6e-apache-\u865a\u62df\u4e3b\u673a\">CentOS7 \u521d\u6b21\u5b89\u88c5\u8bb0\u5f55\uff08\u4e94\uff09\u914d\u7f6e apache \u865a\u62df\u4e3b\u673a<\/h1>\n\n<p>\u6570\u636e\u5e93\u4e5f\u632a\u597d\u4e86\u3002\u4e0b\u9762\u51c6\u5907\u914d\u7f6e\u865a\u62df\u4e3b\u673a\u3002\u4e0d\u51c6\u5907\u5b89\u88c5\u4e71\u4e03\u516b\u7cdf\u7684\u7ba1\u7406\u8f6f\u4ef6\uff0c\u5c31\u662f\u80fd\u591f\u652f\u6301\u4e00\u53f0\u670d\u52a1\u5668\u591a\u4e2a\u7f51\u7ad9\u5373\u53ef\u3002<\/p>\n\n\n\n<h2 id=\"apache-\u914d\u7f6e\u865a\u62df\u4e3b\u673a\">apache \u914d\u7f6e\u865a\u62df\u4e3b\u673a<\/h2>\n\n<p>\u5b66\u806a\u660e\u4e86\uff0c\u4e0d\u518d\u51ed\u501f\u81ea\u5df1\u7684\u7ecf\u9a8c\u6765\u4e86\uff0c\u8fd8\u662f\u8001\u8001\u5b9e\u5b9e\u7684\u767e\u5ea6\u5427 -_-<\/p>\n\n<p>\u4e00\u822c\u6559\u7a0b\u4e0a\u6765\u8bf4\uff0c\u4f1a\u8bf4\u53bb\u4fee\u6539 <code>\/etc\/httpd\/conf\/httpd.conf<\/code> \u6587\u4ef6\u3002\u4f46\u662f\u6211\u4e0d\u63a8\u8350\u8fd9\u6837\u505a\u3002\u56e0\u4e3a\u8fd9\u4e2a\u662f\u4e3b\u914d\u7f6e\u6587\u4ef6\uff0c\u6bd4\u8f83\u957f\uff0c\u4e5f\u6bd4\u8f83\u91cd\u8981\u3002\u6211\u5efa\u8bae\u662f\u5728 <code>\/etc\/httpd\/conf.d\/<\/code> \u4e0b\u9762\u5efa\u7acb\u4e00\u4e2a <code>vhost.conf<\/code> \u6587\u4ef6\u6765\u914d\u7f6e\u865a\u62df\u4e3b\u673a\u3002<\/p>\n\n<p>\u8fd9\u6837\u4e5f\u65b9\u4fbf\u7ba1\u7406\u3002\u5f53\u7136\uff0c\u8fd8\u6709\u4eba\u4f1a\u8bf4\u4e00\u4e2a\u865a\u62df\u4e3b\u673a\u4e00\u4e2a\u914d\u7f6e\u6587\u4ef6\uff0c\u6211\u4e0d\u53cd\u5bf9\uff0c\u4f46\u6211\u8ba4\u4e3a\u6ca1\u6709\u5fc5\u8981\u3002<\/p>\n\n<p>\u597d\u3002\u65b0\u5efa\u4e00\u4e2a <code>vhost.conf<\/code> \u6587\u4ef6\uff0c\u547d\u4ee4\u5982\u4e0b\uff1a<\/p>\n\n\n\n<pre class=\"prettyprint\"><code class=\"language-language hljs avrasm\">\/\/ \u65b0\u5efa\u914d\u7f6e\u6587\u4ef6\nvi \/etc\/httpd\/conf<span class=\"hljs-preprocessor\">.d<\/span>\/vhost<span class=\"hljs-preprocessor\">.conf<\/span>\n\n\/\/ \u4e0b\u9762\u662f\u8f93\u5165\u7684\u5185\u5bb9 \u5728\u660e\u767d\u5176\u4e2d\u542b\u4e49\u7684\u60c5\u51b5\u4e0b\uff0c\u8bbe\u7f6e\u5185\u7684\u6ce8\u91ca\u53ef\u4ee5\u5220\u9664\n<span class=\"hljs-preprocessor\">#<\/span>\n<span class=\"hljs-preprocessor\"># \u6d4b\u8bd5\u7f51\u7ad9\u4e00<\/span>\n<span class=\"hljs-preprocessor\">#<\/span>\n&lt;VirtualHost *:<span class=\"hljs-number\">80<\/span>&gt;\n<span class=\"hljs-preprocessor\">#\u7ed1\u5b9a\u7684\u4e3b\u57df<\/span>\nServerName test<span class=\"hljs-preprocessor\">.com<\/span>\n<span class=\"hljs-preprocessor\">#\u7ed1\u5b9a\u7684\u5b50\u57df\u540d<\/span>\nServerAlias www<span class=\"hljs-preprocessor\">.test<\/span><span class=\"hljs-preprocessor\">.com<\/span>\n<span class=\"hljs-preprocessor\">#\u7f51\u7ad9\u4e3b\u76ee\u5f55<\/span>\nDocumentRoot \/home\/website\/<span class=\"hljs-keyword\">com<\/span><span class=\"hljs-preprocessor\">.test<\/span><span class=\"hljs-preprocessor\">.www<\/span>\/\n<span class=\"hljs-preprocessor\">#\u65e5\u5fd7\u914d\u7f6e<\/span>\nErrorLog \/home\/web_log\/<span class=\"hljs-keyword\">com<\/span><span class=\"hljs-preprocessor\">.test<\/span><span class=\"hljs-preprocessor\">.www<\/span>_error<span class=\"hljs-preprocessor\">.log<\/span>\nCustomLog \/home\/web_log\/<span class=\"hljs-keyword\">com<\/span><span class=\"hljs-preprocessor\">.test<\/span><span class=\"hljs-preprocessor\">.www<\/span>_access<span class=\"hljs-preprocessor\">.log<\/span> common\n<span class=\"hljs-preprocessor\">#ServerSignature Off<\/span>\n&lt;\/VirtualHost&gt;\n<span class=\"hljs-preprocessor\">#\u6d4b\u8bd5\u4e00\u7684\u914d\u7f6e<\/span>\n&lt;Directory <span class=\"hljs-string\">\"\/home\/website\/com.test.www\/\"<\/span>&gt;\n    Options FollowSymLinks\n    AllowOverride All\n    Require all granted\n&lt;\/Directory&gt;\n\n\/\/ \u5982\u679c\u6709\u66f4\u591a\u5185\u5bb9\uff0c\u91cd\u590d\u4e0a\u9762\u7684<\/code><\/pre>\n\n<p>\u7136\u540e\uff0c\u5c31\u662f\u53bb <code>\/home\/webstie\/com.test.www\/<\/code> \u91cc\u9762\u653e\u4e0a\u4e00\u4e2a\u6d4b\u8bd5\u7684html\u9875\u9762\u4e86<\/p>\n\n<p>\u91cd\u542f httpd \u670d\u52a1 <code>systemctl restart httpd.service<\/code><\/p>\n\n<p>\u6211\u4e86\u4e2a\u64e6\u64e6\u64e6~~~\u600e\u4e48\u53c8\u62a5\u9519\u4e86\u554a\uff1f\u8d76\u7d27\u770b\u770b\u5565\u539f\u56e0 <code>systemctl status httpd.service<\/code> \u547d\u4ee4\u770b\u770b\u5230\u5e95\u662f\u5565\u539f\u56e0\u3002<\/p>\n\n<p>\u6211\u4e86\u4e2a\u53bb\u3002\u3002\u3002\u539f\u6765\u6211\u5fd8\u8bb0\u65b0\u5efa <code>web_log<\/code> \u6587\u4ef6\u5939\u4e86\uff0c\u56e0\u4e3a\u627e\u4e0d\u5230\u8fd9\u4e2a\u6587\u4ef6\u5939\uff0c\u6240\u4ee5\u5c31\u51fa\u9519\u4e86\u3002<\/p>\n\n<p>\u8d76\u7d27\u53bb\u65b0\u5efa\u4e86\u8fd9\u4e2a\u6587\u4ef6\u5939\uff0c\u7136\u540e\u91cd\u542f\uff0c\u4e00\u5207\u987a\u5229\uff01OK\uff0c\u865a\u62df\u4e3b\u673a\u914d\u7f6e\u6210\u529f\u4e86\uff01<\/p>\n\n<p>\u4e0b\u9762\u8981\u53bb\u7814\u7a76\u7814\u7a76\u914d\u7f6eFTP\u670d\u52a1\u5668\u4e86\u3002<\/p>","markdowncontent":"#CentOS7 \u521d\u6b21\u5b89\u88c5\u8bb0\u5f55\uff08\u4e94\uff09\u914d\u7f6e apache \u865a\u62df\u4e3b\u673a\n\n\u6570\u636e\u5e93\u4e5f\u632a\u597d\u4e86\u3002\u4e0b\u9762\u51c6\u5907\u914d\u7f6e\u865a\u62df\u4e3b\u673a\u3002\u4e0d\u51c6\u5907\u5b89\u88c5\u4e71\u4e03\u516b\u7cdf\u7684\u7ba1\u7406\u8f6f\u4ef6\uff0c\u5c31\u662f\u80fd\u591f\u652f\u6301\u4e00\u53f0\u670d\u52a1\u5668\u591a\u4e2a\u7f51\u7ad9\u5373\u53ef\u3002\n\n##apache \u914d\u7f6e\u865a\u62df\u4e3b\u673a\n\n\u5b66\u806a\u660e\u4e86\uff0c\u4e0d\u518d\u51ed\u501f\u81ea\u5df1\u7684\u7ecf\u9a8c\u6765\u4e86\uff0c\u8fd8\u662f\u8001\u8001\u5b9e\u5b9e\u7684\u767e\u5ea6\u5427 -_-\n\n\u4e00\u822c\u6559\u7a0b\u4e0a\u6765\u8bf4\uff0c\u4f1a\u8bf4\u53bb\u4fee\u6539 `\/etc\/httpd\/conf\/httpd.conf` \u6587\u4ef6\u3002\u4f46\u662f\u6211\u4e0d\u63a8\u8350\u8fd9\u6837\u505a\u3002\u56e0\u4e3a\u8fd9\u4e2a\u662f\u4e3b\u914d\u7f6e\u6587\u4ef6\uff0c\u6bd4\u8f83\u957f\uff0c\u4e5f\u6bd4\u8f83\u91cd\u8981\u3002\u6211\u5efa\u8bae\u662f\u5728 `\/etc\/httpd\/conf.d\/` \u4e0b\u9762\u5efa\u7acb\u4e00\u4e2a `vhost.conf` \u6587\u4ef6\u6765\u914d\u7f6e\u865a\u62df\u4e3b\u673a\u3002\n\n\u8fd9\u6837\u4e5f\u65b9\u4fbf\u7ba1\u7406\u3002\u5f53\u7136\uff0c\u8fd8\u6709\u4eba\u4f1a\u8bf4\u4e00\u4e2a\u865a\u62df\u4e3b\u673a\u4e00\u4e2a\u914d\u7f6e\u6587\u4ef6\uff0c\u6211\u4e0d\u53cd\u5bf9\uff0c\u4f46\u6211\u8ba4\u4e3a\u6ca1\u6709\u5fc5\u8981\u3002\n\n\u597d\u3002\u65b0\u5efa\u4e00\u4e2a `vhost.conf` \u6587\u4ef6\uff0c\u547d\u4ee4\u5982\u4e0b\uff1a\n\n```language\n\/\/ \u65b0\u5efa\u914d\u7f6e\u6587\u4ef6\nvi \/etc\/httpd\/conf.d\/vhost.conf\n\n\/\/ \u4e0b\u9762\u662f\u8f93\u5165\u7684\u5185\u5bb9 \u5728\u660e\u767d\u5176\u4e2d\u542b\u4e49\u7684\u60c5\u51b5\u4e0b\uff0c\u8bbe\u7f6e\u5185\u7684\u6ce8\u91ca\u53ef\u4ee5\u5220\u9664\n#\n# \u6d4b\u8bd5\u7f51\u7ad9\u4e00\n#\n<VirtualHost *:80>\n#\u7ed1\u5b9a\u7684\u4e3b\u57df\nServerName test.com\n#\u7ed1\u5b9a\u7684\u5b50\u57df\u540d\nServerAlias www.test.com\n#\u7f51\u7ad9\u4e3b\u76ee\u5f55\nDocumentRoot \/home\/website\/com.test.www\/\n#\u65e5\u5fd7\u914d\u7f6e\nErrorLog \/home\/web_log\/com.test.www_error.log\nCustomLog \/home\/web_log\/com.test.www_access.log common\n#ServerSignature Off\n<\/VirtualHost>\n#\u6d4b\u8bd5\u4e00\u7684\u914d\u7f6e\n<Directory \"\/home\/website\/com.test.www\/\">\n    Options FollowSymLinks\n    AllowOverride All\n    Require all granted\n<\/Directory>\n\n\/\/ \u5982\u679c\u6709\u66f4\u591a\u5185\u5bb9\uff0c\u91cd\u590d\u4e0a\u9762\u7684\n```\n\u7136\u540e\uff0c\u5c31\u662f\u53bb `\/home\/webstie\/com.test.www\/` \u91cc\u9762\u653e\u4e0a\u4e00\u4e2a\u6d4b\u8bd5\u7684html\u9875\u9762\u4e86\n\n\u91cd\u542f httpd \u670d\u52a1 `systemctl restart httpd.service`\n\n\u6211\u4e86\u4e2a\u64e6\u64e6\u64e6~~~\u600e\u4e48\u53c8\u62a5\u9519\u4e86\u554a\uff1f\u8d76\u7d27\u770b\u770b\u5565\u539f\u56e0 `systemctl status httpd.service` \u547d\u4ee4\u770b\u770b\u5230\u5e95\u662f\u5565\u539f\u56e0\u3002\n\n\u6211\u4e86\u4e2a\u53bb\u3002\u3002\u3002\u539f\u6765\u6211\u5fd8\u8bb0\u65b0\u5efa `web_log` \u6587\u4ef6\u5939\u4e86\uff0c\u56e0\u4e3a\u627e\u4e0d\u5230\u8fd9\u4e2a\u6587\u4ef6\u5939\uff0c\u6240\u4ee5\u5c31\u51fa\u9519\u4e86\u3002\n\n\u8d76\u7d27\u53bb\u65b0\u5efa\u4e86\u8fd9\u4e2a\u6587\u4ef6\u5939\uff0c\u7136\u540e\u91cd\u542f\uff0c\u4e00\u5207\u987a\u5229\uff01OK\uff0c\u865a\u62df\u4e3b\u673a\u914d\u7f6e\u6210\u529f\u4e86\uff01\n\n\u4e0b\u9762\u8981\u53bb\u7814\u7a76\u7814\u7a76\u914d\u7f6eFTP\u670d\u52a1\u5668\u4e86\u3002","private":0,"tags":"centos,\u865a\u62df\u4e3b\u673a,\u670d\u52a1\u5668","categories":"Linux\\CentOS","channel":"12","type":"original","status":1},"error":"","status":true}