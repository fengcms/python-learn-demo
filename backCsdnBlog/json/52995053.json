{"data":{"id":"52995053","title":"php + jquery \u5229\u7528 smtp \u5b9e\u73b0\u53d1\u9001\u90ae\u4ef6\u529f\u80fd","articleedittype":1,"description":"php + jquery \u5229\u7528 smtp \u5b9e\u73b0\u53d1\u9001\u90ae\u4ef6\u529f\u80fd\u5728\u505a\u4e00\u4e2a\u4f01\u4e1a\u7ad9\u7684\u5c0f\u9879\u76ee\uff0c\u7528\u6237\u4e0d\u5e0c\u671b\u767b\u5f55\u5230\u540e\u53f0\u67e5\u770b\u7559\u8a00\uff0c\u800c\u662f\u5e0c\u671b\u7559\u8a00\u80fd\u76f4\u63a5\u53d1\u9001\u5230\u81ea\u5df1\u7684\u90ae\u7bb1\u91cc\uff0c\u7136\u540e\u8fd9\u6837\u4ed6\u5c31\u53ef\u4ee5\u5728\u624b\u673a\u4e0a\u5feb\u901f\u7684\u5904\u7406\u8fd9\u4e9b\u7528\u6237\u7684\u7559\u8a00\u4e86\u3002\u4e0d\u8fc7\u8fd9\u4e2a\u529f\u80fd\u6211\u81ea\u5df1\u5f00\u53d1\u7684 fengcms \u5e76\u4e0d\u652f\u6301\uff0c\u800c\u4e14\u76ee\u524d\u6ca1\u6709\u4e86\u89e3php\u7684\u670b\u53cb\u5728\u8eab\u8fb9\u3002\u672c\u7740\u81ea\u5df1\u52a8\u624b\u4e30\u8863\u8db3\u98df\u7684\u7cbe\u795e\uff0c\u81ea\u5df1\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\u5427\u3002\u5b9e\u73b0\u8bbe\u60f3\u6211\u5e0c\u671b\u901a\u8fc7ajax\u6765\u5b9e\u73b0\u8fd9\u4e2a\u529f\u80fd\u3002\u56e0\u4e3a\u90ae\u4ef6\u672c\u8d28\u6765\u8bf4\uff0c\u53ea\u6709","content":"<h1 id=\"php-jquery-\u5229\u7528-smtp-\u5b9e\u73b0\u53d1\u9001\u90ae\u4ef6\u529f\u80fd\">php + jquery \u5229\u7528 smtp \u5b9e\u73b0\u53d1\u9001\u90ae\u4ef6\u529f\u80fd<\/h1>\n\n<p>\u5728\u505a\u4e00\u4e2a\u4f01\u4e1a\u7ad9\u7684\u5c0f\u9879\u76ee\uff0c\u7528\u6237\u4e0d\u5e0c\u671b\u767b\u5f55\u5230\u540e\u53f0\u67e5\u770b\u7559\u8a00\uff0c\u800c\u662f\u5e0c\u671b\u7559\u8a00\u80fd\u76f4\u63a5\u53d1\u9001\u5230\u81ea\u5df1\u7684\u90ae\u7bb1\u91cc\uff0c\u7136\u540e\u8fd9\u6837\u4ed6\u5c31\u53ef\u4ee5\u5728\u624b\u673a\u4e0a\u5feb\u901f\u7684\u5904\u7406\u8fd9\u4e9b\u7528\u6237\u7684\u7559\u8a00\u4e86\u3002\u4e0d\u8fc7\u8fd9\u4e2a\u529f\u80fd\u6211\u81ea\u5df1\u5f00\u53d1\u7684 fengcms \u5e76\u4e0d\u652f\u6301\uff0c\u800c\u4e14\u76ee\u524d\u6ca1\u6709\u4e86\u89e3php\u7684\u670b\u53cb\u5728\u8eab\u8fb9\u3002\u672c\u7740\u81ea\u5df1\u52a8\u624b\u4e30\u8863\u8db3\u98df\u7684\u7cbe\u795e\uff0c\u81ea\u5df1\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\u5427\u3002<\/p>\n\n<h2 id=\"\u5b9e\u73b0\u8bbe\u60f3\">\u5b9e\u73b0\u8bbe\u60f3<\/h2>\n\n<p>\u6211\u5e0c\u671b\u901a\u8fc7<code>ajax<\/code>\u6765\u5b9e\u73b0\u8fd9\u4e2a\u529f\u80fd\u3002\u56e0\u4e3a\u90ae\u4ef6\u672c\u8d28\u6765\u8bf4\uff0c\u53ea\u6709\u4e24\u4e2a\u5185\u5bb9\u5b57\u6bb5\uff0c\u4e00\u4e2a\u662f\u6807\u9898\uff0c\u4e00\u4e2a\u662f\u6b63\u6587\u3002\u800c\u6211\u4eec\u7f51\u9875\u4e0a\u901a\u5e38\u6709\u5f88\u591a\u8868\u5355\u6765\u8ba9\u7528\u6237\u586b\u5199\uff0c\u56e0\u6b64\uff0c\u5982\u679c\u662f\u7528<code>php<\/code>\u6765\u6574\u5408\u7ec4\u88c5\u8fd9\u4e9b\u5b57\u6bb5\u7684\u8bdd\uff0c\u4e0d\u662f\u4e0d\u53ef\u4ee5\uff0c\u800c\u662f\u6bd4\u8f83\u7e41\u7410\uff0c\u800c\u4e14\u4e0d\u80fd\u901a\u7528\u3002\u6211\u662f\u4e00\u540d\u524d\u7aef\u5de5\u7a0b\u5e08\uff0c\u56e0\u6b64\uff0c\u5f53\u7136\u5e0c\u671b\u7528\u524d\u7aef\u7684\u65b9\u6cd5\u6765\u89e3\u51b3\u8fd9\u4e9b\u95ee\u9898\u3002\u6211\u7684\u8bbe\u60f3\u89c4\u5212\u5982\u4e0b<\/p>\n\n<table>\n<thead>\n<tr>\n  <th>\u6587\u4ef6<\/th>\n  <th>\u8bf4\u660e<\/th>\n<\/tr>\n<\/thead>\n<tbody><tr>\n  <td>msn.html<\/td>\n  <td>\u63d0\u4ea4\u7559\u8a00\u8868\u5355html\u6587\u4ef6<\/td>\n<\/tr>\n<tr>\n  <td>mail.php<\/td>\n  <td>php\u90ae\u4ef6\u5904\u7406\u6838\u5fc3\u6587\u4ef6<\/td>\n<\/tr>\n<tr>\n  <td>send_mail.php<\/td>\n  <td>html\u548cmail.php\u7684\u6c9f\u901a\u6587\u4ef6<\/td>\n<\/tr>\n<\/tbody><\/table>\n\n\n<p>\u901a\u8fc7<code>msn.html<\/code>\u6784\u9020\u8868\u5355\uff0c\u5e76\u5229\u7528<code>jquery<\/code>\u7684<code>ajax<\/code>\u529f\u80fd\uff0c\u5c06\u4fe1\u606f\u6784\u9020\u6210<code>json<\/code>\u4fe1\u606f\uff0c<code>post<\/code> \u5230 <code>send_mail.php<\/code> \u6587\u4ef6\u3002<code>send_mail.php<\/code>\u5904\u7406\u90ae\u4ef6\u903b\u8f91\uff0c\u5e76\u8c03\u7528<code>mail.php<\/code>\u6838\u5fc3\u53c2\u6570\uff0c\u6765\u5b9e\u73b0\u90ae\u4ef6\u7684\u53d1\u9001\u3002<\/p>\n\n<h2 id=\"\u9010\u6b65\u5b9e\u73b0\">\u9010\u6b65\u5b9e\u73b0<\/h2>\n\n<p><strong>mail.php\u7684\u5b9e\u73b0<\/strong><\/p>\n\n<pre class=\"prettyprint\"><code class=\"language-php hljs \"><span class=\"hljs-preprocessor\">&lt;?php<\/span>\n<span class=\"hljs-comment\">\/\/ Pear Mail Library<\/span>\n<span class=\"hljs-keyword\">require_once<\/span> <span class=\"hljs-string\">\"Mail.php\"<\/span>;\n\n<span class=\"hljs-keyword\">const<\/span> SMTP = <span class=\"hljs-string\">'smtp.163.com'<\/span>;\n<span class=\"hljs-keyword\">const<\/span> PORT = <span class=\"hljs-string\">'25'<\/span>;\n<span class=\"hljs-keyword\">const<\/span> USERNAME = <span class=\"hljs-string\">'username@163.com'<\/span>;\n<span class=\"hljs-keyword\">const<\/span> PASSWORD = <span class=\"hljs-string\">'password'<\/span>;\n\n\n<span class=\"hljs-function\"><span class=\"hljs-keyword\">function<\/span> <span class=\"hljs-title\">send_mail<\/span><span class=\"hljs-params\">(<span class=\"hljs-variable\">$subject<\/span>, <span class=\"hljs-variable\">$body<\/span>)<\/span> {<\/span>\n    <span class=\"hljs-variable\">$from<\/span> = <span class=\"hljs-string\">'&lt;username@163.com&gt;'<\/span>;\n    <span class=\"hljs-variable\">$to<\/span> = <span class=\"hljs-string\">'&lt;inbox@163.com.com&gt;'<\/span>;\n    <span class=\"hljs-variable\">$headers<\/span> = <span class=\"hljs-keyword\">array<\/span>(\n        <span class=\"hljs-string\">'From'<\/span> =&gt; <span class=\"hljs-variable\">$from<\/span>,\n        <span class=\"hljs-string\">'To'<\/span> =&gt; <span class=\"hljs-variable\">$to<\/span>,\n        <span class=\"hljs-string\">'Subject'<\/span> =&gt; <span class=\"hljs-variable\">$subject<\/span>\n    );\n\n    <span class=\"hljs-variable\">$smtp<\/span> = Mail::factory(<span class=\"hljs-string\">'smtp'<\/span>, <span class=\"hljs-keyword\">array<\/span>(\n            <span class=\"hljs-string\">'host'<\/span> =&gt; SMTP,\n            <span class=\"hljs-string\">'port'<\/span> =&gt; PORT,\n            <span class=\"hljs-string\">'auth'<\/span> =&gt; <span class=\"hljs-keyword\">true<\/span>,\n            <span class=\"hljs-string\">'username'<\/span> =&gt; USERNAME,\n            <span class=\"hljs-string\">'password'<\/span> =&gt; PASSWORD\n        ));\n\n    <span class=\"hljs-variable\">$mail<\/span> = <span class=\"hljs-variable\">$smtp<\/span>-&gt;send(<span class=\"hljs-variable\">$to<\/span>, <span class=\"hljs-variable\">$headers<\/span>, <span class=\"hljs-variable\">$body<\/span>);\n\n    <span class=\"hljs-keyword\">if<\/span> (PEAR::isError(<span class=\"hljs-variable\">$mail<\/span>)) {\n        <span class=\"hljs-keyword\">return<\/span> <span class=\"hljs-keyword\">true<\/span>;\n    } <span class=\"hljs-keyword\">else<\/span> {\n        <span class=\"hljs-keyword\">return<\/span> <span class=\"hljs-keyword\">false<\/span>;\n    }\n}\n<span class=\"hljs-preprocessor\">?&gt;<\/span><\/code><\/pre>\n\n<p><strong>send_mail.php\u7684\u5b9e\u73b0<\/strong><\/p>\n\n\n\n<pre class=\"prettyprint\"><code class=\"language-php hljs \"><span class=\"hljs-preprocessor\">&lt;?php<\/span>\n    <span class=\"hljs-keyword\">require_once<\/span> <span class=\"hljs-string\">'mail.php'<\/span>;\n\n    <span class=\"hljs-variable\">$raw<\/span> = file_get_contents(<span class=\"hljs-string\">'php:\/\/input'<\/span>);\n    <span class=\"hljs-variable\">$json<\/span> = json_decode(<span class=\"hljs-variable\">$raw<\/span>);\n    <span class=\"hljs-keyword\">if<\/span> (!send_mail(<span class=\"hljs-variable\">$json<\/span>-&gt;subject, <span class=\"hljs-variable\">$json<\/span>-&gt;body)) {\n        <span class=\"hljs-keyword\">echo<\/span>(<span class=\"hljs-string\">'{\"code\":0, \"message\":\"\u53d1\u9001\u6210\u529f\u3002\"}'<\/span>);\n    } <span class=\"hljs-keyword\">else<\/span> {\n        <span class=\"hljs-keyword\">echo<\/span>(<span class=\"hljs-string\">'{\"code\":1, \"message\":\"\u53d1\u9001\u5931\u8d25\u3002\"}'<\/span>);\n    }\n<span class=\"hljs-preprocessor\">?&gt;<\/span><\/code><\/pre>\n\n<p><strong>msn.html\u7684\u5b9e\u73b0<\/strong><\/p>\n\n\n\n<pre class=\"prettyprint\"><code class=\"language-html hljs \">    <span class=\"hljs-tag\">&lt;<span class=\"hljs-title\">section<\/span> <span class=\"hljs-attribute\">class<\/span>=<span class=\"hljs-value\">\"msn\"<\/span>&gt;<\/span>\n        <span class=\"hljs-tag\">&lt;<span class=\"hljs-title\">input<\/span> <span class=\"hljs-attribute\">type<\/span>=<span class=\"hljs-value\">\"text\"<\/span> <span class=\"hljs-attribute\">class<\/span>=<span class=\"hljs-value\">\"title\"<\/span> <span class=\"hljs-attribute\">name<\/span>=<span class=\"hljs-value\">\"title\"<\/span> <span class=\"hljs-attribute\">value<\/span>=<span class=\"hljs-value\">\"title\"<\/span>&gt;<\/span>\n        <span class=\"hljs-tag\">&lt;<span class=\"hljs-title\">textarea<\/span> <span class=\"hljs-attribute\">name<\/span>=<span class=\"hljs-value\">\"content\"<\/span> <span class=\"hljs-attribute\">class<\/span>=<span class=\"hljs-value\">\"content\"<\/span>&gt;<\/span>content<span class=\"hljs-tag\">&lt;\/<span class=\"hljs-title\">textarea<\/span>&gt;<\/span>\n        <span class=\"hljs-tag\">&lt;<span class=\"hljs-title\">input<\/span> <span class=\"hljs-attribute\">type<\/span>=<span class=\"hljs-value\">\"button\"<\/span> <span class=\"hljs-attribute\">class<\/span>=<span class=\"hljs-value\">\"submit_msn\"<\/span> <span class=\"hljs-attribute\">value<\/span>=<span class=\"hljs-value\">\"\u63d0\u4ea4\"<\/span>&gt;<\/span>\n    <span class=\"hljs-tag\">&lt;\/<span class=\"hljs-title\">section<\/span>&gt;<\/span>\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-title\">script<\/span>&gt;<\/span><span class=\"javascript\">\n    $(<span class=\"hljs-function\"><span class=\"hljs-keyword\">function<\/span><span class=\"hljs-params\">()<\/span>{<\/span>\n        $(<span class=\"hljs-string\">\".submit_msn\"<\/span>).on(<span class=\"hljs-string\">\"click\"<\/span>,<span class=\"hljs-function\"><span class=\"hljs-keyword\">function<\/span><span class=\"hljs-params\">()<\/span>{<\/span>\n            <span class=\"hljs-keyword\">var<\/span> url = <span class=\"hljs-string\">\"\/send_mail.php\"<\/span>;\n            <span class=\"hljs-keyword\">var<\/span> data = {};\n            data.subject = $(<span class=\"hljs-string\">\".title\"<\/span>).val();\n            data.body = $(<span class=\"hljs-string\">\".content\"<\/span>).val();\n            console.log(data)\n            ajaxPost(url,<span class=\"hljs-built_in\">JSON<\/span>.stringify(data))\n        })\n    })\n    <span class=\"hljs-function\"><span class=\"hljs-keyword\">function<\/span> <span class=\"hljs-title\">ajaxPost<\/span><span class=\"hljs-params\">(url,data)<\/span>{<\/span>\n        $.ajax({\n            type:<span class=\"hljs-string\">'post'<\/span>,\n            dataType: <span class=\"hljs-string\">\"json\"<\/span>,\n            data: data,\n            url:url,\n            success: <span class=\"hljs-function\"><span class=\"hljs-keyword\">function<\/span> <span class=\"hljs-params\">(data)<\/span> {<\/span>\n                <span class=\"hljs-keyword\">if<\/span>(data.code==<span class=\"hljs-number\">0<\/span>){\n                    alert(<span class=\"hljs-string\">\"\u60a8\u7684\u7559\u8a00\u5df2\u7ecf\u63d0\u4ea4\u6210\u529f\uff0c\u6211\u4eec\u5c06\u5c3d\u5feb\u7b54\u590d\u60a8\uff01\"<\/span>)\n                }<span class=\"hljs-keyword\">else<\/span>{\n                    alert(<span class=\"hljs-string\">\"\u597d\u50cf\u670d\u52a1\u5668\u51fa\u95ee\u9898\u4e86\u5462T_T\uff0c\u60a8\u8fd8\u662f\u76f4\u63a5\u7535\u8bdd\u8054\u7cfb\u6211\u4eec\u5427\uff01\"<\/span>)\n                }\n            },\n            error: <span class=\"hljs-function\"><span class=\"hljs-keyword\">function<\/span> <span class=\"hljs-params\">(data)<\/span> {<\/span> alert(<span class=\"hljs-string\">\"\u670d\u52a1\u5668\u4e0d\u652f\u6301\u53d1\u9001\u90ae\u4ef6\"<\/span>) }\n        });\n    }\n    <\/span><span class=\"hljs-tag\">&lt;\/<span class=\"hljs-title\">script<\/span>&gt;<\/span><\/code><\/pre>\n\n<h2 id=\"\u5c0f\u7ed3\">\u5c0f\u7ed3<\/h2>\n\n<p>\u6838\u5fc3\u4ee3\u7801\u5c31\u662f\u8fd9\u4e9b\u4e86\u3002\u5269\u4e0b\u524d\u7aef\u9700\u8981\u589e\u52a0\u5b57\u6bb5\uff0c\u589e\u52a0\u9a8c\u8bc1\uff0csend_mail.php\u4e5f\u9700\u8981\u589e\u52a0\u9a8c\u8bc1\uff0c\u8fd9\u4e2a\u529f\u80fd\u624d\u80fd\u6b63\u5f0f\u4e0a\u7ebf\u3002php\u53d1\u9001\u90ae\u4ef6\u7684\u4ee3\u7801\u662f\u7f51\u4e0a\u627e\u7684\u3002\u5176\u4ed6\u90fd\u662f\u81ea\u5df1\u89e3\u51b3\u7684\u3002\u56e0\u6b64\u4e5f\u7b97\u662f\u539f\u521b\u5427\u3002<\/p>\n\n<p>\u9996\u53d1\u5730\u5740\uff1a<a href=\"http:\/\/blog.csdn.net\/fungleo\/article\/details\/52995053\">http:\/\/blog.csdn.net\/fungleo\/article\/details\/52995053<\/a> \u5141\u8bb8\u8f6c\u8f7d\uff0c\u4f46\u8f6c\u8f7d\u5fc5\u987b\u6ce8\u660e\u9996\u53d1\u5730\u5740\uff0c\u8c22\u8c22\u3002<\/p>","markdowncontent":"#php + jquery \u5229\u7528 smtp \u5b9e\u73b0\u53d1\u9001\u90ae\u4ef6\u529f\u80fd\n\n\u5728\u505a\u4e00\u4e2a\u4f01\u4e1a\u7ad9\u7684\u5c0f\u9879\u76ee\uff0c\u7528\u6237\u4e0d\u5e0c\u671b\u767b\u5f55\u5230\u540e\u53f0\u67e5\u770b\u7559\u8a00\uff0c\u800c\u662f\u5e0c\u671b\u7559\u8a00\u80fd\u76f4\u63a5\u53d1\u9001\u5230\u81ea\u5df1\u7684\u90ae\u7bb1\u91cc\uff0c\u7136\u540e\u8fd9\u6837\u4ed6\u5c31\u53ef\u4ee5\u5728\u624b\u673a\u4e0a\u5feb\u901f\u7684\u5904\u7406\u8fd9\u4e9b\u7528\u6237\u7684\u7559\u8a00\u4e86\u3002\u4e0d\u8fc7\u8fd9\u4e2a\u529f\u80fd\u6211\u81ea\u5df1\u5f00\u53d1\u7684 fengcms \u5e76\u4e0d\u652f\u6301\uff0c\u800c\u4e14\u76ee\u524d\u6ca1\u6709\u4e86\u89e3php\u7684\u670b\u53cb\u5728\u8eab\u8fb9\u3002\u672c\u7740\u81ea\u5df1\u52a8\u624b\u4e30\u8863\u8db3\u98df\u7684\u7cbe\u795e\uff0c\u81ea\u5df1\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\u5427\u3002\n\n##\u5b9e\u73b0\u8bbe\u60f3\n\n\u6211\u5e0c\u671b\u901a\u8fc7`ajax`\u6765\u5b9e\u73b0\u8fd9\u4e2a\u529f\u80fd\u3002\u56e0\u4e3a\u90ae\u4ef6\u672c\u8d28\u6765\u8bf4\uff0c\u53ea\u6709\u4e24\u4e2a\u5185\u5bb9\u5b57\u6bb5\uff0c\u4e00\u4e2a\u662f\u6807\u9898\uff0c\u4e00\u4e2a\u662f\u6b63\u6587\u3002\u800c\u6211\u4eec\u7f51\u9875\u4e0a\u901a\u5e38\u6709\u5f88\u591a\u8868\u5355\u6765\u8ba9\u7528\u6237\u586b\u5199\uff0c\u56e0\u6b64\uff0c\u5982\u679c\u662f\u7528`php`\u6765\u6574\u5408\u7ec4\u88c5\u8fd9\u4e9b\u5b57\u6bb5\u7684\u8bdd\uff0c\u4e0d\u662f\u4e0d\u53ef\u4ee5\uff0c\u800c\u662f\u6bd4\u8f83\u7e41\u7410\uff0c\u800c\u4e14\u4e0d\u80fd\u901a\u7528\u3002\u6211\u662f\u4e00\u540d\u524d\u7aef\u5de5\u7a0b\u5e08\uff0c\u56e0\u6b64\uff0c\u5f53\u7136\u5e0c\u671b\u7528\u524d\u7aef\u7684\u65b9\u6cd5\u6765\u89e3\u51b3\u8fd9\u4e9b\u95ee\u9898\u3002\u6211\u7684\u8bbe\u60f3\u89c4\u5212\u5982\u4e0b\n|\u6587\u4ef6|\u8bf4\u660e|\n|-\n|msn.html|\u63d0\u4ea4\u7559\u8a00\u8868\u5355html\u6587\u4ef6|\n|mail.php|php\u90ae\u4ef6\u5904\u7406\u6838\u5fc3\u6587\u4ef6|\n|send_mail.php|html\u548cmail.php\u7684\u6c9f\u901a\u6587\u4ef6|\n\n\u901a\u8fc7`msn.html`\u6784\u9020\u8868\u5355\uff0c\u5e76\u5229\u7528`jquery`\u7684`ajax`\u529f\u80fd\uff0c\u5c06\u4fe1\u606f\u6784\u9020\u6210`json`\u4fe1\u606f\uff0c`post` \u5230 `send_mail.php` \u6587\u4ef6\u3002`send_mail.php`\u5904\u7406\u90ae\u4ef6\u903b\u8f91\uff0c\u5e76\u8c03\u7528`mail.php`\u6838\u5fc3\u53c2\u6570\uff0c\u6765\u5b9e\u73b0\u90ae\u4ef6\u7684\u53d1\u9001\u3002\n\n##\u9010\u6b65\u5b9e\u73b0\n**mail.php\u7684\u5b9e\u73b0**\n```php\n<?php\n\/\/ Pear Mail Library\nrequire_once \"Mail.php\";\n\nconst SMTP = 'smtp.163.com';\nconst PORT = '25';\nconst USERNAME = 'username@163.com';\nconst PASSWORD = 'password';\n\n\nfunction send_mail($subject, $body) {\n    $from = '<username@163.com>';\n    $to = '<inbox@163.com.com>';\n    $headers = array(\n        'From' => $from,\n        'To' => $to,\n        'Subject' => $subject\n    );\n\n    $smtp = Mail::factory('smtp', array(\n            'host' => SMTP,\n            'port' => PORT,\n            'auth' => true,\n            'username' => USERNAME,\n            'password' => PASSWORD\n        ));\n\n    $mail = $smtp->send($to, $headers, $body);\n\n    if (PEAR::isError($mail)) {\n        return true;\n    } else {\n        return false;\n    }\n}\n?>\n```\n**send_mail.php\u7684\u5b9e\u73b0**\n```php\n<?php\n    require_once 'mail.php';\n\n    $raw = file_get_contents('php:\/\/input');\n    $json = json_decode($raw);\n    if (!send_mail($json->subject, $json->body)) {\n        echo('{\"code\":0, \"message\":\"\u53d1\u9001\u6210\u529f\u3002\"}');\n    } else {\n        echo('{\"code\":1, \"message\":\"\u53d1\u9001\u5931\u8d25\u3002\"}');\n    }\n?>\n```\n**msn.html\u7684\u5b9e\u73b0**\n```html\n\t<section class=\"msn\">\n\t\t<input type=\"text\" class=\"title\" name=\"title\" value=\"title\">\n\t\t<textarea name=\"content\" class=\"content\">content<\/textarea>\n\t\t<input type=\"button\" class=\"submit_msn\" value=\"\u63d0\u4ea4\">\n\t<\/section>\n\t<script>\n\t$(function(){\n\t\t$(\".submit_msn\").on(\"click\",function(){\n\t\t\tvar url = \"\/send_mail.php\";\n\t\t\tvar data = {};\n\t\t\tdata.subject = $(\".title\").val();\n\t\t\tdata.body = $(\".content\").val();\n\t\t\tconsole.log(data)\n\t\t\tajaxPost(url,JSON.stringify(data))\n\t\t})\n\t})\n\tfunction ajaxPost(url,data){\n\t\t$.ajax({\n\t\t\ttype:'post',\n\t\t\tdataType: \"json\",\n\t\t\tdata: data,\n\t\t\turl:url,\n\t\t\tsuccess: function (data) {\n\t            if(data.code==0){\n\t                alert(\"\u60a8\u7684\u7559\u8a00\u5df2\u7ecf\u63d0\u4ea4\u6210\u529f\uff0c\u6211\u4eec\u5c06\u5c3d\u5feb\u7b54\u590d\u60a8\uff01\")\n\t            }else{\n\t                alert(\"\u597d\u50cf\u670d\u52a1\u5668\u51fa\u95ee\u9898\u4e86\u5462T_T\uff0c\u60a8\u8fd8\u662f\u76f4\u63a5\u7535\u8bdd\u8054\u7cfb\u6211\u4eec\u5427\uff01\")\n\t            }\n\t        },\n\t\t\terror: function (data) { alert(\"\u670d\u52a1\u5668\u4e0d\u652f\u6301\u53d1\u9001\u90ae\u4ef6\") }\n\t\t});\n\t}\n\t<\/script>\n```\n##\u5c0f\u7ed3\n\n\u6838\u5fc3\u4ee3\u7801\u5c31\u662f\u8fd9\u4e9b\u4e86\u3002\u5269\u4e0b\u524d\u7aef\u9700\u8981\u589e\u52a0\u5b57\u6bb5\uff0c\u589e\u52a0\u9a8c\u8bc1\uff0csend_mail.php\u4e5f\u9700\u8981\u589e\u52a0\u9a8c\u8bc1\uff0c\u8fd9\u4e2a\u529f\u80fd\u624d\u80fd\u6b63\u5f0f\u4e0a\u7ebf\u3002php\u53d1\u9001\u90ae\u4ef6\u7684\u4ee3\u7801\u662f\u7f51\u4e0a\u627e\u7684\u3002\u5176\u4ed6\u90fd\u662f\u81ea\u5df1\u89e3\u51b3\u7684\u3002\u56e0\u6b64\u4e5f\u7b97\u662f\u539f\u521b\u5427\u3002\n\n\u9996\u53d1\u5730\u5740\uff1ahttp:\/\/blog.csdn.net\/fungleo\/article\/details\/52995053 \u5141\u8bb8\u8f6c\u8f7d\uff0c\u4f46\u8f6c\u8f7d\u5fc5\u987b\u6ce8\u660e\u9996\u53d1\u5730\u5740\uff0c\u8c22\u8c22\u3002","private":0,"tags":"jquery,php,smtp,php\u53d1\u90ae\u4ef6","categories":"other","channel":"14","type":"original","status":1},"error":"","status":true}