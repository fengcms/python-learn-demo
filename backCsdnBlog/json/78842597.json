{"data":{"id":"78842597","title":"Python3 \u521d\u5b66\u5b9e\u8df5\u6848\u4f8b\uff086\uff09\u7ec8\u6781 CLI \u5bc6\u7801\u751f\u6210\u7a0b\u5e8f\u5b9e\u73b0","articleedittype":1,"description":"Python3 \u521d\u5b66\u5b9e\u8df5\u6848\u4f8b\uff086\uff09\u7ec8\u6781 CLI \u5bc6\u7801\u751f\u6210\u7a0b\u5e8f\u5b9e\u73b0\u5728\u524d\u9762\u4e00\u7ae0\u7684\u5b66\u4e60\u4e2d\uff0c\u6211\u5df2\u7ecf\u5b8c\u6210\u4e86\u4e00\u4e2a\u4e00\u5b9a\u6254\u51fa 6 \u7684\u751f\u6210\u5bc6\u7801\u7b97\u6cd5\u5b9e\u73b0\u3002\u4f46\u662f\u53ea\u80fd\u5c06\u751f\u6210\u7684\u5bc6\u7801\u8f93\u51fa\u5230\u7ec8\u7aef\uff0c\u5e76\u4e0d\u80fd\u591f\u5c06\u5bc6\u7801\u4fdd\u5b58\u5230\u6587\u4ef6\uff0c\u8fd9\u6837\u8fd8\u662f\u5f88\u6709\u95ee\u9898\u7684\u3002\u968f\u673a\u751f\u6210\u7684\u4e1c\u897f\u6211\u8bb0\u90fd\u8bb0\u4e0d\u4f4f\uff0c\u56de\u5934\u627e\u4e0d\u56de\u6765\u5c31\u9ebb\u70e6\u4e86\u3002\u6240\u4ee5\uff0c\u6211\u9700\u8981\u7ed9\u5b83\u52a0\u4e0a\u8fd9\u4e2a\u529f\u80fd\u3002\u5b9e\u73b0\u6e90\u7801#!\/usr\/bin\/env python3\n# -*- coding: UTF-8 -*-\nimpo","content":"<h1 id=\"python3-\u521d\u5b66\u5b9e\u8df5\u6848\u4f8b6\u7ec8\u6781-cli-\u5bc6\u7801\u751f\u6210\u7a0b\u5e8f\u5b9e\u73b0\">Python3 \u521d\u5b66\u5b9e\u8df5\u6848\u4f8b\uff086\uff09\u7ec8\u6781 CLI \u5bc6\u7801\u751f\u6210\u7a0b\u5e8f\u5b9e\u73b0<\/h1>\n\n<p>\u5728\u524d\u9762\u4e00\u7ae0\u7684\u5b66\u4e60\u4e2d\uff0c\u6211\u5df2\u7ecf\u5b8c\u6210\u4e86\u4e00\u4e2a\u4e00\u5b9a\u6254\u51fa 6 \u7684\u751f\u6210\u5bc6\u7801\u7b97\u6cd5\u5b9e\u73b0\u3002\u4f46\u662f\u53ea\u80fd\u5c06\u751f\u6210\u7684\u5bc6\u7801\u8f93\u51fa\u5230\u7ec8\u7aef\uff0c\u5e76\u4e0d\u80fd\u591f\u5c06\u5bc6\u7801\u4fdd\u5b58\u5230\u6587\u4ef6\uff0c\u8fd9\u6837\u8fd8\u662f\u5f88\u6709\u95ee\u9898\u7684\u3002<\/p>\n\n<p>\u968f\u673a\u751f\u6210\u7684\u4e1c\u897f\u6211\u8bb0\u90fd\u8bb0\u4e0d\u4f4f\uff0c\u56de\u5934\u627e\u4e0d\u56de\u6765\u5c31\u9ebb\u70e6\u4e86\u3002\u6240\u4ee5\uff0c\u6211\u9700\u8981\u7ed9\u5b83\u52a0\u4e0a\u8fd9\u4e2a\u529f\u80fd\u3002<\/p>\n\n\n\n<h2 id=\"\u5b9e\u73b0\u6e90\u7801\">\u5b9e\u73b0\u6e90\u7801<\/h2>\n\n\n\n<pre class=\"prettyprint\"><code class=\"language-python hljs \"><span class=\"hljs-comment\">#!\/usr\/bin\/env python3<\/span>\n<span class=\"hljs-comment\"># -*- coding: UTF-8 -*-<\/span>\n<span class=\"hljs-keyword\">import<\/span> random\n<span class=\"hljs-keyword\">import<\/span> argparse\n<span class=\"hljs-keyword\">import<\/span> os\n<span class=\"hljs-keyword\">import<\/span> time\n<span class=\"hljs-keyword\">import<\/span> clipboard\n\n<span class=\"hljs-comment\"># \u8bbe\u5b9a\u5bc6\u7801\u4fdd\u5b58\u8def\u5f84<\/span>\nDEFAULT_FILENAME = <span class=\"hljs-string\">'.\/password.txt'<\/span>\n\n<span class=\"hljs-comment\"># \u6839\u636e\u9700\u8981\u7684\u7ed3\u679c\uff0c\u526a\u51fa\u4e00\u4e2a\u6570\u7ec4<\/span>\n<span class=\"hljs-function\"><span class=\"hljs-keyword\">def<\/span> <span class=\"hljs-title\">cutLength<\/span><span class=\"hljs-params\">(leng, level)<\/span>:<\/span>\n    <span class=\"hljs-comment\"># \u7b97\u6cd5\u6bd4\u8f83\u590d\u6742\uff0c\u7b80\u5316\u6765\u8bf4\uff0c\u5c31\u662f\u5df2\u77e5\u6570\u7ec4\u957f\u5ea6\uff0c\u548c\u6570\u7ec4\u5185\u6570\u5b57\u7684\u548c<\/span>\n    <span class=\"hljs-comment\"># \u6c42\u4e00\u4e2a\u968f\u673a\u7684\u6570\u7ec4\uff0c\u6ee1\u8db3\u4e0a\u9762\u7684\u4e24\u4e2a\u6761\u4ef6<\/span>\n    res = []\n    <span class=\"hljs-keyword\">for<\/span> i <span class=\"hljs-keyword\">in<\/span> range(level, <span class=\"hljs-number\">1<\/span>, -<span class=\"hljs-number\">1<\/span>):\n        res.append(random.randint(<span class=\"hljs-number\">1<\/span>, leng - sum(res) - i + <span class=\"hljs-number\">1<\/span>))\n    res.append(leng - sum(res))\n    <span class=\"hljs-comment\"># \u56e0\u4e3a\u7b2c\u4e00\u4f4d\u751f\u6210\u5927\u6570\u5b57\u7684\u51e0\u7387\u9ad8\u4e8e\u540e\u9762\u7684\u51e0\u4f4d\uff0c<\/span>\n    <span class=\"hljs-comment\"># \u6240\u4ee5\u5728\u5f97\u5230\u7ed3\u679c\u540e\uff0c\u968f\u673a\u6392\u5e8f\u4e00\u4e0b,\u4ee5\u671f\u5f85\u66f4\u968f\u673a\u4e00\u4e9b<\/span>\n    random.shuffle(res)\n    <span class=\"hljs-keyword\">return<\/span> res\n<span class=\"hljs-comment\"># \u6839\u636e\u4e0a\u9762\u751f\u6210\u7684\u6570\u7ec4\u548c\u5bf9\u5e94\u7684\u5b57\u5178\uff0c\u5236\u9020\u4e00\u4e2a\u5bc6\u7801\u6570\u7ec4<\/span>\n<span class=\"hljs-function\"><span class=\"hljs-keyword\">def<\/span> <span class=\"hljs-title\">makePassword<\/span><span class=\"hljs-params\">(dists, arr)<\/span>:<\/span>\n    res = []\n    <span class=\"hljs-comment\"># \u6839\u636e\u5b57\u5178\u548c\u6570\u7ec4\uff0c\u5faa\u73af\u751f\u6210\u5bc6\u7801<\/span>\n    <span class=\"hljs-keyword\">for<\/span> i <span class=\"hljs-keyword\">in<\/span> range(len(arr)):\n        <span class=\"hljs-comment\"># res += random.choices(dists[i], k=arr[i])<\/span>\n        <span class=\"hljs-keyword\">for<\/span> j <span class=\"hljs-keyword\">in<\/span> range(arr[i]):\n            res += random.choice(dists[i])\n    <span class=\"hljs-comment\"># \u5f97\u5230\u7ed3\u679c\u540e\uff0c\u518d\u4e00\u6b21\u968f\u673a\u6392\u5e8f<\/span>\n    random.shuffle(res)\n    <span class=\"hljs-comment\"># \u6700\u540e\u628a\u6570\u7ec4\u53d8\u6210\u5b57\u7b26\u4e32\uff0c\u5e76\u8f93\u51fa<\/span>\n    <span class=\"hljs-keyword\">return<\/span> <span class=\"hljs-string\">''<\/span>.join(res)\n<span class=\"hljs-comment\"># \u751f\u6210\u4e00\u4e2a\u5bc6\u7801\u51fd\u6570<\/span>\n<span class=\"hljs-function\"><span class=\"hljs-keyword\">def<\/span> <span class=\"hljs-title\">getPassword<\/span><span class=\"hljs-params\">(leng, level)<\/span>:<\/span>\n    <span class=\"hljs-comment\"># \u6839\u636e\u5bc6\u7801\u957f\u5ea6\u548c\u7b49\u7ea7\uff0c\u53bb\u6c42\u4e00\u4e2a\u6ee1\u8db3\u6761\u4ef6\u7684\u6570\u7ec4<\/span>\n    arr = cutLength(leng,level)\n    <span class=\"hljs-comment\"># \u5236\u9020\u5b57\u5178<\/span>\n    str1 = <span class=\"hljs-string\">'01'<\/span>\n    str2 = <span class=\"hljs-string\">'23456789'<\/span>\n    str3 = <span class=\"hljs-string\">'abcdefghijkmnpqrstuvwxyz'<\/span>\n    str4 = <span class=\"hljs-string\">'ABCDEFGHJKMNPQRSTUVWXYZ'<\/span>\n    str5 = <span class=\"hljs-string\">'_@!,.:;-=+\/?'<\/span>\n\n    dists = {\n                <span class=\"hljs-number\">1<\/span>: [str1 + str2],\n                <span class=\"hljs-number\">3<\/span>: [str2, str3, str4],\n                <span class=\"hljs-number\">4<\/span>: [str2, str3, str4, str5]\n            }\n    <span class=\"hljs-comment\"># \u751f\u6210\u5bc6\u7801<\/span>\n    <span class=\"hljs-keyword\">return<\/span> makePassword(dists[level], arr)\n\n<span class=\"hljs-comment\"># \u5c06\u751f\u6210\u7684\u5bc6\u7801\u5199\u5165\u6587\u4ef6<\/span>\n<span class=\"hljs-function\"><span class=\"hljs-keyword\">def<\/span> <span class=\"hljs-title\">writePassword<\/span><span class=\"hljs-params\">(name, passwd)<\/span>:<\/span>\n    <span class=\"hljs-comment\"># \u5982\u679c\u6587\u4ef6\u4e0d\u5b58\u5728\uff0c\u5219\u521b\u5efa\u8be5\u6587\u4ef6<\/span>\n    <span class=\"hljs-keyword\">if<\/span> <span class=\"hljs-keyword\">not<\/span> os.path.exists(DEFAULT_FILENAME):\n        f = open(DEFAULT_FILENAME, <span class=\"hljs-string\">'w'<\/span>)\n        f.write(<span class=\"hljs-string\">'Here save the passwords generated by history\\n\\n'<\/span>)\n        f.close()\n\n    <span class=\"hljs-comment\"># \u83b7\u53d6\u5f53\u524d\u65f6\u95f4<\/span>\n    t = time.strftime(<span class=\"hljs-string\">\"%Y-%m-%d %H:%M:%S\"<\/span>, time.localtime())\n    <span class=\"hljs-comment\"># \u5c06\u7ed3\u679c\u8ffd\u52a0\u5230\u6587\u4ef6\u4e2d<\/span>\n    f = open(DEFAULT_FILENAME, <span class=\"hljs-string\">'a'<\/span>)\n    f.write(name + <span class=\"hljs-string\">'\\t'<\/span> + passwd + <span class=\"hljs-string\">'\\t'<\/span> + t + <span class=\"hljs-string\">'\\n'<\/span>)\n    f.close()\n\n<span class=\"hljs-comment\"># \u8f93\u51fa\u7ed3\u679c<\/span>\n<span class=\"hljs-function\"><span class=\"hljs-keyword\">def<\/span> <span class=\"hljs-title\">returnPassword<\/span><span class=\"hljs-params\">(passwd, name)<\/span>:<\/span>\n    clipboard.copy(passwd)\n    print(<span class=\"hljs-string\">'New password:\\t\\033[31m'<\/span> + passwd + <span class=\"hljs-string\">'\\033[0m\\nTip: The password has been copied to the clipboard'<\/span>)\n    <span class=\"hljs-keyword\">if<\/span> name:\n        print(<span class=\"hljs-string\">'And the password has been saved in the '<\/span> + DEFAULT_FILENAME + <span class=\"hljs-string\">' file'<\/span>)\n    exit()\n\n<span class=\"hljs-comment\"># \u4e3b\u51fd\u6570<\/span>\n<span class=\"hljs-keyword\">if<\/span> __name__ == <span class=\"hljs-string\">\"__main__\"<\/span>:\n    <span class=\"hljs-comment\"># \u8bbe\u7f6e\u547d\u4ee4\u884c\u53c2\u6570<\/span>\n    parser = argparse.ArgumentParser()\n    parser.description=<span class=\"hljs-string\">'This program is used to generate simple or complex passwords'<\/span>\n    parser.add_argument(<span class=\"hljs-string\">\"-v\"<\/span>, <span class=\"hljs-string\">\"--version\"<\/span>,action=<span class=\"hljs-string\">'version'<\/span>, version=<span class=\"hljs-string\">'%(prog)s 1.0'<\/span>)\n    parser.add_argument(<span class=\"hljs-string\">'length'<\/span>, type=int, help=<span class=\"hljs-string\">'The length of the password (Default 8)'<\/span>, nargs=<span class=\"hljs-string\">'?'<\/span>)\n    parser.add_argument(<span class=\"hljs-string\">'-n'<\/span>, <span class=\"hljs-string\">'--name'<\/span>, help=<span class=\"hljs-string\">'Take a name for your password and Write it in '<\/span> + DEFAULT_FILENAME)\n\n    group = parser.add_mutually_exclusive_group()\n    group.add_argument(<span class=\"hljs-string\">\"-s\"<\/span>, <span class=\"hljs-string\">\"--simple\"<\/span>, help=<span class=\"hljs-string\">\"The password is made up of pure numbers\"<\/span>, action=<span class=\"hljs-string\">\"store_true\"<\/span>)\n    group.add_argument(<span class=\"hljs-string\">\"-c\"<\/span>, <span class=\"hljs-string\">\"--commonly\"<\/span>, help=<span class=\"hljs-string\">\"The password is made up of numbers and letters (Default)\"<\/span>, action=<span class=\"hljs-string\">\"store_true\"<\/span>)\n    group.add_argument(<span class=\"hljs-string\">\"-d\"<\/span>, <span class=\"hljs-string\">\"--difficult\"<\/span>, help=<span class=\"hljs-string\">\"The password is made up of numbers, letters, and punctuation\"<\/span>, action=<span class=\"hljs-string\">\"store_true\"<\/span>)\n\n    <span class=\"hljs-comment\"># \u83b7\u53d6\u547d\u4ee4\u884c\u53c2\u6570\u7ed3\u679c<\/span>\n    args = parser.parse_args()\n\n    <span class=\"hljs-comment\"># \u786e\u5b9a\u5bc6\u7801\u957f\u5ea6\u4e3a\u547d\u4ee4\u884c\u8bbe\u7f6e\u6216\u8005\u9ed8\u8ba4\u4e3a8<\/span>\n    length = args.length <span class=\"hljs-keyword\">or<\/span> <span class=\"hljs-number\">8<\/span>\n\n    <span class=\"hljs-comment\"># \u5982\u679c\u5bc6\u7801\u957f\u5ea6\u5c0f\u4e8e 4 \u5219\u63d0\u793a\u5e76\u9000\u51fa<\/span>\n    <span class=\"hljs-keyword\">if<\/span> length &lt; <span class=\"hljs-number\">4<\/span>:\n        parser.print_usage()\n        print(<span class=\"hljs-string\">'error: The password length must be greater than 3'<\/span>)\n        exit()\n\n    <span class=\"hljs-comment\"># \u9ed8\u8ba4\u5bc6\u7801\u7b49\u7ea7\u4e3a\u4e00\u822c<\/span>\n    level = <span class=\"hljs-number\">3<\/span>\n\n    <span class=\"hljs-keyword\">if<\/span> args.simple:\n        level = <span class=\"hljs-number\">1<\/span>\n    <span class=\"hljs-keyword\">if<\/span> args.difficult:\n        level = <span class=\"hljs-number\">4<\/span>\n\n    <span class=\"hljs-comment\"># \u53bb\u5f97\u5230\u5bc6\u7801<\/span>\n    res = getPassword(length, level)\n    <span class=\"hljs-comment\"># \u5982\u679c\u5bc6\u7801\u9700\u8981\u4fdd\u5b58\uff0c\u5219\u5199\u5165\u6587\u4ef6<\/span>\n    <span class=\"hljs-keyword\">if<\/span> args.name:\n        writePassword(args.name, res)\n    <span class=\"hljs-comment\"># \u8fd4\u56de\u7ed3\u679c<\/span>\n    returnPassword(res, args.name)<\/code><\/pre>\n\n<p>\u8fd0\u884c\u6548\u679c\uff1a<\/p>\n\n<p><img src=\"http:\/\/img.blog.csdn.net\/20171219143644374?watermark\/2\/text\/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvRnVuZ0xlbw==\/font\/5a6L5L2T\/fontsize\/400\/fill\/I0JBQkFCMA==\/dissolve\/70\/gravity\/SouthEast\" alt=\"\u751f\u6210\u5bc6\u7801\u6700\u7ec8\u8fd0\u884c\u6548\u679c\u56fe\" title=\"\"><\/p>\n\n\n\n<h2 id=\"\u91cd\u70b9\u8865\u5145\">\u91cd\u70b9\u8865\u5145<\/h2>\n\n<p><strong>\u65b0\u589e\u53ef\u9009\u547d\u4ee4\u53c2\u6570<\/strong><\/p>\n\n<p>\u6211\u4eec\u9700\u8981\u4fdd\u5b58\u5bc6\u7801\uff0c\u4f46\u662f\u4fdd\u5b58\u7684\u662f\u4e2a\u5565\u5bc6\u7801\u6211\u548b\u77e5\u9053\u5462\uff1f\u6240\u4ee5\uff0c\u8fd8\u662f\u5f88\u6709\u5fc5\u8981\u4e3a\u8fd9\u4e2a\u5bc6\u7801\u53d6\u4e2a\u540d\u5b57\u7684\u3002\u8fd9\u9700\u8981\u6211\u4eec\u5728\u8fc7\u53bb\u5bc6\u7801\u7684\u65f6\u5019\u589e\u52a0\u4e00\u4e2a\u53c2\u6570\uff0c\u8fd9\u4e2a\u53c2\u6570\u53ef\u4ee5\u7f00\u4e00\u4e2a\u503c\uff0c\u8fd9\u4e2a\u503c\uff0c\u5c31\u662f\u6211\u4eec\u4e3a\u5bc6\u7801\u4fdd\u5b58\u7684\u540d\u5b57\u3002<\/p>\n\n<p>\u4ee3\u7801\u5982\u4e0b\uff1a<\/p>\n\n\n\n<pre class=\"prettyprint\"><code class=\"language-python hljs \">parser.add_argument(<span class=\"hljs-string\">'-n'<\/span>, <span class=\"hljs-string\">'--name'<\/span>, help=<span class=\"hljs-string\">'Take a name for your password and Write it in \".\/password.txt\"'<\/span>)<\/code><\/pre>\n\n<blockquote>\n  <p>\u6240\u6709\u52a0\u4e86 <code>-<\/code> \u7684\u53c2\u6570\u90fd\u662f\u53ef\u9009\u9879\u3002<\/p>\n<\/blockquote>\n\n<p>\u6709\u4e86\u8fd9\u6837\u4e00\u4e2a\u9009\u9879\u4e4b\u540e\uff0c\u6211\u4eec\u5c31\u53ef\u4ee5\u901a\u8fc7 <code>args.name<\/code> \u62ff\u5230\u811a\u672c\u6267\u884c\u65f6\u7528\u6237\u8f93\u5165\u7684\u540d\u5b57\u53c2\u6570\u662f\u4ec0\u4e48\u4e86\u3002\u5982\u679c\u6ca1\u6709\u8fd9\u4e2a\u53c2\u6570\uff0c\u5219\u4f1a\u8fd4\u56de <code>None<\/code>\u3002<\/p>\n\n<p><strong>\u521b\u5efa\u4e0e\u5199\u5165\u6587\u4ef6\u4ee5\u53ca\u5224\u65ad\u6587\u4ef6\u662f\u5426\u5b58\u5728<\/strong><\/p>\n\n<p>\u6211\u4eec\u8bbe\u5b9a\u4e86\u4e00\u4e2a\u4fdd\u5b58\u6587\u4ef6\u7684\u8def\u5f84\u4e3a <code>\".\/password.txt\"<\/code> \uff0c\u4f46\u662f\u5982\u679c\u8fd9\u4e2a\u6587\u4ef6\u4e0d\u5b58\u5728\u5462\uff1f<\/p>\n\n<p>\u6240\u4ee5\u6211\u4eec\u9996\u5148\u9700\u8981\u5224\u65ad\u8fd9\u4e2a\u6587\u4ef6\u5b58\u5728\u4e0d\u5b58\u5728\uff0c\u8fd9\u5c31\u9700\u8981\u5f15\u5165 <code>os<\/code> \u5e93\u6765\u89e3\u51b3\u95ee\u9898\uff1a<\/p>\n\n\n\n<pre class=\"prettyprint\"><code class=\"language-python hljs \"><span class=\"hljs-keyword\">import<\/span> os\n<span class=\"hljs-keyword\">if<\/span> <span class=\"hljs-keyword\">not<\/span> os.path.exists(file_path)<\/code><\/pre>\n\n<p>\u5982\u679c\u6587\u4ef6\u4e0d\u5b58\u5728\uff0c\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528 <code>open<\/code> \u6765\u521b\u5efa\u8fd9\u4e2a\u6587\u4ef6\uff0c\u5e76\u4e14\u5199\u5165\u5185\u5bb9\uff1a<\/p>\n\n\n\n<pre class=\"prettyprint\"><code class=\"language-python hljs \">f = open(file_path, <span class=\"hljs-string\">'w'<\/span>)\nf.write(<span class=\"hljs-string\">'Here save the passwords generated by history\\n\\n'<\/span>)\nf.close()<\/code><\/pre>\n\n<p>\u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c\u5728 <code>open<\/code> \u4e86\u4e4b\u540e\uff0c\u4e00\u5b9a\u8981 <code>close()<\/code><\/p>\n\n<p>\u5982\u679c\u6587\u4ef6\u5b58\u5728\uff0c\u5219\u9700\u8981\u4f7f\u7528\u8ffd\u52a0\u7684\u65b9\u5f0f\u5728\u6587\u4ef6\u6700\u540e\u5199\u5165\u5185\u5bb9\uff1a<\/p>\n\n\n\n<pre class=\"prettyprint\"><code class=\"language-python hljs \">f = open(file_path, <span class=\"hljs-string\">'a'<\/span>)\nf.write(name + <span class=\"hljs-string\">'\\t'<\/span> + passwd + <span class=\"hljs-string\">'\\t'<\/span> + t + <span class=\"hljs-string\">'\\n'<\/span>)\nf.close()<\/code><\/pre>\n\n<p>\u4e00\u6837\uff0c\u662f\u9700\u8981\u5173\u95ed\u7684\u3002<\/p>\n\n<p><strong>\u5c06\u7ed3\u679c\u590d\u5236\u5230\u526a\u5207\u677f<\/strong><\/p>\n\n<p>\u6211\u4eec\u751f\u6210\u51fa\u6765\u4e86\u5bc6\u7801\uff0c\u4f46\u662f\u9700\u8981\u5230\u7ec8\u7aef\u91cc\u9762\u590d\u5236\u4e00\u4e0b\uff0c\u8fd9\u4e2a\u663e\u7136\u5f88\u4e0d\u65b9\u4fbf\uff0c\u6240\u4ee5\u5982\u679c\u80fd\u518d\u751f\u6210\u5bc6\u7801\u7684\u540c\u65f6\u5c31\u5c06\u5bc6\u7801\u590d\u5236\u5230\u526a\u5207\u677f\uff0c\u65e0\u7591\u80fd\u589e\u52a0\u6211\u4eec\u7684\u7a0b\u5e8f\u7684\u7528\u6237\u4f53\u9a8c\u3002<\/p>\n\n<p>\u5b9e\u73b0\u8fd9\u4e2a\u529f\u80fd\u4e5f\u4e0d\u590d\u6742\uff0c\u6211\u4eec\u9700\u8981\u5f15\u5165\u4e00\u4e2a\u5e93\u53eb <code>clipboard<\/code>\uff0c\u7136\u540e\u5728\u9700\u8981\u590d\u5236\u5230\u526a\u5207\u677f\u7684\u5730\u65b9\u7528\u4e0b\u9762\u7684\u4ee3\u7801\u5373\u53ef\u5b8c\u6210\u6211\u4eec\u7684\u9700\u6c42\u3002<\/p>\n\n\n\n<pre class=\"prettyprint\"><code class=\"language-python hljs \">clipboard.copy(string)<\/code><\/pre>\n\n<p>\u597d\uff0c\u5176\u4ed6\u90fd\u662f\u4e4b\u524d\u5b66\u8fc7\u7684\u5185\u5bb9\u4e86\u3002\u5b8c\u7f8e~<\/p>\n\n<p>\u672c\u6587\u7531 FungLeo \u539f\u521b\uff0c\u5141\u8bb8\u8f6c\u8f7d\uff0c\u4f46\u8f6c\u8f7d\u5fc5\u987b\u4fdd\u7559\u9996\u53d1\u94fe\u63a5\u3002<\/p>","markdowncontent":"# Python3 \u521d\u5b66\u5b9e\u8df5\u6848\u4f8b\uff086\uff09\u7ec8\u6781 CLI \u5bc6\u7801\u751f\u6210\u7a0b\u5e8f\u5b9e\u73b0\n\n\u5728\u524d\u9762\u4e00\u7ae0\u7684\u5b66\u4e60\u4e2d\uff0c\u6211\u5df2\u7ecf\u5b8c\u6210\u4e86\u4e00\u4e2a\u4e00\u5b9a\u6254\u51fa 6 \u7684\u751f\u6210\u5bc6\u7801\u7b97\u6cd5\u5b9e\u73b0\u3002\u4f46\u662f\u53ea\u80fd\u5c06\u751f\u6210\u7684\u5bc6\u7801\u8f93\u51fa\u5230\u7ec8\u7aef\uff0c\u5e76\u4e0d\u80fd\u591f\u5c06\u5bc6\u7801\u4fdd\u5b58\u5230\u6587\u4ef6\uff0c\u8fd9\u6837\u8fd8\u662f\u5f88\u6709\u95ee\u9898\u7684\u3002\n\n\u968f\u673a\u751f\u6210\u7684\u4e1c\u897f\u6211\u8bb0\u90fd\u8bb0\u4e0d\u4f4f\uff0c\u56de\u5934\u627e\u4e0d\u56de\u6765\u5c31\u9ebb\u70e6\u4e86\u3002\u6240\u4ee5\uff0c\u6211\u9700\u8981\u7ed9\u5b83\u52a0\u4e0a\u8fd9\u4e2a\u529f\u80fd\u3002\n\n## \u5b9e\u73b0\u6e90\u7801\n\n```python\n#!\/usr\/bin\/env python3\n# -*- coding: UTF-8 -*-\nimport random\nimport argparse\nimport os\nimport time\nimport clipboard\n\n# \u8bbe\u5b9a\u5bc6\u7801\u4fdd\u5b58\u8def\u5f84\nDEFAULT_FILENAME = '.\/password.txt'\n\n# \u6839\u636e\u9700\u8981\u7684\u7ed3\u679c\uff0c\u526a\u51fa\u4e00\u4e2a\u6570\u7ec4\ndef cutLength(leng, level):\n    # \u7b97\u6cd5\u6bd4\u8f83\u590d\u6742\uff0c\u7b80\u5316\u6765\u8bf4\uff0c\u5c31\u662f\u5df2\u77e5\u6570\u7ec4\u957f\u5ea6\uff0c\u548c\u6570\u7ec4\u5185\u6570\u5b57\u7684\u548c\n    # \u6c42\u4e00\u4e2a\u968f\u673a\u7684\u6570\u7ec4\uff0c\u6ee1\u8db3\u4e0a\u9762\u7684\u4e24\u4e2a\u6761\u4ef6\n    res = []\n    for i in range(level, 1, -1):\n        res.append(random.randint(1, leng - sum(res) - i + 1))\n    res.append(leng - sum(res))\n    # \u56e0\u4e3a\u7b2c\u4e00\u4f4d\u751f\u6210\u5927\u6570\u5b57\u7684\u51e0\u7387\u9ad8\u4e8e\u540e\u9762\u7684\u51e0\u4f4d\uff0c\n    # \u6240\u4ee5\u5728\u5f97\u5230\u7ed3\u679c\u540e\uff0c\u968f\u673a\u6392\u5e8f\u4e00\u4e0b,\u4ee5\u671f\u5f85\u66f4\u968f\u673a\u4e00\u4e9b\n    random.shuffle(res)\n    return res\n# \u6839\u636e\u4e0a\u9762\u751f\u6210\u7684\u6570\u7ec4\u548c\u5bf9\u5e94\u7684\u5b57\u5178\uff0c\u5236\u9020\u4e00\u4e2a\u5bc6\u7801\u6570\u7ec4\ndef makePassword(dists, arr):\n    res = []\n    # \u6839\u636e\u5b57\u5178\u548c\u6570\u7ec4\uff0c\u5faa\u73af\u751f\u6210\u5bc6\u7801\n    for i in range(len(arr)):\n        # res += random.choices(dists[i], k=arr[i])\n        for j in range(arr[i]):\n            res += random.choice(dists[i])\n    # \u5f97\u5230\u7ed3\u679c\u540e\uff0c\u518d\u4e00\u6b21\u968f\u673a\u6392\u5e8f\n    random.shuffle(res)\n    # \u6700\u540e\u628a\u6570\u7ec4\u53d8\u6210\u5b57\u7b26\u4e32\uff0c\u5e76\u8f93\u51fa\n    return ''.join(res)\n# \u751f\u6210\u4e00\u4e2a\u5bc6\u7801\u51fd\u6570\ndef getPassword(leng, level):\n    # \u6839\u636e\u5bc6\u7801\u957f\u5ea6\u548c\u7b49\u7ea7\uff0c\u53bb\u6c42\u4e00\u4e2a\u6ee1\u8db3\u6761\u4ef6\u7684\u6570\u7ec4\n    arr = cutLength(leng,level)\n    # \u5236\u9020\u5b57\u5178\n    str1 = '01'\n    str2 = '23456789'\n    str3 = 'abcdefghijkmnpqrstuvwxyz'\n    str4 = 'ABCDEFGHJKMNPQRSTUVWXYZ'\n    str5 = '_@!,.:;-=+\/?'\n\n    dists = {\n                1: [str1 + str2],\n                3: [str2, str3, str4],\n                4: [str2, str3, str4, str5]\n            }\n    # \u751f\u6210\u5bc6\u7801\n    return makePassword(dists[level], arr)\n\n# \u5c06\u751f\u6210\u7684\u5bc6\u7801\u5199\u5165\u6587\u4ef6\ndef writePassword(name, passwd):\n    # \u5982\u679c\u6587\u4ef6\u4e0d\u5b58\u5728\uff0c\u5219\u521b\u5efa\u8be5\u6587\u4ef6\n    if not os.path.exists(DEFAULT_FILENAME):\n        f = open(DEFAULT_FILENAME, 'w')\n        f.write('Here save the passwords generated by history\\n\\n')\n        f.close()\n\n    # \u83b7\u53d6\u5f53\u524d\u65f6\u95f4\n    t = time.strftime(\"%Y-%m-%d %H:%M:%S\", time.localtime())\n    # \u5c06\u7ed3\u679c\u8ffd\u52a0\u5230\u6587\u4ef6\u4e2d\n    f = open(DEFAULT_FILENAME, 'a')\n    f.write(name + '\\t' + passwd + '\\t' + t + '\\n')\n    f.close()\n\n# \u8f93\u51fa\u7ed3\u679c\ndef returnPassword(passwd, name):\n    clipboard.copy(passwd)\n    print('New password:\\t\\033[31m' + passwd + '\\033[0m\\nTip: The password has been copied to the clipboard')\n    if name:\n        print('And the password has been saved in the ' + DEFAULT_FILENAME + ' file')\n    exit()\n\n# \u4e3b\u51fd\u6570\nif __name__ == \"__main__\":\n    # \u8bbe\u7f6e\u547d\u4ee4\u884c\u53c2\u6570\n    parser = argparse.ArgumentParser()\n    parser.description='This program is used to generate simple or complex passwords'\n    parser.add_argument(\"-v\", \"--version\",action='version', version='%(prog)s 1.0')\n    parser.add_argument('length', type=int, help='The length of the password (Default 8)', nargs='?')\n    parser.add_argument('-n', '--name', help='Take a name for your password and Write it in ' + DEFAULT_FILENAME)\n\n    group = parser.add_mutually_exclusive_group()\n    group.add_argument(\"-s\", \"--simple\", help=\"The password is made up of pure numbers\", action=\"store_true\")\n    group.add_argument(\"-c\", \"--commonly\", help=\"The password is made up of numbers and letters (Default)\", action=\"store_true\")\n    group.add_argument(\"-d\", \"--difficult\", help=\"The password is made up of numbers, letters, and punctuation\", action=\"store_true\")\n\n    # \u83b7\u53d6\u547d\u4ee4\u884c\u53c2\u6570\u7ed3\u679c\n    args = parser.parse_args()\n\n    # \u786e\u5b9a\u5bc6\u7801\u957f\u5ea6\u4e3a\u547d\u4ee4\u884c\u8bbe\u7f6e\u6216\u8005\u9ed8\u8ba4\u4e3a8\n    length = args.length or 8\n\n    # \u5982\u679c\u5bc6\u7801\u957f\u5ea6\u5c0f\u4e8e 4 \u5219\u63d0\u793a\u5e76\u9000\u51fa\n    if length < 4:\n        parser.print_usage()\n        print('error: The password length must be greater than 3')\n        exit()\n    \n    # \u9ed8\u8ba4\u5bc6\u7801\u7b49\u7ea7\u4e3a\u4e00\u822c\n    level = 3\n\n    if args.simple:\n        level = 1\n    if args.difficult:\n        level = 4\n    \n    # \u53bb\u5f97\u5230\u5bc6\u7801\n    res = getPassword(length, level)\n    # \u5982\u679c\u5bc6\u7801\u9700\u8981\u4fdd\u5b58\uff0c\u5219\u5199\u5165\u6587\u4ef6\n    if args.name:\n        writePassword(args.name, res)\n    # \u8fd4\u56de\u7ed3\u679c\n    returnPassword(res, args.name)\n```\n\n\u8fd0\u884c\u6548\u679c\uff1a\n\n![\u751f\u6210\u5bc6\u7801\u6700\u7ec8\u8fd0\u884c\u6548\u679c\u56fe](http:\/\/img.blog.csdn.net\/20171219143644374?watermark\/2\/text\/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvRnVuZ0xlbw==\/font\/5a6L5L2T\/fontsize\/400\/fill\/I0JBQkFCMA==\/dissolve\/70\/gravity\/SouthEast)\n\n## \u91cd\u70b9\u8865\u5145\n\n**\u65b0\u589e\u53ef\u9009\u547d\u4ee4\u53c2\u6570**\n\n\u6211\u4eec\u9700\u8981\u4fdd\u5b58\u5bc6\u7801\uff0c\u4f46\u662f\u4fdd\u5b58\u7684\u662f\u4e2a\u5565\u5bc6\u7801\u6211\u548b\u77e5\u9053\u5462\uff1f\u6240\u4ee5\uff0c\u8fd8\u662f\u5f88\u6709\u5fc5\u8981\u4e3a\u8fd9\u4e2a\u5bc6\u7801\u53d6\u4e2a\u540d\u5b57\u7684\u3002\u8fd9\u9700\u8981\u6211\u4eec\u5728\u8fc7\u53bb\u5bc6\u7801\u7684\u65f6\u5019\u589e\u52a0\u4e00\u4e2a\u53c2\u6570\uff0c\u8fd9\u4e2a\u53c2\u6570\u53ef\u4ee5\u7f00\u4e00\u4e2a\u503c\uff0c\u8fd9\u4e2a\u503c\uff0c\u5c31\u662f\u6211\u4eec\u4e3a\u5bc6\u7801\u4fdd\u5b58\u7684\u540d\u5b57\u3002\n\n\u4ee3\u7801\u5982\u4e0b\uff1a\n\n```python\nparser.add_argument('-n', '--name', help='Take a name for your password and Write it in \".\/password.txt\"')\n```\n\n>\u6240\u6709\u52a0\u4e86 `-` \u7684\u53c2\u6570\u90fd\u662f\u53ef\u9009\u9879\u3002\n\n\u6709\u4e86\u8fd9\u6837\u4e00\u4e2a\u9009\u9879\u4e4b\u540e\uff0c\u6211\u4eec\u5c31\u53ef\u4ee5\u901a\u8fc7 `args.name` \u62ff\u5230\u811a\u672c\u6267\u884c\u65f6\u7528\u6237\u8f93\u5165\u7684\u540d\u5b57\u53c2\u6570\u662f\u4ec0\u4e48\u4e86\u3002\u5982\u679c\u6ca1\u6709\u8fd9\u4e2a\u53c2\u6570\uff0c\u5219\u4f1a\u8fd4\u56de `None`\u3002\n\n**\u521b\u5efa\u4e0e\u5199\u5165\u6587\u4ef6\u4ee5\u53ca\u5224\u65ad\u6587\u4ef6\u662f\u5426\u5b58\u5728**\n\n\u6211\u4eec\u8bbe\u5b9a\u4e86\u4e00\u4e2a\u4fdd\u5b58\u6587\u4ef6\u7684\u8def\u5f84\u4e3a `\".\/password.txt\"` \uff0c\u4f46\u662f\u5982\u679c\u8fd9\u4e2a\u6587\u4ef6\u4e0d\u5b58\u5728\u5462\uff1f\n\n\u6240\u4ee5\u6211\u4eec\u9996\u5148\u9700\u8981\u5224\u65ad\u8fd9\u4e2a\u6587\u4ef6\u5b58\u5728\u4e0d\u5b58\u5728\uff0c\u8fd9\u5c31\u9700\u8981\u5f15\u5165 `os` \u5e93\u6765\u89e3\u51b3\u95ee\u9898\uff1a\n\n```python\nimport os\nif not os.path.exists(file_path)\n```\n\n\u5982\u679c\u6587\u4ef6\u4e0d\u5b58\u5728\uff0c\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528 `open` \u6765\u521b\u5efa\u8fd9\u4e2a\u6587\u4ef6\uff0c\u5e76\u4e14\u5199\u5165\u5185\u5bb9\uff1a\n\n```python\nf = open(file_path, 'w')\nf.write('Here save the passwords generated by history\\n\\n')\nf.close()\n```\n\n\u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c\u5728 `open` \u4e86\u4e4b\u540e\uff0c\u4e00\u5b9a\u8981 `close()`\n\n\u5982\u679c\u6587\u4ef6\u5b58\u5728\uff0c\u5219\u9700\u8981\u4f7f\u7528\u8ffd\u52a0\u7684\u65b9\u5f0f\u5728\u6587\u4ef6\u6700\u540e\u5199\u5165\u5185\u5bb9\uff1a\n\n```python\nf = open(file_path, 'a')\nf.write(name + '\\t' + passwd + '\\t' + t + '\\n')\nf.close()\n```\n\n\u4e00\u6837\uff0c\u662f\u9700\u8981\u5173\u95ed\u7684\u3002\n\n**\u5c06\u7ed3\u679c\u590d\u5236\u5230\u526a\u5207\u677f**\n\n\u6211\u4eec\u751f\u6210\u51fa\u6765\u4e86\u5bc6\u7801\uff0c\u4f46\u662f\u9700\u8981\u5230\u7ec8\u7aef\u91cc\u9762\u590d\u5236\u4e00\u4e0b\uff0c\u8fd9\u4e2a\u663e\u7136\u5f88\u4e0d\u65b9\u4fbf\uff0c\u6240\u4ee5\u5982\u679c\u80fd\u518d\u751f\u6210\u5bc6\u7801\u7684\u540c\u65f6\u5c31\u5c06\u5bc6\u7801\u590d\u5236\u5230\u526a\u5207\u677f\uff0c\u65e0\u7591\u80fd\u589e\u52a0\u6211\u4eec\u7684\u7a0b\u5e8f\u7684\u7528\u6237\u4f53\u9a8c\u3002\n\n\u5b9e\u73b0\u8fd9\u4e2a\u529f\u80fd\u4e5f\u4e0d\u590d\u6742\uff0c\u6211\u4eec\u9700\u8981\u5f15\u5165\u4e00\u4e2a\u5e93\u53eb `clipboard`\uff0c\u7136\u540e\u5728\u9700\u8981\u590d\u5236\u5230\u526a\u5207\u677f\u7684\u5730\u65b9\u7528\u4e0b\u9762\u7684\u4ee3\u7801\u5373\u53ef\u5b8c\u6210\u6211\u4eec\u7684\u9700\u6c42\u3002\n\n```python\nclipboard.copy(string)\n```\n\n\u597d\uff0c\u5176\u4ed6\u90fd\u662f\u4e4b\u524d\u5b66\u8fc7\u7684\u5185\u5bb9\u4e86\u3002\u5b8c\u7f8e~\n\n\u672c\u6587\u7531 FungLeo \u539f\u521b\uff0c\u5141\u8bb8\u8f6c\u8f7d\uff0c\u4f46\u8f6c\u8f7d\u5fc5\u987b\u4fdd\u7559\u9996\u53d1\u94fe\u63a5\u3002\n\n","private":0,"tags":"python,\u5bc6\u7801,\u7ec8\u7aef,\u6e90\u7801,\u7b97\u6cd5","categories":"python3","channel":"16","type":"original","status":1},"error":"","status":true}