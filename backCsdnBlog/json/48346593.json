{"data":{"id":"48346593","title":"\u81ea\u5df1\u6574\u7406\u7684\u4e00\u4e9bjavascript \u7684\u5e38\u7528\u51fd\u6570","articleedittype":1,"description":"\u521a\u5b66\uff0c\u5c31\u89c9\u5f97\u539f\u751f\u5b9e\u5728\u662f\u592a\u4e0d\u597d\u5199\u4e86\u3002\u4e3a\u4e86\u5b66\u4e60\uff0c\u4e5f\u4e0d\u80fd\u603b\u7528JQ\uff0c\u6240\u4ee5\uff0c\u5c31\u6574\u7406\u4e86\u4e00\u4e9b\u5e38\u7528\u7684\u51fd\u6570\uff0c\u4ee5\u4fbf\u81ea\u5df1\u5728\u9700\u8981\u7684\u65f6\u5019\uff0c\u968f\u65f6\u4f7f\u7528\u3002\n\/*\n\u96c6\u5408\u4e00\u4e9b\u5e38\u7528\u7684\u65b9\u6cd5\uff0c\u4fbf\u4e8e\u5728\u7f51\u9875\u4e2d\u8c03\u7528\uff0c\u4ee5\u514d\u91cd\u590d\u9020\u8f6e\u5b50\n*\/","content":"<p>\u521a\u5b66\uff0c\u5c31\u89c9\u5f97\u539f\u751f\u5b9e\u5728\u662f\u592a\u4e0d\u597d\u5199\u4e86\u3002\u4e3a\u4e86\u5b66\u4e60\uff0c\u4e5f\u4e0d\u80fd\u603b\u7528JQ\uff0c\u6240\u4ee5\uff0c\u5c31\u6574\u7406\u4e86\u4e00\u4e9b\u5e38\u7528\u7684\u51fd\u6570\uff0c\u4ee5\u4fbf\u81ea\u5df1\u5728\u9700\u8981\u7684\u65f6\u5019\uff0c\u968f\u65f6\u4f7f\u7528\u3002<\/p>\n\n<pre class=\"prettyprint\"><code class=\" hljs javascript\"><span class=\"hljs-comment\">\/*\n\u96c6\u5408\u4e00\u4e9b\u5e38\u7528\u7684\u65b9\u6cd5\uff0c\u4fbf\u4e8e\u5728\u7f51\u9875\u4e2d\u8c03\u7528\uff0c\u4ee5\u514d\u91cd\u590d\u9020\u8f6e\u5b50\n*\/<\/span>\n<span class=\"hljs-keyword\">var<\/span> _Doc = document;\n\n<span class=\"hljs-comment\">\/\/ index(this\/obg) \u7d22\u5f15\u65b9\u6cd5<\/span>\n<span class=\"hljs-function\"><span class=\"hljs-keyword\">function<\/span> <span class=\"hljs-title\">index<\/span><span class=\"hljs-params\">(current, obj)<\/span>{<\/span>\n    <span class=\"hljs-keyword\">for<\/span> (<span class=\"hljs-keyword\">var<\/span> i = <span class=\"hljs-number\">0<\/span>; i &lt; obj.length; i++) {\n        <span class=\"hljs-keyword\">if<\/span> (obj[i] == current) {\n            <span class=\"hljs-keyword\">return<\/span> i; \n        }\n    }\n}\n\n<span class=\"hljs-comment\">\/\/ hide(obj) \/ show(obj) \u9690\u85cf\/\u663e\u793a \u65b9\u6cd5<\/span>\n\n<span class=\"hljs-function\"><span class=\"hljs-keyword\">function<\/span> <span class=\"hljs-title\">hide<\/span><span class=\"hljs-params\">(obj)<\/span>{<\/span>\n    obj.style.display = <span class=\"hljs-string\">'none'<\/span>;\n}\n<span class=\"hljs-function\"><span class=\"hljs-keyword\">function<\/span> <span class=\"hljs-title\">show<\/span><span class=\"hljs-params\">(obj)<\/span>{<\/span>\n    obj.style.display = <span class=\"hljs-string\">'block'<\/span>;\n}\n\n<span class=\"hljs-comment\">\/\/ getId(IdName) \/ \u83b7\u53d6ID \u65b9\u6cd5<\/span>\n\n<span class=\"hljs-function\"><span class=\"hljs-keyword\">function<\/span> <span class=\"hljs-title\">GetId<\/span><span class=\"hljs-params\">(IdName)<\/span>{<\/span>\n    <span class=\"hljs-keyword\">return<\/span> _Doc.getElementById(IdName);\n}\n\n<span class=\"hljs-comment\">\/\/ GetTag(TagName) \/ \u83b7\u53d6 tagname \u65b9\u6cd5<\/span>\n\n<span class=\"hljs-function\"><span class=\"hljs-keyword\">function<\/span> <span class=\"hljs-title\">GetTag<\/span><span class=\"hljs-params\">(Fathers,TagName)<\/span>{<\/span>\n    <span class=\"hljs-keyword\">return<\/span> Fathers.getElementsByTagName(TagName);\n}\n\n<span class=\"hljs-comment\">\/\/ ajax \u65b9\u6cd5 \u8f6c\u8f7d\u4e8e\uff1ahttp:\/\/www.cnblogs.com\/yjzhu\/archive\/2013\/01\/28\/2879542.html<\/span>\n\n<span class=\"hljs-function\"><span class=\"hljs-keyword\">function<\/span> <span class=\"hljs-title\">ajax<\/span><span class=\"hljs-params\">(url, fnSucc, fnFaild)<\/span>{<\/span>\n    <span class=\"hljs-comment\">\/\/1.\u521b\u5efa\u5bf9\u8c61<\/span>\n    <span class=\"hljs-keyword\">var<\/span> oAjax = <span class=\"hljs-literal\">null<\/span>;\n    <span class=\"hljs-keyword\">if<\/span>(window.XMLHttpRequest){\n        oAjax = <span class=\"hljs-keyword\">new<\/span> XMLHttpRequest();\n    }<span class=\"hljs-keyword\">else<\/span>{\n        oAjax = <span class=\"hljs-keyword\">new<\/span> ActiveXObject(<span class=\"hljs-string\">\"Microsoft.XMLHTTP\"<\/span>);\n    }\n\n    <span class=\"hljs-comment\">\/\/2.\u8fde\u63a5\u670d\u52a1\u5668  <\/span>\n    oAjax.open(<span class=\"hljs-string\">'GET'<\/span>, url, <span class=\"hljs-literal\">true<\/span>);   <span class=\"hljs-comment\">\/\/open(\u65b9\u6cd5, url, \u662f\u5426\u5f02\u6b65)<\/span>\n\n    <span class=\"hljs-comment\">\/\/3.\u53d1\u9001\u8bf7\u6c42  <\/span>\n    oAjax.send(<span class=\"hljs-literal\">null<\/span>);\n\n    <span class=\"hljs-comment\">\/\/4.\u63a5\u6536\u8fd4\u56de<\/span>\n    oAjax.onreadystatechange = <span class=\"hljs-function\"><span class=\"hljs-keyword\">function<\/span><span class=\"hljs-params\">()<\/span>{<\/span>  <span class=\"hljs-comment\">\/\/OnReadyStateChange\u4e8b\u4ef6<\/span>\n        <span class=\"hljs-keyword\">if<\/span>(oAjax.readyState == <span class=\"hljs-number\">4<\/span>){          <span class=\"hljs-comment\">\/\/4\u4e3a\u5b8c\u6210<\/span>\n            <span class=\"hljs-keyword\">if<\/span>(oAjax.status == <span class=\"hljs-number\">200<\/span>){         <span class=\"hljs-comment\">\/\/200\u4e3a\u6210\u529f<\/span>\n                fnSucc(oAjax.responseText) \n            }<span class=\"hljs-keyword\">else<\/span>{\n                <span class=\"hljs-keyword\">if<\/span>(fnFaild){\n                    fnFaild();\n                }\n            }\n        }\n    };\n}\n\n<span class=\"hljs-comment\">\/\/ Load(url,obj) \u65b9\u6cd5\uff0c\u5c06\u4e0a\u9762\u7684ajax\u65b9\u6cd5\u7b80\u5316\uff0c\u6539\u9020\u6210\u76f4\u63a5load\u4e00\u4e2a\u9875\u9762\u8fdb\u6765<\/span>\n\n<span class=\"hljs-function\"><span class=\"hljs-keyword\">function<\/span> <span class=\"hljs-title\">Load<\/span><span class=\"hljs-params\">(url,obj)<\/span>{<\/span>\n    ajax(url,<span class=\"hljs-function\"><span class=\"hljs-keyword\">function<\/span><span class=\"hljs-params\">(str)<\/span>{<\/span>\n        obj.innerHTML = str;\n    });\n}\n\n<span class=\"hljs-comment\">\/\/ \u53bb\u9664\u5b57\u7b26\u4e32\u4e24\u7aef\u7684\u7a7a\u683c<\/span>\n<span class=\"hljs-function\"><span class=\"hljs-keyword\">function<\/span> <span class=\"hljs-title\">DelBlank<\/span><span class=\"hljs-params\">(str)<\/span>{<\/span>\n    <span class=\"hljs-keyword\">return<\/span> str.replace(<span class=\"hljs-regexp\">\/(^\\s*)|(\\s*$)\/g<\/span>, <span class=\"hljs-string\">''<\/span>);\n}\n\n<span class=\"hljs-comment\">\/\/ \u4ece\u4e00\u6bb5\u5b57\u7b26\u4e32\u4e2d\u5220\u9664\u56fa\u5b9a\u7684\u53e6\u4e00\u6bb5\u5b57\u7b26\u4e32<\/span>\n\n<span class=\"hljs-function\"><span class=\"hljs-keyword\">function<\/span> <span class=\"hljs-title\">DelSomeStr<\/span><span class=\"hljs-params\">(Str,SomeStr)<\/span>\n{<\/span>\n    <span class=\"hljs-keyword\">return<\/span> Str.replace(SomeStr,<span class=\"hljs-string\">\"\"<\/span>);\n}\n\n<span class=\"hljs-comment\">\/\/ \u5224\u65ad\u4e00\u6bb5\u5b57\u7b26\u4e32\u4e2d\u662f\u5426\u5305\u542b\u7a7a\u683c<\/span>\n\n<span class=\"hljs-function\"><span class=\"hljs-keyword\">function<\/span> <span class=\"hljs-title\">HasBlank<\/span><span class=\"hljs-params\">(str)<\/span>{<\/span>\n    <span class=\"hljs-keyword\">if<\/span> (str.indexOf(<span class=\"hljs-string\">\" \"<\/span>)==-<span class=\"hljs-number\">1<\/span>) {\n        <span class=\"hljs-keyword\">return<\/span> <span class=\"hljs-literal\">true<\/span>;\n    } <span class=\"hljs-keyword\">else<\/span>{\n        <span class=\"hljs-keyword\">return<\/span> <span class=\"hljs-literal\">false<\/span>;\n    };\n}\n\n<span class=\"hljs-comment\">\/\/ \u5224\u65ad\u4e00\u4e2a\u5143\u7d20\u662f\u5426\u5305\u542b class \u5982\u679c\u6709\uff0c\u8fd4\u56de\u771f\uff0c\u5426\u5219\u8fd4\u56de\u5047<\/span>\n<span class=\"hljs-function\"><span class=\"hljs-keyword\">function<\/span> <span class=\"hljs-title\">HasClass<\/span><span class=\"hljs-params\">(obj)<\/span>{<\/span>\n    <span class=\"hljs-keyword\">if<\/span> (obj.getAttribute(<span class=\"hljs-string\">\"class\"<\/span>)) {\n        <span class=\"hljs-keyword\">return<\/span> <span class=\"hljs-literal\">true<\/span>;\n    } <span class=\"hljs-keyword\">else<\/span>{\n        <span class=\"hljs-keyword\">return<\/span> <span class=\"hljs-literal\">false<\/span>;\n    };\n}\n\n<span class=\"hljs-comment\">\/\/ \u83b7\u53d6\u4ed6\u539f\u6709\u7684class<\/span>\n\n<span class=\"hljs-function\"><span class=\"hljs-keyword\">function<\/span> <span class=\"hljs-title\">GetClass<\/span><span class=\"hljs-params\">(obj)<\/span>{<\/span>\n    <span class=\"hljs-keyword\">if<\/span> (HasClass(obj)) {\n        <span class=\"hljs-keyword\">return<\/span> obj.getAttribute(<span class=\"hljs-string\">\"class\"<\/span>);\n    }\n}\n\n<span class=\"hljs-comment\">\/\/ \u7ed9\u4e00\u4e2a\u5143\u7d20\u6dfb\u52a0 class<\/span>\n\n<span class=\"hljs-function\"><span class=\"hljs-keyword\">function<\/span> <span class=\"hljs-title\">AddClass<\/span><span class=\"hljs-params\">(obj,CName)<\/span>{<\/span>\n\n    <span class=\"hljs-comment\">\/\/ \u539f\u6765\u662f\u5426\u6709class<\/span>\n\n    <span class=\"hljs-keyword\">if<\/span> (HasClass(obj)) {\n\n        <span class=\"hljs-comment\">\/\/ \u83b7\u53d6\u539f\u6709\u6837\u5f0f\uff0c\u4e24\u7aef\u53bb\u7a7a\u683c\u540e\uff0c\u5b58\u50a8\u5230 OldClass<\/span>\n        <span class=\"hljs-keyword\">var<\/span> OldClass = DelBlank(GetClass(obj));\n\n        <span class=\"hljs-comment\">\/\/ \u5982\u679c\u539f\u6709\u6837\u5f0f\u548c\u8981\u6dfb\u52a0\u7684\u6837\u5f0f\u4e0d\u4e00\u6837\u7684\u8bdd\uff0c\u5c31\u5728\u539f\u6709\u6837\u5f0f\u7684\u7ed3\u5c3e\uff0c\u52a0\u4e0a\u65b0\u6837\u5f0f<\/span>\n        <span class=\"hljs-comment\">\/\/ \u5426\u5219\uff0c\u5c31\u4e0d\u7528\u505a\u5565\u4e86<\/span>\n        <span class=\"hljs-keyword\">if<\/span> (CName!=OldClass) {\n            obj.className = OldClass+<span class=\"hljs-string\">' '<\/span>+CName;\n        }\n    } <span class=\"hljs-keyword\">else<\/span>{\n\n        <span class=\"hljs-comment\">\/\/ \u539f\u6765\u6ca1\u6709\u6837\u5f0f\u5c31\u76f4\u63a5\u52a0\u6837\u5f0f<\/span>\n        obj.className = CName;\n    };\n}\n\n<span class=\"hljs-comment\">\/\/ \u5220\u9664\u67d0\u4e2a\u5143\u7d20\u7684 class<\/span>\n<span class=\"hljs-function\"><span class=\"hljs-keyword\">function<\/span> <span class=\"hljs-title\">RemoveClass<\/span><span class=\"hljs-params\">(obj,CName)<\/span>{<\/span>\n    <span class=\"hljs-keyword\">if<\/span> (HasClass(obj)){\n        <span class=\"hljs-keyword\">var<\/span> OldClass = DelBlank(GetClass(obj));\n        <span class=\"hljs-comment\">\/\/ \u8fd9\u91cc\u6ca1\u6709\u505a\u6df1\u5904\u7406\u3002\u5982\u679c\u53ea\u6709\u4e00\u4e2a\u6837\u5f0f\uff0c\u5e76\u4e14\u5220\u9664\u4e4b\u540e\uff0c\u4f1a\u7559\u4e0b\u4e00\u4e2a\u4e3a\u7a7a\u7684 class \u4e0d\u5f71\u54cd<\/span>\n        obj.setAttribute(<span class=\"hljs-string\">\"class\"<\/span>, DelBlank(DelSomeStr(OldClass,CName)))\n    }\n}<\/code><\/pre>\n\n<p>\u8fd9\u662f\u4eca\u5929\u5199\u7684\u3002\u6211\u4f1a\u628a\u6211\u7684\u65b0\u60f3\u6cd5\uff0c\u9010\u6b65\u6574\u7406\u5230\u8fd9\u4e2a\u91cc\u9762\u6765\u3002<\/p>","markdowncontent":"\u521a\u5b66\uff0c\u5c31\u89c9\u5f97\u539f\u751f\u5b9e\u5728\u662f\u592a\u4e0d\u597d\u5199\u4e86\u3002\u4e3a\u4e86\u5b66\u4e60\uff0c\u4e5f\u4e0d\u80fd\u603b\u7528JQ\uff0c\u6240\u4ee5\uff0c\u5c31\u6574\u7406\u4e86\u4e00\u4e9b\u5e38\u7528\u7684\u51fd\u6570\uff0c\u4ee5\u4fbf\u81ea\u5df1\u5728\u9700\u8981\u7684\u65f6\u5019\uff0c\u968f\u65f6\u4f7f\u7528\u3002\n\n```\n\/*\n\u96c6\u5408\u4e00\u4e9b\u5e38\u7528\u7684\u65b9\u6cd5\uff0c\u4fbf\u4e8e\u5728\u7f51\u9875\u4e2d\u8c03\u7528\uff0c\u4ee5\u514d\u91cd\u590d\u9020\u8f6e\u5b50\n*\/\nvar _Doc = document;\n\n\/\/ index(this\/obg) \u7d22\u5f15\u65b9\u6cd5\nfunction index(current, obj){\n\tfor (var i = 0; i < obj.length; i++) {\n\t\tif (obj[i] == current) {\n\t\t\treturn i; \n\t\t}\n\t}\n}\n\n\/\/ hide(obj) \/ show(obj) \u9690\u85cf\/\u663e\u793a \u65b9\u6cd5\n\nfunction hide(obj){\n\tobj.style.display = 'none';\n}\nfunction show(obj){\n\tobj.style.display = 'block';\n}\n\n\/\/ getId(IdName) \/ \u83b7\u53d6ID \u65b9\u6cd5\n\nfunction GetId(IdName){\n\treturn _Doc.getElementById(IdName);\n}\n\n\/\/ GetTag(TagName) \/ \u83b7\u53d6 tagname \u65b9\u6cd5\n\nfunction GetTag(Fathers,TagName){\n\treturn Fathers.getElementsByTagName(TagName);\n}\n\n\/\/ ajax \u65b9\u6cd5 \u8f6c\u8f7d\u4e8e\uff1ahttp:\/\/www.cnblogs.com\/yjzhu\/archive\/2013\/01\/28\/2879542.html\n\nfunction ajax(url, fnSucc, fnFaild){\n\t\/\/1.\u521b\u5efa\u5bf9\u8c61\n\tvar oAjax = null;\n\tif(window.XMLHttpRequest){\n\t\toAjax = new XMLHttpRequest();\n\t}else{\n\t\toAjax = new ActiveXObject(\"Microsoft.XMLHTTP\");\n\t}\n\t\n\t\/\/2.\u8fde\u63a5\u670d\u52a1\u5668  \n\toAjax.open('GET', url, true);   \/\/open(\u65b9\u6cd5, url, \u662f\u5426\u5f02\u6b65)\n\t\n\t\/\/3.\u53d1\u9001\u8bf7\u6c42  \n\toAjax.send(null);\n\t\n\t\/\/4.\u63a5\u6536\u8fd4\u56de\n\toAjax.onreadystatechange = function(){  \/\/OnReadyStateChange\u4e8b\u4ef6\n\t\tif(oAjax.readyState == 4){  \t\t\/\/4\u4e3a\u5b8c\u6210\n\t\t\tif(oAjax.status == 200){   \t\t \/\/200\u4e3a\u6210\u529f\n\t\t\t\tfnSucc(oAjax.responseText) \n\t\t\t}else{\n\t\t\t\tif(fnFaild){\n\t\t\t\t\tfnFaild();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n}\n\n\/\/ Load(url,obj) \u65b9\u6cd5\uff0c\u5c06\u4e0a\u9762\u7684ajax\u65b9\u6cd5\u7b80\u5316\uff0c\u6539\u9020\u6210\u76f4\u63a5load\u4e00\u4e2a\u9875\u9762\u8fdb\u6765\n\nfunction Load(url,obj){\n\tajax(url,function(str){\n\t\tobj.innerHTML = str;\n\t});\n}\n\n\/\/ \u53bb\u9664\u5b57\u7b26\u4e32\u4e24\u7aef\u7684\u7a7a\u683c\nfunction DelBlank(str){\n\treturn str.replace(\/(^\\s*)|(\\s*$)\/g, '');\n}\n\n\/\/ \u4ece\u4e00\u6bb5\u5b57\u7b26\u4e32\u4e2d\u5220\u9664\u56fa\u5b9a\u7684\u53e6\u4e00\u6bb5\u5b57\u7b26\u4e32\n\nfunction DelSomeStr(Str,SomeStr)\n{\n    return Str.replace(SomeStr,\"\");\n}\n\n\/\/ \u5224\u65ad\u4e00\u6bb5\u5b57\u7b26\u4e32\u4e2d\u662f\u5426\u5305\u542b\u7a7a\u683c\n\nfunction HasBlank(str){\n\tif (str.indexOf(\" \")==-1) {\n\t\treturn true;\n\t} else{\n\t\treturn false;\n\t};\n}\n\n\/\/ \u5224\u65ad\u4e00\u4e2a\u5143\u7d20\u662f\u5426\u5305\u542b class \u5982\u679c\u6709\uff0c\u8fd4\u56de\u771f\uff0c\u5426\u5219\u8fd4\u56de\u5047\nfunction HasClass(obj){\n\tif (obj.getAttribute(\"class\")) {\n\t\treturn true;\n\t} else{\n\t\treturn false;\n\t};\n}\n\n\/\/ \u83b7\u53d6\u4ed6\u539f\u6709\u7684class\n\nfunction GetClass(obj){\n\tif (HasClass(obj)) {\n\t\treturn obj.getAttribute(\"class\");\n\t}\n}\n\n\/\/ \u7ed9\u4e00\u4e2a\u5143\u7d20\u6dfb\u52a0 class\n\nfunction AddClass(obj,CName){\n\n\t\/\/ \u539f\u6765\u662f\u5426\u6709class\n\n\tif (HasClass(obj)) {\n\n\t\t\/\/ \u83b7\u53d6\u539f\u6709\u6837\u5f0f\uff0c\u4e24\u7aef\u53bb\u7a7a\u683c\u540e\uff0c\u5b58\u50a8\u5230 OldClass\n\t\tvar OldClass = DelBlank(GetClass(obj));\n\n\t\t\/\/ \u5982\u679c\u539f\u6709\u6837\u5f0f\u548c\u8981\u6dfb\u52a0\u7684\u6837\u5f0f\u4e0d\u4e00\u6837\u7684\u8bdd\uff0c\u5c31\u5728\u539f\u6709\u6837\u5f0f\u7684\u7ed3\u5c3e\uff0c\u52a0\u4e0a\u65b0\u6837\u5f0f\n\t\t\/\/ \u5426\u5219\uff0c\u5c31\u4e0d\u7528\u505a\u5565\u4e86\n\t\tif (CName!=OldClass) {\n\t\t\tobj.className = OldClass+' '+CName;\n\t\t}\n\t} else{\n\t\t\n\t\t\/\/ \u539f\u6765\u6ca1\u6709\u6837\u5f0f\u5c31\u76f4\u63a5\u52a0\u6837\u5f0f\n\t\tobj.className = CName;\n\t};\n}\n\n\/\/ \u5220\u9664\u67d0\u4e2a\u5143\u7d20\u7684 class\nfunction RemoveClass(obj,CName){\n\tif (HasClass(obj)){\n\t\tvar OldClass = DelBlank(GetClass(obj));\n\t\t\/\/ \u8fd9\u91cc\u6ca1\u6709\u505a\u6df1\u5904\u7406\u3002\u5982\u679c\u53ea\u6709\u4e00\u4e2a\u6837\u5f0f\uff0c\u5e76\u4e14\u5220\u9664\u4e4b\u540e\uff0c\u4f1a\u7559\u4e0b\u4e00\u4e2a\u4e3a\u7a7a\u7684 class \u4e0d\u5f71\u54cd\n\t\tobj.setAttribute(\"class\", DelBlank(DelSomeStr(OldClass,CName)))\n\t}\n}\n```\n\n\u8fd9\u662f\u4eca\u5929\u5199\u7684\u3002\u6211\u4f1a\u628a\u6211\u7684\u65b0\u60f3\u6cd5\uff0c\u9010\u6b65\u6574\u7406\u5230\u8fd9\u4e2a\u91cc\u9762\u6765\u3002","private":0,"tags":"javascript,\u51fd\u6570","categories":"JavaScript","channel":"14","type":"original","status":1},"error":"","status":true}