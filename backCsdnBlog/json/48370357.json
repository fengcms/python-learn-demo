{"data":{"id":"48370357","title":"Js\u83b7\u53d6\u5f53\u524d\u65e5\u671f\u65f6\u95f4\u53ca\u5176\u5b83\u64cd\u4f5c","articleedittype":1,"description":"var myDate = new Date();\nmyDate.getYear();        \/\/\u83b7\u53d6\u5f53\u524d\u5e74\u4efd(2\u4f4d)\nmyDate.getFullYear();    \/\/\u83b7\u53d6\u5b8c\u6574\u7684\u5e74\u4efd(4\u4f4d,1970-????)\nmyDate.getMonth();       \/\/\u83b7\u53d6\u5f53\u524d\u6708\u4efd(0-11,0\u4ee3\u88681\u6708)\nmyDate.getDate();        \/\/\u83b7\u53d6\u5f53\u524d\u65e5(1-31)\nmyDa","content":"<pre class=\"prettyprint\"><code class=\" hljs javascript\"><span class=\"hljs-keyword\">var<\/span> myDate = <span class=\"hljs-keyword\">new<\/span> <span class=\"hljs-built_in\">Date<\/span>();\nmyDate.getYear();        <span class=\"hljs-comment\">\/\/\u83b7\u53d6\u5f53\u524d\u5e74\u4efd(2\u4f4d)<\/span>\nmyDate.getFullYear();    <span class=\"hljs-comment\">\/\/\u83b7\u53d6\u5b8c\u6574\u7684\u5e74\u4efd(4\u4f4d,1970-????)<\/span>\nmyDate.getMonth();       <span class=\"hljs-comment\">\/\/\u83b7\u53d6\u5f53\u524d\u6708\u4efd(0-11,0\u4ee3\u88681\u6708)<\/span>\nmyDate.getDate();        <span class=\"hljs-comment\">\/\/\u83b7\u53d6\u5f53\u524d\u65e5(1-31)<\/span>\nmyDate.getDay();         <span class=\"hljs-comment\">\/\/\u83b7\u53d6\u5f53\u524d\u661f\u671fX(0-6,0\u4ee3\u8868\u661f\u671f\u5929)<\/span>\nmyDate.getTime();        <span class=\"hljs-comment\">\/\/\u83b7\u53d6\u5f53\u524d\u65f6\u95f4(\u4ece1970.1.1\u5f00\u59cb\u7684\u6beb\u79d2\u6570)<\/span>\nmyDate.getHours();       <span class=\"hljs-comment\">\/\/\u83b7\u53d6\u5f53\u524d\u5c0f\u65f6\u6570(0-23)<\/span>\nmyDate.getMinutes();     <span class=\"hljs-comment\">\/\/\u83b7\u53d6\u5f53\u524d\u5206\u949f\u6570(0-59)<\/span>\nmyDate.getSeconds();     <span class=\"hljs-comment\">\/\/\u83b7\u53d6\u5f53\u524d\u79d2\u6570(0-59)<\/span>\nmyDate.getMilliseconds();    <span class=\"hljs-comment\">\/\/\u83b7\u53d6\u5f53\u524d\u6beb\u79d2\u6570(0-999)<\/span>\nmyDate.toLocaleDateString();     <span class=\"hljs-comment\">\/\/\u83b7\u53d6\u5f53\u524d\u65e5\u671f<\/span>\n<span class=\"hljs-keyword\">var<\/span> mytime=myDate.toLocaleTimeString();     <span class=\"hljs-comment\">\/\/\u83b7\u53d6\u5f53\u524d\u65f6\u95f4<\/span>\nmyDate.toLocaleString( );        <span class=\"hljs-comment\">\/\/\u83b7\u53d6\u65e5\u671f\u4e0e\u65f6\u95f4<\/span><\/code><\/pre>\n\n<p>\u65e5\u671f\u65f6\u95f4\u811a\u672c\u5e93\u65b9\u6cd5\u5217\u8868<\/p>\n\n\n\n<pre class=\"prettyprint\"><code class=\" hljs avrasm\">Date<span class=\"hljs-preprocessor\">.prototype<\/span><span class=\"hljs-preprocessor\">.isLeapYear<\/span> \u5224\u65ad\u95f0\u5e74\nDate<span class=\"hljs-preprocessor\">.prototype<\/span><span class=\"hljs-preprocessor\">.Format<\/span> \u65e5\u671f\u683c\u5f0f\u5316\nDate<span class=\"hljs-preprocessor\">.prototype<\/span><span class=\"hljs-preprocessor\">.DateAdd<\/span> \u65e5\u671f\u8ba1\u7b97\nDate<span class=\"hljs-preprocessor\">.prototype<\/span><span class=\"hljs-preprocessor\">.DateDiff<\/span> \u6bd4\u8f83\u65e5\u671f\u5dee\nDate<span class=\"hljs-preprocessor\">.prototype<\/span><span class=\"hljs-preprocessor\">.toString<\/span> \u65e5\u671f\u8f6c\u5b57\u7b26\u4e32\nDate<span class=\"hljs-preprocessor\">.prototype<\/span><span class=\"hljs-preprocessor\">.toArray<\/span> \u65e5\u671f\u5206\u5272\u4e3a\u6570\u7ec4\nDate<span class=\"hljs-preprocessor\">.prototype<\/span><span class=\"hljs-preprocessor\">.DatePart<\/span> \u53d6\u65e5\u671f\u7684\u90e8\u5206\u4fe1\u606f\nDate<span class=\"hljs-preprocessor\">.prototype<\/span><span class=\"hljs-preprocessor\">.MaxDayOfDate<\/span> \u53d6\u65e5\u671f\u6240\u5728\u6708\u7684\u6700\u5927\u5929\u6570\nDate<span class=\"hljs-preprocessor\">.prototype<\/span><span class=\"hljs-preprocessor\">.WeekNumOfYear<\/span> \u5224\u65ad\u65e5\u671f\u6240\u5728\u5e74\u7684\u7b2c\u51e0\u5468\nStringToDate \u5b57\u7b26\u4e32\u8f6c\u65e5\u671f\u578b\nIsValidDate \u9a8c\u8bc1\u65e5\u671f\u6709\u6548\u6027\nCheckDateTime \u5b8c\u6574\u65e5\u671f\u65f6\u95f4\u68c0\u67e5\ndaysBetween \u65e5\u671f\u5929\u6570\u5dee<\/code><\/pre>\n\n<p>js\u4ee3\u7801\uff1a<\/p>\n\n\n\n<pre class=\"prettyprint\"><code class=\" hljs javascript\"><span class=\"hljs-comment\">\/\/---------------------------------------------------  <\/span>\n<span class=\"hljs-comment\">\/\/ \u5224\u65ad\u95f0\u5e74  <\/span>\n<span class=\"hljs-comment\">\/\/---------------------------------------------------  <\/span>\n<span class=\"hljs-built_in\">Date<\/span>.prototype.isLeapYear = <span class=\"hljs-function\"><span class=\"hljs-keyword\">function<\/span><span class=\"hljs-params\">()<\/span>   \n{<\/span>   \n    <span class=\"hljs-keyword\">return<\/span> (<span class=\"hljs-number\">0<\/span>==<span class=\"hljs-keyword\">this<\/span>.getYear()%<span class=\"hljs-number\">4<\/span>&amp;&amp;((<span class=\"hljs-keyword\">this<\/span>.getYear()%<span class=\"hljs-number\">100<\/span>!=<span class=\"hljs-number\">0<\/span>)||(<span class=\"hljs-keyword\">this<\/span>.getYear()%<span class=\"hljs-number\">400<\/span>==<span class=\"hljs-number\">0<\/span>)));   \n}   \n\n<span class=\"hljs-comment\">\/\/---------------------------------------------------  <\/span>\n<span class=\"hljs-comment\">\/\/ \u65e5\u671f\u683c\u5f0f\u5316  <\/span>\n<span class=\"hljs-comment\">\/\/ \u683c\u5f0f YYYY\/yyyy\/YY\/yy \u8868\u793a\u5e74\u4efd  <\/span>\n<span class=\"hljs-comment\">\/\/ MM\/M \u6708\u4efd  <\/span>\n<span class=\"hljs-comment\">\/\/ W\/w \u661f\u671f  <\/span>\n<span class=\"hljs-comment\">\/\/ dd\/DD\/d\/D \u65e5\u671f  <\/span>\n<span class=\"hljs-comment\">\/\/ hh\/HH\/h\/H \u65f6\u95f4  <\/span>\n<span class=\"hljs-comment\">\/\/ mm\/m \u5206\u949f  <\/span>\n<span class=\"hljs-comment\">\/\/ ss\/SS\/s\/S \u79d2  <\/span>\n<span class=\"hljs-comment\">\/\/---------------------------------------------------  <\/span>\n<span class=\"hljs-built_in\">Date<\/span>.prototype.Format = <span class=\"hljs-function\"><span class=\"hljs-keyword\">function<\/span><span class=\"hljs-params\">(formatStr)<\/span>   \n{<\/span>   \n    <span class=\"hljs-keyword\">var<\/span> str = formatStr;   \n    <span class=\"hljs-keyword\">var<\/span> Week = [<span class=\"hljs-string\">'\u65e5'<\/span>,<span class=\"hljs-string\">'\u4e00'<\/span>,<span class=\"hljs-string\">'\u4e8c'<\/span>,<span class=\"hljs-string\">'\u4e09'<\/span>,<span class=\"hljs-string\">'\u56db'<\/span>,<span class=\"hljs-string\">'\u4e94'<\/span>,<span class=\"hljs-string\">'\u516d'<\/span>];  \n\n    str=str.replace(<span class=\"hljs-regexp\">\/yyyy|YYYY\/<\/span>,<span class=\"hljs-keyword\">this<\/span>.getFullYear());   \n    str=str.replace(<span class=\"hljs-regexp\">\/yy|YY\/<\/span>,(<span class=\"hljs-keyword\">this<\/span>.getYear() % <span class=\"hljs-number\">100<\/span>)&gt;<span class=\"hljs-number\">9<\/span>?(<span class=\"hljs-keyword\">this<\/span>.getYear() % <span class=\"hljs-number\">100<\/span>).toString():<span class=\"hljs-string\">'0'<\/span> + (<span class=\"hljs-keyword\">this<\/span>.getYear() % <span class=\"hljs-number\">100<\/span>));   \n\n    str=str.replace(<span class=\"hljs-regexp\">\/MM\/<\/span>,<span class=\"hljs-keyword\">this<\/span>.getMonth()&gt;<span class=\"hljs-number\">9<\/span>?<span class=\"hljs-keyword\">this<\/span>.getMonth().toString():<span class=\"hljs-string\">'0'<\/span> + <span class=\"hljs-keyword\">this<\/span>.getMonth());   \n    str=str.replace(<span class=\"hljs-regexp\">\/M\/g<\/span>,<span class=\"hljs-keyword\">this<\/span>.getMonth());   \n\n    str=str.replace(<span class=\"hljs-regexp\">\/w|W\/g<\/span>,Week[<span class=\"hljs-keyword\">this<\/span>.getDay()]);   \n\n    str=str.replace(<span class=\"hljs-regexp\">\/dd|DD\/<\/span>,<span class=\"hljs-keyword\">this<\/span>.getDate()&gt;<span class=\"hljs-number\">9<\/span>?<span class=\"hljs-keyword\">this<\/span>.getDate().toString():<span class=\"hljs-string\">'0'<\/span> + <span class=\"hljs-keyword\">this<\/span>.getDate());   \n    str=str.replace(<span class=\"hljs-regexp\">\/d|D\/g<\/span>,<span class=\"hljs-keyword\">this<\/span>.getDate());   \n\n    str=str.replace(<span class=\"hljs-regexp\">\/hh|HH\/<\/span>,<span class=\"hljs-keyword\">this<\/span>.getHours()&gt;<span class=\"hljs-number\">9<\/span>?<span class=\"hljs-keyword\">this<\/span>.getHours().toString():<span class=\"hljs-string\">'0'<\/span> + <span class=\"hljs-keyword\">this<\/span>.getHours());   \n    str=str.replace(<span class=\"hljs-regexp\">\/h|H\/g<\/span>,<span class=\"hljs-keyword\">this<\/span>.getHours());   \n    str=str.replace(<span class=\"hljs-regexp\">\/mm\/<\/span>,<span class=\"hljs-keyword\">this<\/span>.getMinutes()&gt;<span class=\"hljs-number\">9<\/span>?<span class=\"hljs-keyword\">this<\/span>.getMinutes().toString():<span class=\"hljs-string\">'0'<\/span> + <span class=\"hljs-keyword\">this<\/span>.getMinutes());   \n    str=str.replace(<span class=\"hljs-regexp\">\/m\/g<\/span>,<span class=\"hljs-keyword\">this<\/span>.getMinutes());   \n\n    str=str.replace(<span class=\"hljs-regexp\">\/ss|SS\/<\/span>,<span class=\"hljs-keyword\">this<\/span>.getSeconds()&gt;<span class=\"hljs-number\">9<\/span>?<span class=\"hljs-keyword\">this<\/span>.getSeconds().toString():<span class=\"hljs-string\">'0'<\/span> + <span class=\"hljs-keyword\">this<\/span>.getSeconds());   \n    str=str.replace(<span class=\"hljs-regexp\">\/s|S\/g<\/span>,<span class=\"hljs-keyword\">this<\/span>.getSeconds());   \n\n    <span class=\"hljs-keyword\">return<\/span> str;   \n}   \n\n<span class=\"hljs-comment\">\/\/+---------------------------------------------------  <\/span>\n<span class=\"hljs-comment\">\/\/| \u6c42\u4e24\u4e2a\u65f6\u95f4\u7684\u5929\u6570\u5dee \u65e5\u671f\u683c\u5f0f\u4e3a YYYY-MM-dd   <\/span>\n<span class=\"hljs-comment\">\/\/+---------------------------------------------------  <\/span>\n<span class=\"hljs-function\"><span class=\"hljs-keyword\">function<\/span> <span class=\"hljs-title\">daysBetween<\/span><span class=\"hljs-params\">(DateOne,DateTwo)<\/span>  \n{<\/span>   \n    <span class=\"hljs-keyword\">var<\/span> OneMonth = DateOne.substring(<span class=\"hljs-number\">5<\/span>,DateOne.lastIndexOf (<span class=\"hljs-string\">'-'<\/span>));  \n    <span class=\"hljs-keyword\">var<\/span> OneDay = DateOne.substring(DateOne.length,DateOne.lastIndexOf (<span class=\"hljs-string\">'-'<\/span>)+<span class=\"hljs-number\">1<\/span>);  \n    <span class=\"hljs-keyword\">var<\/span> OneYear = DateOne.substring(<span class=\"hljs-number\">0<\/span>,DateOne.indexOf (<span class=\"hljs-string\">'-'<\/span>));  \n\n    <span class=\"hljs-keyword\">var<\/span> TwoMonth = DateTwo.substring(<span class=\"hljs-number\">5<\/span>,DateTwo.lastIndexOf (<span class=\"hljs-string\">'-'<\/span>));  \n    <span class=\"hljs-keyword\">var<\/span> TwoDay = DateTwo.substring(DateTwo.length,DateTwo.lastIndexOf (<span class=\"hljs-string\">'-'<\/span>)+<span class=\"hljs-number\">1<\/span>);  \n    <span class=\"hljs-keyword\">var<\/span> TwoYear = DateTwo.substring(<span class=\"hljs-number\">0<\/span>,DateTwo.indexOf (<span class=\"hljs-string\">'-'<\/span>));  \n\n    <span class=\"hljs-keyword\">var<\/span> cha=((<span class=\"hljs-built_in\">Date<\/span>.parse(OneMonth+<span class=\"hljs-string\">'\/'<\/span>+OneDay+<span class=\"hljs-string\">'\/'<\/span>+OneYear)- <span class=\"hljs-built_in\">Date<\/span>.parse(TwoMonth+<span class=\"hljs-string\">'\/'<\/span>+TwoDay+<span class=\"hljs-string\">'\/'<\/span>+TwoYear))\/<span class=\"hljs-number\">86400000<\/span>);   \n    <span class=\"hljs-keyword\">return<\/span> <span class=\"hljs-built_in\">Math<\/span>.abs(cha);  \n}  \n\n\n<span class=\"hljs-comment\">\/\/+---------------------------------------------------  <\/span>\n<span class=\"hljs-comment\">\/\/| \u65e5\u671f\u8ba1\u7b97  <\/span>\n<span class=\"hljs-comment\">\/\/+---------------------------------------------------  <\/span>\n<span class=\"hljs-built_in\">Date<\/span>.prototype.DateAdd = <span class=\"hljs-function\"><span class=\"hljs-keyword\">function<\/span><span class=\"hljs-params\">(strInterval, Number)<\/span> {<\/span>   \n    <span class=\"hljs-keyword\">var<\/span> dtTmp = <span class=\"hljs-keyword\">this<\/span>;  \n    <span class=\"hljs-keyword\">switch<\/span> (strInterval) {   \n        <span class=\"hljs-keyword\">case<\/span> <span class=\"hljs-string\">'s'<\/span> :<span class=\"hljs-keyword\">return<\/span> <span class=\"hljs-keyword\">new<\/span> <span class=\"hljs-built_in\">Date<\/span>(<span class=\"hljs-built_in\">Date<\/span>.parse(dtTmp) + (<span class=\"hljs-number\">1000<\/span> * <span class=\"hljs-built_in\">Number<\/span>));  \n        <span class=\"hljs-keyword\">case<\/span> <span class=\"hljs-string\">'n'<\/span> :<span class=\"hljs-keyword\">return<\/span> <span class=\"hljs-keyword\">new<\/span> <span class=\"hljs-built_in\">Date<\/span>(<span class=\"hljs-built_in\">Date<\/span>.parse(dtTmp) + (<span class=\"hljs-number\">60000<\/span> * <span class=\"hljs-built_in\">Number<\/span>));  \n        <span class=\"hljs-keyword\">case<\/span> <span class=\"hljs-string\">'h'<\/span> :<span class=\"hljs-keyword\">return<\/span> <span class=\"hljs-keyword\">new<\/span> <span class=\"hljs-built_in\">Date<\/span>(<span class=\"hljs-built_in\">Date<\/span>.parse(dtTmp) + (<span class=\"hljs-number\">3600000<\/span> * <span class=\"hljs-built_in\">Number<\/span>));  \n        <span class=\"hljs-keyword\">case<\/span> <span class=\"hljs-string\">'d'<\/span> :<span class=\"hljs-keyword\">return<\/span> <span class=\"hljs-keyword\">new<\/span> <span class=\"hljs-built_in\">Date<\/span>(<span class=\"hljs-built_in\">Date<\/span>.parse(dtTmp) + (<span class=\"hljs-number\">86400000<\/span> * <span class=\"hljs-built_in\">Number<\/span>));  \n        <span class=\"hljs-keyword\">case<\/span> <span class=\"hljs-string\">'w'<\/span> :<span class=\"hljs-keyword\">return<\/span> <span class=\"hljs-keyword\">new<\/span> <span class=\"hljs-built_in\">Date<\/span>(<span class=\"hljs-built_in\">Date<\/span>.parse(dtTmp) + ((<span class=\"hljs-number\">86400000<\/span> * <span class=\"hljs-number\">7<\/span>) * <span class=\"hljs-built_in\">Number<\/span>));  \n        <span class=\"hljs-keyword\">case<\/span> <span class=\"hljs-string\">'q'<\/span> :<span class=\"hljs-keyword\">return<\/span> <span class=\"hljs-keyword\">new<\/span> <span class=\"hljs-built_in\">Date<\/span>(dtTmp.getFullYear(), (dtTmp.getMonth()) + <span class=\"hljs-built_in\">Number<\/span>*<span class=\"hljs-number\">3<\/span>, dtTmp.getDate(), dtTmp.getHours(), dtTmp.getMinutes(), dtTmp.getSeconds());  \n        <span class=\"hljs-keyword\">case<\/span> <span class=\"hljs-string\">'m'<\/span> :<span class=\"hljs-keyword\">return<\/span> <span class=\"hljs-keyword\">new<\/span> <span class=\"hljs-built_in\">Date<\/span>(dtTmp.getFullYear(), (dtTmp.getMonth()) + <span class=\"hljs-built_in\">Number<\/span>, dtTmp.getDate(), dtTmp.getHours(), dtTmp.getMinutes(), dtTmp.getSeconds());  \n        <span class=\"hljs-keyword\">case<\/span> <span class=\"hljs-string\">'y'<\/span> :<span class=\"hljs-keyword\">return<\/span> <span class=\"hljs-keyword\">new<\/span> <span class=\"hljs-built_in\">Date<\/span>((dtTmp.getFullYear() + <span class=\"hljs-built_in\">Number<\/span>), dtTmp.getMonth(), dtTmp.getDate(), dtTmp.getHours(), dtTmp.getMinutes(), dtTmp.getSeconds());  \n    }  \n}  \n\n<span class=\"hljs-comment\">\/\/+---------------------------------------------------  <\/span>\n<span class=\"hljs-comment\">\/\/| \u6bd4\u8f83\u65e5\u671f\u5dee dtEnd \u683c\u5f0f\u4e3a\u65e5\u671f\u578b\u6216\u8005\u6709\u6548\u65e5\u671f\u683c\u5f0f\u5b57\u7b26\u4e32  <\/span>\n<span class=\"hljs-comment\">\/\/+---------------------------------------------------  <\/span>\n<span class=\"hljs-built_in\">Date<\/span>.prototype.DateDiff = <span class=\"hljs-function\"><span class=\"hljs-keyword\">function<\/span><span class=\"hljs-params\">(strInterval, dtEnd)<\/span> {<\/span>   \n    <span class=\"hljs-keyword\">var<\/span> dtStart = <span class=\"hljs-keyword\">this<\/span>;  \n    <span class=\"hljs-keyword\">if<\/span> (<span class=\"hljs-keyword\">typeof<\/span> dtEnd == <span class=\"hljs-string\">'string'<\/span> )<span class=\"hljs-comment\">\/\/\u5982\u679c\u662f\u5b57\u7b26\u4e32\u8f6c\u6362\u4e3a\u65e5\u671f\u578b  <\/span>\n    {   \n        dtEnd = StringToDate(dtEnd);  \n    }  \n    <span class=\"hljs-keyword\">switch<\/span> (strInterval) {   \n        <span class=\"hljs-keyword\">case<\/span> <span class=\"hljs-string\">'s'<\/span> :<span class=\"hljs-keyword\">return<\/span> <span class=\"hljs-built_in\">parseInt<\/span>((dtEnd - dtStart) \/ <span class=\"hljs-number\">1000<\/span>);  \n        <span class=\"hljs-keyword\">case<\/span> <span class=\"hljs-string\">'n'<\/span> :<span class=\"hljs-keyword\">return<\/span> <span class=\"hljs-built_in\">parseInt<\/span>((dtEnd - dtStart) \/ <span class=\"hljs-number\">60000<\/span>);  \n        <span class=\"hljs-keyword\">case<\/span> <span class=\"hljs-string\">'h'<\/span> :<span class=\"hljs-keyword\">return<\/span> <span class=\"hljs-built_in\">parseInt<\/span>((dtEnd - dtStart) \/ <span class=\"hljs-number\">3600000<\/span>);  \n        <span class=\"hljs-keyword\">case<\/span> <span class=\"hljs-string\">'d'<\/span> :<span class=\"hljs-keyword\">return<\/span> <span class=\"hljs-built_in\">parseInt<\/span>((dtEnd - dtStart) \/ <span class=\"hljs-number\">86400000<\/span>);  \n        <span class=\"hljs-keyword\">case<\/span> <span class=\"hljs-string\">'w'<\/span> :<span class=\"hljs-keyword\">return<\/span> <span class=\"hljs-built_in\">parseInt<\/span>((dtEnd - dtStart) \/ (<span class=\"hljs-number\">86400000<\/span> * <span class=\"hljs-number\">7<\/span>));  \n        <span class=\"hljs-keyword\">case<\/span> <span class=\"hljs-string\">'m'<\/span> :<span class=\"hljs-keyword\">return<\/span> (dtEnd.getMonth()+<span class=\"hljs-number\">1<\/span>)+((dtEnd.getFullYear()-dtStart.getFullYear())*<span class=\"hljs-number\">12<\/span>) - (dtStart.getMonth()+<span class=\"hljs-number\">1<\/span>);  \n        <span class=\"hljs-keyword\">case<\/span> <span class=\"hljs-string\">'y'<\/span> :<span class=\"hljs-keyword\">return<\/span> dtEnd.getFullYear() - dtStart.getFullYear();  \n    }  \n}  \n\n<span class=\"hljs-comment\">\/\/+---------------------------------------------------  <\/span>\n<span class=\"hljs-comment\">\/\/| \u65e5\u671f\u8f93\u51fa\u5b57\u7b26\u4e32\uff0c\u91cd\u8f7d\u4e86\u7cfb\u7edf\u7684toString\u65b9\u6cd5  <\/span>\n<span class=\"hljs-comment\">\/\/+---------------------------------------------------  <\/span>\n<span class=\"hljs-built_in\">Date<\/span>.prototype.toString = <span class=\"hljs-function\"><span class=\"hljs-keyword\">function<\/span><span class=\"hljs-params\">(showWeek)<\/span>  \n{<\/span>   \n    <span class=\"hljs-keyword\">var<\/span> myDate= <span class=\"hljs-keyword\">this<\/span>;  \n    <span class=\"hljs-keyword\">var<\/span> str = myDate.toLocaleDateString();  \n    <span class=\"hljs-keyword\">if<\/span> (showWeek)  \n    {   \n        <span class=\"hljs-keyword\">var<\/span> Week = [<span class=\"hljs-string\">'\u65e5'<\/span>,<span class=\"hljs-string\">'\u4e00'<\/span>,<span class=\"hljs-string\">'\u4e8c'<\/span>,<span class=\"hljs-string\">'\u4e09'<\/span>,<span class=\"hljs-string\">'\u56db'<\/span>,<span class=\"hljs-string\">'\u4e94'<\/span>,<span class=\"hljs-string\">'\u516d'<\/span>];  \n        str += <span class=\"hljs-string\">' \u661f\u671f'<\/span> + Week[myDate.getDay()];  \n    }  \n    <span class=\"hljs-keyword\">return<\/span> str;  \n}  \n\n<span class=\"hljs-comment\">\/\/+---------------------------------------------------  <\/span>\n<span class=\"hljs-comment\">\/\/| \u65e5\u671f\u5408\u6cd5\u6027\u9a8c\u8bc1  <\/span>\n<span class=\"hljs-comment\">\/\/| \u683c\u5f0f\u4e3a\uff1aYYYY-MM-DD\u6216YYYY\/MM\/DD  <\/span>\n<span class=\"hljs-comment\">\/\/+---------------------------------------------------  <\/span>\n<span class=\"hljs-function\"><span class=\"hljs-keyword\">function<\/span> <span class=\"hljs-title\">IsValidDate<\/span><span class=\"hljs-params\">(DateStr)<\/span>   \n{<\/span>   \n    <span class=\"hljs-keyword\">var<\/span> sDate=DateStr.replace(<span class=\"hljs-regexp\">\/(^\\s+|\\s+$)\/g<\/span>,<span class=\"hljs-string\">''<\/span>); <span class=\"hljs-comment\">\/\/\u53bb\u4e24\u8fb9\u7a7a\u683c;   <\/span>\n    <span class=\"hljs-keyword\">if<\/span>(sDate==<span class=\"hljs-string\">''<\/span>) <span class=\"hljs-keyword\">return<\/span> <span class=\"hljs-literal\">true<\/span>;   \n    <span class=\"hljs-comment\">\/\/\u5982\u679c\u683c\u5f0f\u6ee1\u8db3YYYY-(\/)MM-(\/)DD\u6216YYYY-(\/)M-(\/)DD\u6216YYYY-(\/)M-(\/)D\u6216YYYY-(\/)MM-(\/)D\u5c31\u66ff\u6362\u4e3a''   <\/span>\n    <span class=\"hljs-comment\">\/\/\u6570\u636e\u5e93\u4e2d\uff0c\u5408\u6cd5\u65e5\u671f\u53ef\u4ee5\u662f:YYYY-MM\/DD(2003-3\/21),\u6570\u636e\u5e93\u4f1a\u81ea\u52a8\u8f6c\u6362\u4e3aYYYY-MM-DD\u683c\u5f0f   <\/span>\n    <span class=\"hljs-keyword\">var<\/span> s = sDate.replace(<span class=\"hljs-regexp\">\/[\\d]{ 4,4 }[\\-\/]{ 1 }[\\d]{ 1,2 }[\\-\/]{ 1 }[\\d]{ 1,2 }\/g<\/span>,<span class=\"hljs-string\">''<\/span>);   \n    <span class=\"hljs-keyword\">if<\/span> (s==<span class=\"hljs-string\">''<\/span>) <span class=\"hljs-comment\">\/\/\u8bf4\u660e\u683c\u5f0f\u6ee1\u8db3YYYY-MM-DD\u6216YYYY-M-DD\u6216YYYY-M-D\u6216YYYY-MM-D   <\/span>\n    {   \n        <span class=\"hljs-keyword\">var<\/span> t=<span class=\"hljs-keyword\">new<\/span> <span class=\"hljs-built_in\">Date<\/span>(sDate.replace(<span class=\"hljs-regexp\">\/\\-\/g<\/span>,<span class=\"hljs-string\">'\/'<\/span>));   \n        <span class=\"hljs-keyword\">var<\/span> ar = sDate.split(<span class=\"hljs-regexp\">\/[-\/:]\/<\/span>);   \n        <span class=\"hljs-keyword\">if<\/span>(ar[<span class=\"hljs-number\">0<\/span>] != t.getYear() || ar[<span class=\"hljs-number\">1<\/span>] != t.getMonth()+<span class=\"hljs-number\">1<\/span> || ar[<span class=\"hljs-number\">2<\/span>] != t.getDate())   \n        {   \n            <span class=\"hljs-comment\">\/\/alert('\u9519\u8bef\u7684\u65e5\u671f\u683c\u5f0f\uff01\u683c\u5f0f\u4e3a\uff1aYYYY-MM-DD\u6216YYYY\/MM\/DD\u3002\u6ce8\u610f\u95f0\u5e74\u3002');   <\/span>\n            <span class=\"hljs-keyword\">return<\/span> <span class=\"hljs-literal\">false<\/span>;   \n        }   \n    }   \n    <span class=\"hljs-keyword\">else<\/span>   \n    {   \n        <span class=\"hljs-comment\">\/\/alert('\u9519\u8bef\u7684\u65e5\u671f\u683c\u5f0f\uff01\u683c\u5f0f\u4e3a\uff1aYYYY-MM-DD\u6216YYYY\/MM\/DD\u3002\u6ce8\u610f\u95f0\u5e74\u3002');   <\/span>\n        <span class=\"hljs-keyword\">return<\/span> <span class=\"hljs-literal\">false<\/span>;   \n    }   \n    <span class=\"hljs-keyword\">return<\/span> <span class=\"hljs-literal\">true<\/span>;   \n}   \n\n<span class=\"hljs-comment\">\/\/+---------------------------------------------------  <\/span>\n<span class=\"hljs-comment\">\/\/| \u65e5\u671f\u65f6\u95f4\u68c0\u67e5  <\/span>\n<span class=\"hljs-comment\">\/\/| \u683c\u5f0f\u4e3a\uff1aYYYY-MM-DD HH:MM:SS  <\/span>\n<span class=\"hljs-comment\">\/\/+---------------------------------------------------  <\/span>\n<span class=\"hljs-function\"><span class=\"hljs-keyword\">function<\/span> <span class=\"hljs-title\">CheckDateTime<\/span><span class=\"hljs-params\">(str)<\/span>  \n{<\/span>   \n    <span class=\"hljs-keyword\">var<\/span> reg = <span class=\"hljs-regexp\">\/^(\\d+)-(\\d{ 1,2 })-(\\d{ 1,2 }) (\\d{ 1,2 }):(\\d{ 1,2 }):(\\d{ 1,2 })$\/<\/span>;   \n    <span class=\"hljs-keyword\">var<\/span> r = str.match(reg);   \n    <span class=\"hljs-keyword\">if<\/span>(r==<span class=\"hljs-literal\">null<\/span>)<span class=\"hljs-keyword\">return<\/span> <span class=\"hljs-literal\">false<\/span>;   \n    r[<span class=\"hljs-number\">2<\/span>]=r[<span class=\"hljs-number\">2<\/span>]-<span class=\"hljs-number\">1<\/span>;   \n    <span class=\"hljs-keyword\">var<\/span> d= <span class=\"hljs-keyword\">new<\/span> <span class=\"hljs-built_in\">Date<\/span>(r[<span class=\"hljs-number\">1<\/span>],r[<span class=\"hljs-number\">2<\/span>],r[<span class=\"hljs-number\">3<\/span>],r[<span class=\"hljs-number\">4<\/span>],r[<span class=\"hljs-number\">5<\/span>],r[<span class=\"hljs-number\">6<\/span>]);   \n    <span class=\"hljs-keyword\">if<\/span>(d.getFullYear()!=r[<span class=\"hljs-number\">1<\/span>])<span class=\"hljs-keyword\">return<\/span> <span class=\"hljs-literal\">false<\/span>;   \n    <span class=\"hljs-keyword\">if<\/span>(d.getMonth()!=r[<span class=\"hljs-number\">2<\/span>])<span class=\"hljs-keyword\">return<\/span> <span class=\"hljs-literal\">false<\/span>;   \n    <span class=\"hljs-keyword\">if<\/span>(d.getDate()!=r[<span class=\"hljs-number\">3<\/span>])<span class=\"hljs-keyword\">return<\/span> <span class=\"hljs-literal\">false<\/span>;   \n    <span class=\"hljs-keyword\">if<\/span>(d.getHours()!=r[<span class=\"hljs-number\">4<\/span>])<span class=\"hljs-keyword\">return<\/span> <span class=\"hljs-literal\">false<\/span>;   \n    <span class=\"hljs-keyword\">if<\/span>(d.getMinutes()!=r[<span class=\"hljs-number\">5<\/span>])<span class=\"hljs-keyword\">return<\/span> <span class=\"hljs-literal\">false<\/span>;   \n    <span class=\"hljs-keyword\">if<\/span>(d.getSeconds()!=r[<span class=\"hljs-number\">6<\/span>])<span class=\"hljs-keyword\">return<\/span> <span class=\"hljs-literal\">false<\/span>;   \n    <span class=\"hljs-keyword\">return<\/span> <span class=\"hljs-literal\">true<\/span>;   \n}   \n\n<span class=\"hljs-comment\">\/\/+---------------------------------------------------  <\/span>\n<span class=\"hljs-comment\">\/\/| \u628a\u65e5\u671f\u5206\u5272\u6210\u6570\u7ec4  <\/span>\n<span class=\"hljs-comment\">\/\/+---------------------------------------------------  <\/span>\n<span class=\"hljs-built_in\">Date<\/span>.prototype.toArray = <span class=\"hljs-function\"><span class=\"hljs-keyword\">function<\/span><span class=\"hljs-params\">()<\/span>  \n{<\/span>   \n    <span class=\"hljs-keyword\">var<\/span> myDate = <span class=\"hljs-keyword\">this<\/span>;  \n    <span class=\"hljs-keyword\">var<\/span> myArray = <span class=\"hljs-built_in\">Array<\/span>();  \n    myArray[<span class=\"hljs-number\">0<\/span>] = myDate.getFullYear();  \n    myArray[<span class=\"hljs-number\">1<\/span>] = myDate.getMonth();  \n    myArray[<span class=\"hljs-number\">2<\/span>] = myDate.getDate();  \n    myArray[<span class=\"hljs-number\">3<\/span>] = myDate.getHours();  \n    myArray[<span class=\"hljs-number\">4<\/span>] = myDate.getMinutes();  \n    myArray[<span class=\"hljs-number\">5<\/span>] = myDate.getSeconds();  \n    <span class=\"hljs-keyword\">return<\/span> myArray;  \n}  \n\n<span class=\"hljs-comment\">\/\/+---------------------------------------------------  <\/span>\n<span class=\"hljs-comment\">\/\/| \u53d6\u5f97\u65e5\u671f\u6570\u636e\u4fe1\u606f  <\/span>\n<span class=\"hljs-comment\">\/\/| \u53c2\u6570 interval \u8868\u793a\u6570\u636e\u7c7b\u578b  <\/span>\n<span class=\"hljs-comment\">\/\/| y \u5e74 m\u6708 d\u65e5 w\u661f\u671f ww\u5468 h\u65f6 n\u5206 s\u79d2  <\/span>\n<span class=\"hljs-comment\">\/\/+---------------------------------------------------  <\/span>\n<span class=\"hljs-built_in\">Date<\/span>.prototype.DatePart = <span class=\"hljs-function\"><span class=\"hljs-keyword\">function<\/span><span class=\"hljs-params\">(interval)<\/span>  \n{<\/span>   \n    <span class=\"hljs-keyword\">var<\/span> myDate = <span class=\"hljs-keyword\">this<\/span>;  \n    <span class=\"hljs-keyword\">var<\/span> partStr=<span class=\"hljs-string\">''<\/span>;  \n    <span class=\"hljs-keyword\">var<\/span> Week = [<span class=\"hljs-string\">'\u65e5'<\/span>,<span class=\"hljs-string\">'\u4e00'<\/span>,<span class=\"hljs-string\">'\u4e8c'<\/span>,<span class=\"hljs-string\">'\u4e09'<\/span>,<span class=\"hljs-string\">'\u56db'<\/span>,<span class=\"hljs-string\">'\u4e94'<\/span>,<span class=\"hljs-string\">'\u516d'<\/span>];  \n    <span class=\"hljs-keyword\">switch<\/span> (interval)  \n    {   \n        <span class=\"hljs-keyword\">case<\/span> <span class=\"hljs-string\">'y'<\/span> :partStr = myDate.getFullYear();<span class=\"hljs-keyword\">break<\/span>;  \n        <span class=\"hljs-keyword\">case<\/span> <span class=\"hljs-string\">'m'<\/span> :partStr = myDate.getMonth()+<span class=\"hljs-number\">1<\/span>;<span class=\"hljs-keyword\">break<\/span>;  \n        <span class=\"hljs-keyword\">case<\/span> <span class=\"hljs-string\">'d'<\/span> :partStr = myDate.getDate();<span class=\"hljs-keyword\">break<\/span>;  \n        <span class=\"hljs-keyword\">case<\/span> <span class=\"hljs-string\">'w'<\/span> :partStr = Week[myDate.getDay()];<span class=\"hljs-keyword\">break<\/span>;  \n        <span class=\"hljs-keyword\">case<\/span> <span class=\"hljs-string\">'ww'<\/span> :partStr = myDate.WeekNumOfYear();<span class=\"hljs-keyword\">break<\/span>;  \n        <span class=\"hljs-keyword\">case<\/span> <span class=\"hljs-string\">'h'<\/span> :partStr = myDate.getHours();<span class=\"hljs-keyword\">break<\/span>;  \n        <span class=\"hljs-keyword\">case<\/span> <span class=\"hljs-string\">'n'<\/span> :partStr = myDate.getMinutes();<span class=\"hljs-keyword\">break<\/span>;  \n        <span class=\"hljs-keyword\">case<\/span> <span class=\"hljs-string\">'s'<\/span> :partStr = myDate.getSeconds();<span class=\"hljs-keyword\">break<\/span>;  \n    }  \n    <span class=\"hljs-keyword\">return<\/span> partStr;  \n}  \n\n<span class=\"hljs-comment\">\/\/+---------------------------------------------------  <\/span>\n<span class=\"hljs-comment\">\/\/| \u53d6\u5f97\u5f53\u524d\u65e5\u671f\u6240\u5728\u6708\u7684\u6700\u5927\u5929\u6570  <\/span>\n<span class=\"hljs-comment\">\/\/+---------------------------------------------------  <\/span>\n<span class=\"hljs-built_in\">Date<\/span>.prototype.MaxDayOfDate = <span class=\"hljs-function\"><span class=\"hljs-keyword\">function<\/span><span class=\"hljs-params\">()<\/span>  \n{<\/span>   \n    <span class=\"hljs-keyword\">var<\/span> myDate = <span class=\"hljs-keyword\">this<\/span>;  \n    <span class=\"hljs-keyword\">var<\/span> ary = myDate.toArray();  \n    <span class=\"hljs-keyword\">var<\/span> date1 = (<span class=\"hljs-keyword\">new<\/span> <span class=\"hljs-built_in\">Date<\/span>(ary[<span class=\"hljs-number\">0<\/span>],ary[<span class=\"hljs-number\">1<\/span>]+<span class=\"hljs-number\">1<\/span>,<span class=\"hljs-number\">1<\/span>));  \n    <span class=\"hljs-keyword\">var<\/span> date2 = date1.dateAdd(<span class=\"hljs-number\">1<\/span>,<span class=\"hljs-string\">'m'<\/span>,<span class=\"hljs-number\">1<\/span>);  \n    <span class=\"hljs-keyword\">var<\/span> result = dateDiff(date1.Format(<span class=\"hljs-string\">'yyyy-MM-dd'<\/span>),date2.Format(<span class=\"hljs-string\">'yyyy-MM-dd'<\/span>));  \n    <span class=\"hljs-keyword\">return<\/span> result;  \n}  \n\n<span class=\"hljs-comment\">\/\/+---------------------------------------------------  <\/span>\n<span class=\"hljs-comment\">\/\/| \u53d6\u5f97\u5f53\u524d\u65e5\u671f\u6240\u5728\u5468\u662f\u4e00\u5e74\u4e2d\u7684\u7b2c\u51e0\u5468  <\/span>\n<span class=\"hljs-comment\">\/\/+---------------------------------------------------  <\/span>\n<span class=\"hljs-built_in\">Date<\/span>.prototype.WeekNumOfYear = <span class=\"hljs-function\"><span class=\"hljs-keyword\">function<\/span><span class=\"hljs-params\">()<\/span>  \n{<\/span>   \n    <span class=\"hljs-keyword\">var<\/span> myDate = <span class=\"hljs-keyword\">this<\/span>;  \n    <span class=\"hljs-keyword\">var<\/span> ary = myDate.toArray();  \n    <span class=\"hljs-keyword\">var<\/span> year = ary[<span class=\"hljs-number\">0<\/span>];  \n    <span class=\"hljs-keyword\">var<\/span> month = ary[<span class=\"hljs-number\">1<\/span>]+<span class=\"hljs-number\">1<\/span>;  \n    <span class=\"hljs-keyword\">var<\/span> day = ary[<span class=\"hljs-number\">2<\/span>];  \n    document.write(<span class=\"hljs-string\">'&lt; script language=VBScript\\&gt; \\n'<\/span>);  \n    document.write(<span class=\"hljs-string\">'myDate = Datue('<\/span><span class=\"hljs-string\">'+month+'<\/span>-<span class=\"hljs-string\">'+day+'<\/span>-<span class=\"hljs-string\">'+year+'<\/span><span class=\"hljs-string\">') \\n'<\/span>);  \n    document.write(<span class=\"hljs-string\">'result = DatePart('<\/span>ww<span class=\"hljs-string\">', myDate) \\n'<\/span>);  \n    document.write(<span class=\"hljs-string\">' \\n'<\/span>);  \n    <span class=\"hljs-keyword\">return<\/span> result;  \n}  \n\n<span class=\"hljs-comment\">\/\/+---------------------------------------------------  <\/span>\n<span class=\"hljs-comment\">\/\/| \u5b57\u7b26\u4e32\u8f6c\u6210\u65e5\u671f\u7c7b\u578b   <\/span>\n<span class=\"hljs-comment\">\/\/| \u683c\u5f0f MM\/dd\/YYYY MM-dd-YYYY YYYY\/MM\/dd YYYY-MM-dd  <\/span>\n<span class=\"hljs-comment\">\/\/+---------------------------------------------------  <\/span>\n<span class=\"hljs-function\"><span class=\"hljs-keyword\">function<\/span> <span class=\"hljs-title\">StringToDate<\/span><span class=\"hljs-params\">(DateStr)<\/span>  \n{<\/span>   \n\n    <span class=\"hljs-keyword\">var<\/span> converted = <span class=\"hljs-built_in\">Date<\/span>.parse(DateStr);  \n    <span class=\"hljs-keyword\">var<\/span> myDate = <span class=\"hljs-keyword\">new<\/span> <span class=\"hljs-built_in\">Date<\/span>(converted);  \n    <span class=\"hljs-keyword\">if<\/span> (<span class=\"hljs-built_in\">isNaN<\/span>(myDate))  \n    {   \n        <span class=\"hljs-comment\">\/\/var delimCahar = DateStr.indexOf('\/')!=-1?'\/':'-';  <\/span>\n        <span class=\"hljs-keyword\">var<\/span> arys= DateStr.split(<span class=\"hljs-string\">'-'<\/span>);  \n        myDate = <span class=\"hljs-keyword\">new<\/span> <span class=\"hljs-built_in\">Date<\/span>(arys[<span class=\"hljs-number\">0<\/span>],--arys[<span class=\"hljs-number\">1<\/span>],arys[<span class=\"hljs-number\">2<\/span>]);  \n    }  \n    <span class=\"hljs-keyword\">return<\/span> myDate;  \n}  \n\n<\/code><\/pre>\n\n<p>\u82e5\u8981\u663e\u793a:\u5f53\u524d\u65e5\u671f\u52a0\u65f6\u95f4(\u5982:2009-06-12 12:00)<\/p>\n\n\n\n<pre class=\"prettyprint\"><code class=\" hljs javascript\"><span class=\"hljs-function\"><span class=\"hljs-keyword\">function<\/span> <span class=\"hljs-title\">CurentTime<\/span><span class=\"hljs-params\">()<\/span>\n    {<\/span> \n        <span class=\"hljs-keyword\">var<\/span> now = <span class=\"hljs-keyword\">new<\/span> <span class=\"hljs-built_in\">Date<\/span>();\n        <span class=\"hljs-keyword\">var<\/span> year = now.getFullYear();       <span class=\"hljs-comment\">\/\/\u5e74<\/span>\n        <span class=\"hljs-keyword\">var<\/span> month = now.getMonth() + <span class=\"hljs-number\">1<\/span>;     <span class=\"hljs-comment\">\/\/\u6708<\/span>\n        <span class=\"hljs-keyword\">var<\/span> day = now.getDate();            <span class=\"hljs-comment\">\/\/\u65e5<\/span>\n        <span class=\"hljs-keyword\">var<\/span> hh = now.getHours();            <span class=\"hljs-comment\">\/\/\u65f6<\/span>\n        <span class=\"hljs-keyword\">var<\/span> mm = now.getMinutes();          <span class=\"hljs-comment\">\/\/\u5206<\/span>\n        <span class=\"hljs-keyword\">var<\/span> clock = year + <span class=\"hljs-string\">\"-\"<\/span>;\n        <span class=\"hljs-keyword\">if<\/span>(month &lt; <span class=\"hljs-number\">10<\/span>)\n            clock += <span class=\"hljs-string\">\"0\"<\/span>;\n            clock += month + <span class=\"hljs-string\">\"-\"<\/span>;\n\n        <span class=\"hljs-keyword\">if<\/span>(day &lt; <span class=\"hljs-number\">10<\/span>)\n            clock += <span class=\"hljs-string\">\"0\"<\/span>;\n\n        clock += day + <span class=\"hljs-string\">\" \"<\/span>;\n\n        <span class=\"hljs-keyword\">if<\/span>(hh &lt; <span class=\"hljs-number\">10<\/span>)\n            clock += <span class=\"hljs-string\">\"0\"<\/span>;\n\n        clock += hh + <span class=\"hljs-string\">\":\"<\/span>;\n        <span class=\"hljs-keyword\">if<\/span> (mm &lt; <span class=\"hljs-number\">10<\/span>) clock += <span class=\"hljs-string\">'0'<\/span>; \n        clock += mm; \n        <span class=\"hljs-keyword\">return<\/span>(clock); \n    } <\/code><\/pre>\n\n<p>\u539f\u6587\u8f6c\u81ea\uff1a<a href=\"http:\/\/blog.sina.com.cn\/s\/blog_8772845101019kg5.html\">http:\/\/blog.sina.com.cn\/s\/blog_8772845101019kg5.html<\/a> <br>\n\u6162\u6162\u770b\uff0c\u5173\u4e8e\u7b97\u6cd5\u5e94\u8be5\u8fd9\u4e2a\u5df2\u7ecf\u5f88\u590d\u6742\u4e86\u3002<\/p>","markdowncontent":"```\nvar myDate = new Date();\nmyDate.getYear();        \/\/\u83b7\u53d6\u5f53\u524d\u5e74\u4efd(2\u4f4d)\nmyDate.getFullYear();    \/\/\u83b7\u53d6\u5b8c\u6574\u7684\u5e74\u4efd(4\u4f4d,1970-????)\nmyDate.getMonth();       \/\/\u83b7\u53d6\u5f53\u524d\u6708\u4efd(0-11,0\u4ee3\u88681\u6708)\nmyDate.getDate();        \/\/\u83b7\u53d6\u5f53\u524d\u65e5(1-31)\nmyDate.getDay();         \/\/\u83b7\u53d6\u5f53\u524d\u661f\u671fX(0-6,0\u4ee3\u8868\u661f\u671f\u5929)\nmyDate.getTime();        \/\/\u83b7\u53d6\u5f53\u524d\u65f6\u95f4(\u4ece1970.1.1\u5f00\u59cb\u7684\u6beb\u79d2\u6570)\nmyDate.getHours();       \/\/\u83b7\u53d6\u5f53\u524d\u5c0f\u65f6\u6570(0-23)\nmyDate.getMinutes();     \/\/\u83b7\u53d6\u5f53\u524d\u5206\u949f\u6570(0-59)\nmyDate.getSeconds();     \/\/\u83b7\u53d6\u5f53\u524d\u79d2\u6570(0-59)\nmyDate.getMilliseconds();    \/\/\u83b7\u53d6\u5f53\u524d\u6beb\u79d2\u6570(0-999)\nmyDate.toLocaleDateString();     \/\/\u83b7\u53d6\u5f53\u524d\u65e5\u671f\nvar mytime=myDate.toLocaleTimeString();     \/\/\u83b7\u53d6\u5f53\u524d\u65f6\u95f4\nmyDate.toLocaleString( );        \/\/\u83b7\u53d6\u65e5\u671f\u4e0e\u65f6\u95f4\n```\n \n\n\u65e5\u671f\u65f6\u95f4\u811a\u672c\u5e93\u65b9\u6cd5\u5217\u8868\n```\nDate.prototype.isLeapYear \u5224\u65ad\u95f0\u5e74\nDate.prototype.Format \u65e5\u671f\u683c\u5f0f\u5316\nDate.prototype.DateAdd \u65e5\u671f\u8ba1\u7b97\nDate.prototype.DateDiff \u6bd4\u8f83\u65e5\u671f\u5dee\nDate.prototype.toString \u65e5\u671f\u8f6c\u5b57\u7b26\u4e32\nDate.prototype.toArray \u65e5\u671f\u5206\u5272\u4e3a\u6570\u7ec4\nDate.prototype.DatePart \u53d6\u65e5\u671f\u7684\u90e8\u5206\u4fe1\u606f\nDate.prototype.MaxDayOfDate \u53d6\u65e5\u671f\u6240\u5728\u6708\u7684\u6700\u5927\u5929\u6570\nDate.prototype.WeekNumOfYear \u5224\u65ad\u65e5\u671f\u6240\u5728\u5e74\u7684\u7b2c\u51e0\u5468\nStringToDate \u5b57\u7b26\u4e32\u8f6c\u65e5\u671f\u578b\nIsValidDate \u9a8c\u8bc1\u65e5\u671f\u6709\u6548\u6027\nCheckDateTime \u5b8c\u6574\u65e5\u671f\u65f6\u95f4\u68c0\u67e5\ndaysBetween \u65e5\u671f\u5929\u6570\u5dee\n```\njs\u4ee3\u7801\uff1a\n```\n\/\/---------------------------------------------------  \n\/\/ \u5224\u65ad\u95f0\u5e74  \n\/\/---------------------------------------------------  \nDate.prototype.isLeapYear = function()   \n{   \n    return (0==this.getYear()%4&&((this.getYear()%100!=0)||(this.getYear()%400==0)));   \n}   \n  \n\/\/---------------------------------------------------  \n\/\/ \u65e5\u671f\u683c\u5f0f\u5316  \n\/\/ \u683c\u5f0f YYYY\/yyyy\/YY\/yy \u8868\u793a\u5e74\u4efd  \n\/\/ MM\/M \u6708\u4efd  \n\/\/ W\/w \u661f\u671f  \n\/\/ dd\/DD\/d\/D \u65e5\u671f  \n\/\/ hh\/HH\/h\/H \u65f6\u95f4  \n\/\/ mm\/m \u5206\u949f  \n\/\/ ss\/SS\/s\/S \u79d2  \n\/\/---------------------------------------------------  \nDate.prototype.Format = function(formatStr)   \n{   \n    var str = formatStr;   \n    var Week = ['\u65e5','\u4e00','\u4e8c','\u4e09','\u56db','\u4e94','\u516d'];  \n  \n    str=str.replace(\/yyyy|YYYY\/,this.getFullYear());   \n    str=str.replace(\/yy|YY\/,(this.getYear() % 100)>9?(this.getYear() % 100).toString():'0' + (this.getYear() % 100));   \n  \n    str=str.replace(\/MM\/,this.getMonth()>9?this.getMonth().toString():'0' + this.getMonth());   \n    str=str.replace(\/M\/g,this.getMonth());   \n  \n    str=str.replace(\/w|W\/g,Week[this.getDay()]);   \n  \n    str=str.replace(\/dd|DD\/,this.getDate()>9?this.getDate().toString():'0' + this.getDate());   \n    str=str.replace(\/d|D\/g,this.getDate());   \n  \n    str=str.replace(\/hh|HH\/,this.getHours()>9?this.getHours().toString():'0' + this.getHours());   \n    str=str.replace(\/h|H\/g,this.getHours());   \n    str=str.replace(\/mm\/,this.getMinutes()>9?this.getMinutes().toString():'0' + this.getMinutes());   \n    str=str.replace(\/m\/g,this.getMinutes());   \n  \n    str=str.replace(\/ss|SS\/,this.getSeconds()>9?this.getSeconds().toString():'0' + this.getSeconds());   \n    str=str.replace(\/s|S\/g,this.getSeconds());   \n  \n    return str;   \n}   \n  \n\/\/+---------------------------------------------------  \n\/\/| \u6c42\u4e24\u4e2a\u65f6\u95f4\u7684\u5929\u6570\u5dee \u65e5\u671f\u683c\u5f0f\u4e3a YYYY-MM-dd   \n\/\/+---------------------------------------------------  \nfunction daysBetween(DateOne,DateTwo)  \n{   \n    var OneMonth = DateOne.substring(5,DateOne.lastIndexOf ('-'));  \n    var OneDay = DateOne.substring(DateOne.length,DateOne.lastIndexOf ('-')+1);  \n    var OneYear = DateOne.substring(0,DateOne.indexOf ('-'));  \n  \n    var TwoMonth = DateTwo.substring(5,DateTwo.lastIndexOf ('-'));  \n    var TwoDay = DateTwo.substring(DateTwo.length,DateTwo.lastIndexOf ('-')+1);  \n    var TwoYear = DateTwo.substring(0,DateTwo.indexOf ('-'));  \n  \n    var cha=((Date.parse(OneMonth+'\/'+OneDay+'\/'+OneYear)- Date.parse(TwoMonth+'\/'+TwoDay+'\/'+TwoYear))\/86400000);   \n    return Math.abs(cha);  \n}  \n  \n  \n\/\/+---------------------------------------------------  \n\/\/| \u65e5\u671f\u8ba1\u7b97  \n\/\/+---------------------------------------------------  \nDate.prototype.DateAdd = function(strInterval, Number) {   \n    var dtTmp = this;  \n    switch (strInterval) {   \n        case 's' :return new Date(Date.parse(dtTmp) + (1000 * Number));  \n        case 'n' :return new Date(Date.parse(dtTmp) + (60000 * Number));  \n        case 'h' :return new Date(Date.parse(dtTmp) + (3600000 * Number));  \n        case 'd' :return new Date(Date.parse(dtTmp) + (86400000 * Number));  \n        case 'w' :return new Date(Date.parse(dtTmp) + ((86400000 * 7) * Number));  \n        case 'q' :return new Date(dtTmp.getFullYear(), (dtTmp.getMonth()) + Number*3, dtTmp.getDate(), dtTmp.getHours(), dtTmp.getMinutes(), dtTmp.getSeconds());  \n        case 'm' :return new Date(dtTmp.getFullYear(), (dtTmp.getMonth()) + Number, dtTmp.getDate(), dtTmp.getHours(), dtTmp.getMinutes(), dtTmp.getSeconds());  \n        case 'y' :return new Date((dtTmp.getFullYear() + Number), dtTmp.getMonth(), dtTmp.getDate(), dtTmp.getHours(), dtTmp.getMinutes(), dtTmp.getSeconds());  \n    }  \n}  \n  \n\/\/+---------------------------------------------------  \n\/\/| \u6bd4\u8f83\u65e5\u671f\u5dee dtEnd \u683c\u5f0f\u4e3a\u65e5\u671f\u578b\u6216\u8005\u6709\u6548\u65e5\u671f\u683c\u5f0f\u5b57\u7b26\u4e32  \n\/\/+---------------------------------------------------  \nDate.prototype.DateDiff = function(strInterval, dtEnd) {   \n    var dtStart = this;  \n    if (typeof dtEnd == 'string' )\/\/\u5982\u679c\u662f\u5b57\u7b26\u4e32\u8f6c\u6362\u4e3a\u65e5\u671f\u578b  \n    {   \n        dtEnd = StringToDate(dtEnd);  \n    }  \n    switch (strInterval) {   \n        case 's' :return parseInt((dtEnd - dtStart) \/ 1000);  \n        case 'n' :return parseInt((dtEnd - dtStart) \/ 60000);  \n        case 'h' :return parseInt((dtEnd - dtStart) \/ 3600000);  \n        case 'd' :return parseInt((dtEnd - dtStart) \/ 86400000);  \n        case 'w' :return parseInt((dtEnd - dtStart) \/ (86400000 * 7));  \n        case 'm' :return (dtEnd.getMonth()+1)+((dtEnd.getFullYear()-dtStart.getFullYear())*12) - (dtStart.getMonth()+1);  \n        case 'y' :return dtEnd.getFullYear() - dtStart.getFullYear();  \n    }  \n}  \n  \n\/\/+---------------------------------------------------  \n\/\/| \u65e5\u671f\u8f93\u51fa\u5b57\u7b26\u4e32\uff0c\u91cd\u8f7d\u4e86\u7cfb\u7edf\u7684toString\u65b9\u6cd5  \n\/\/+---------------------------------------------------  \nDate.prototype.toString = function(showWeek)  \n{   \n    var myDate= this;  \n    var str = myDate.toLocaleDateString();  \n    if (showWeek)  \n    {   \n        var Week = ['\u65e5','\u4e00','\u4e8c','\u4e09','\u56db','\u4e94','\u516d'];  \n        str += ' \u661f\u671f' + Week[myDate.getDay()];  \n    }  \n    return str;  \n}  \n  \n\/\/+---------------------------------------------------  \n\/\/| \u65e5\u671f\u5408\u6cd5\u6027\u9a8c\u8bc1  \n\/\/| \u683c\u5f0f\u4e3a\uff1aYYYY-MM-DD\u6216YYYY\/MM\/DD  \n\/\/+---------------------------------------------------  \nfunction IsValidDate(DateStr)   \n{   \n    var sDate=DateStr.replace(\/(^\\s+|\\s+$)\/g,''); \/\/\u53bb\u4e24\u8fb9\u7a7a\u683c;   \n    if(sDate=='') return true;   \n    \/\/\u5982\u679c\u683c\u5f0f\u6ee1\u8db3YYYY-(\/)MM-(\/)DD\u6216YYYY-(\/)M-(\/)DD\u6216YYYY-(\/)M-(\/)D\u6216YYYY-(\/)MM-(\/)D\u5c31\u66ff\u6362\u4e3a''   \n    \/\/\u6570\u636e\u5e93\u4e2d\uff0c\u5408\u6cd5\u65e5\u671f\u53ef\u4ee5\u662f:YYYY-MM\/DD(2003-3\/21),\u6570\u636e\u5e93\u4f1a\u81ea\u52a8\u8f6c\u6362\u4e3aYYYY-MM-DD\u683c\u5f0f   \n    var s = sDate.replace(\/[\\d]{ 4,4 }[\\-\/]{ 1 }[\\d]{ 1,2 }[\\-\/]{ 1 }[\\d]{ 1,2 }\/g,'');   \n    if (s=='') \/\/\u8bf4\u660e\u683c\u5f0f\u6ee1\u8db3YYYY-MM-DD\u6216YYYY-M-DD\u6216YYYY-M-D\u6216YYYY-MM-D   \n    {   \n        var t=new Date(sDate.replace(\/\\-\/g,'\/'));   \n        var ar = sDate.split(\/[-\/:]\/);   \n        if(ar[0] != t.getYear() || ar[1] != t.getMonth()+1 || ar[2] != t.getDate())   \n        {   \n            \/\/alert('\u9519\u8bef\u7684\u65e5\u671f\u683c\u5f0f\uff01\u683c\u5f0f\u4e3a\uff1aYYYY-MM-DD\u6216YYYY\/MM\/DD\u3002\u6ce8\u610f\u95f0\u5e74\u3002');   \n            return false;   \n        }   \n    }   \n    else   \n    {   \n        \/\/alert('\u9519\u8bef\u7684\u65e5\u671f\u683c\u5f0f\uff01\u683c\u5f0f\u4e3a\uff1aYYYY-MM-DD\u6216YYYY\/MM\/DD\u3002\u6ce8\u610f\u95f0\u5e74\u3002');   \n        return false;   \n    }   \n    return true;   \n}   \n  \n\/\/+---------------------------------------------------  \n\/\/| \u65e5\u671f\u65f6\u95f4\u68c0\u67e5  \n\/\/| \u683c\u5f0f\u4e3a\uff1aYYYY-MM-DD HH:MM:SS  \n\/\/+---------------------------------------------------  \nfunction CheckDateTime(str)  \n{   \n    var reg = \/^(\\d+)-(\\d{ 1,2 })-(\\d{ 1,2 }) (\\d{ 1,2 }):(\\d{ 1,2 }):(\\d{ 1,2 })$\/;   \n    var r = str.match(reg);   \n    if(r==null)return false;   \n    r[2]=r[2]-1;   \n    var d= new Date(r[1],r[2],r[3],r[4],r[5],r[6]);   \n    if(d.getFullYear()!=r[1])return false;   \n    if(d.getMonth()!=r[2])return false;   \n    if(d.getDate()!=r[3])return false;   \n    if(d.getHours()!=r[4])return false;   \n    if(d.getMinutes()!=r[5])return false;   \n    if(d.getSeconds()!=r[6])return false;   \n    return true;   \n}   \n  \n\/\/+---------------------------------------------------  \n\/\/| \u628a\u65e5\u671f\u5206\u5272\u6210\u6570\u7ec4  \n\/\/+---------------------------------------------------  \nDate.prototype.toArray = function()  \n{   \n    var myDate = this;  \n    var myArray = Array();  \n    myArray[0] = myDate.getFullYear();  \n    myArray[1] = myDate.getMonth();  \n    myArray[2] = myDate.getDate();  \n    myArray[3] = myDate.getHours();  \n    myArray[4] = myDate.getMinutes();  \n    myArray[5] = myDate.getSeconds();  \n    return myArray;  \n}  \n  \n\/\/+---------------------------------------------------  \n\/\/| \u53d6\u5f97\u65e5\u671f\u6570\u636e\u4fe1\u606f  \n\/\/| \u53c2\u6570 interval \u8868\u793a\u6570\u636e\u7c7b\u578b  \n\/\/| y \u5e74 m\u6708 d\u65e5 w\u661f\u671f ww\u5468 h\u65f6 n\u5206 s\u79d2  \n\/\/+---------------------------------------------------  \nDate.prototype.DatePart = function(interval)  \n{   \n    var myDate = this;  \n    var partStr='';  \n    var Week = ['\u65e5','\u4e00','\u4e8c','\u4e09','\u56db','\u4e94','\u516d'];  \n    switch (interval)  \n    {   \n        case 'y' :partStr = myDate.getFullYear();break;  \n        case 'm' :partStr = myDate.getMonth()+1;break;  \n        case 'd' :partStr = myDate.getDate();break;  \n        case 'w' :partStr = Week[myDate.getDay()];break;  \n        case 'ww' :partStr = myDate.WeekNumOfYear();break;  \n        case 'h' :partStr = myDate.getHours();break;  \n        case 'n' :partStr = myDate.getMinutes();break;  \n        case 's' :partStr = myDate.getSeconds();break;  \n    }  \n    return partStr;  \n}  \n  \n\/\/+---------------------------------------------------  \n\/\/| \u53d6\u5f97\u5f53\u524d\u65e5\u671f\u6240\u5728\u6708\u7684\u6700\u5927\u5929\u6570  \n\/\/+---------------------------------------------------  \nDate.prototype.MaxDayOfDate = function()  \n{   \n    var myDate = this;  \n    var ary = myDate.toArray();  \n    var date1 = (new Date(ary[0],ary[1]+1,1));  \n    var date2 = date1.dateAdd(1,'m',1);  \n    var result = dateDiff(date1.Format('yyyy-MM-dd'),date2.Format('yyyy-MM-dd'));  \n    return result;  \n}  \n  \n\/\/+---------------------------------------------------  \n\/\/| \u53d6\u5f97\u5f53\u524d\u65e5\u671f\u6240\u5728\u5468\u662f\u4e00\u5e74\u4e2d\u7684\u7b2c\u51e0\u5468  \n\/\/+---------------------------------------------------  \nDate.prototype.WeekNumOfYear = function()  \n{   \n    var myDate = this;  \n    var ary = myDate.toArray();  \n    var year = ary[0];  \n    var month = ary[1]+1;  \n    var day = ary[2];  \n    document.write('< script language=VBScript\\> \\n');  \n    document.write('myDate = Datue(''+month+'-'+day+'-'+year+'') \\n');  \n    document.write('result = DatePart('ww', myDate) \\n');  \n    document.write(' \\n');  \n    return result;  \n}  \n  \n\/\/+---------------------------------------------------  \n\/\/| \u5b57\u7b26\u4e32\u8f6c\u6210\u65e5\u671f\u7c7b\u578b   \n\/\/| \u683c\u5f0f MM\/dd\/YYYY MM-dd-YYYY YYYY\/MM\/dd YYYY-MM-dd  \n\/\/+---------------------------------------------------  \nfunction StringToDate(DateStr)  \n{   \n  \n    var converted = Date.parse(DateStr);  \n    var myDate = new Date(converted);  \n    if (isNaN(myDate))  \n    {   \n        \/\/var delimCahar = DateStr.indexOf('\/')!=-1?'\/':'-';  \n        var arys= DateStr.split('-');  \n        myDate = new Date(arys[0],--arys[1],arys[2]);  \n    }  \n    return myDate;  \n}  \n\n \n```\n\u82e5\u8981\u663e\u793a:\u5f53\u524d\u65e5\u671f\u52a0\u65f6\u95f4(\u5982:2009-06-12 12:00)\n```\nfunction CurentTime()\n    { \n        var now = new Date();\n        var year = now.getFullYear();       \/\/\u5e74\n        var month = now.getMonth() + 1;     \/\/\u6708\n        var day = now.getDate();            \/\/\u65e5\n        var hh = now.getHours();            \/\/\u65f6\n        var mm = now.getMinutes();          \/\/\u5206\n        var clock = year + \"-\";\n        if(month < 10)\n            clock += \"0\";\n\t        clock += month + \"-\";\n       \n        if(day < 10)\n            clock += \"0\";\n           \n        clock += day + \" \";\n       \n        if(hh < 10)\n            clock += \"0\";\n           \n        clock += hh + \":\";\n        if (mm < 10) clock += '0'; \n        clock += mm; \n        return(clock); \n    } \n```\n\n\u539f\u6587\u8f6c\u81ea\uff1ahttp:\/\/blog.sina.com.cn\/s\/blog_8772845101019kg5.html\n\u6162\u6162\u770b\uff0c\u5173\u4e8e\u7b97\u6cd5\u5e94\u8be5\u8fd9\u4e2a\u5df2\u7ecf\u5f88\u590d\u6742\u4e86\u3002","private":0,"tags":"javascript,\u65f6\u95f4\u65e5\u671f","categories":"JavaScript","channel":"14","type":"repost","status":1},"error":"","status":true}