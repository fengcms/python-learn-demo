{"data":{"id":"76512416","title":"Shell \u547d\u4ee4\u884c\u6279\u91cf\u5904\u7406\u56fe\u7247\u6587\u4ef6\u540d","articleedittype":1,"description":"Shell \u547d\u4ee4\u884c\u6279\u91cf\u5904\u7406\u56fe\u7247\u6587\u4ef6\u540d\u4ece\u7f51\u4e0a\u4e0b\u8f7d\u4e86\u4e00\u5806\u56fe\u7247\uff0c\u6709\u7684\u662f*.jpg\u7684\uff0c\u6709\u7684\u662f*.jpeg\u7684\u3002\u5e76\u4e14\u6587\u4ef6\u540d\u6709\u957f\u6709\u77ed\uff0c\u5f88\u662f\u7cdf\u5fc3\u3002\u56e0\u6b64\uff0c\u6211\u60f3\u628a\u8fd9\u4e9b\u6587\u4ef6\u7ed9\u5168\u90e8\u6574\u7406\u597d\uff0c\u5f53\u7136\u662f\u7528shell\u6765\u5904\u7406\u5566\uff01\u8bf4\u5e72\u5c31\u5e72\u3002\u5faa\u73af\u6240\u6709\u6587\u4ef6\u9996\u5148\uff0c\u6211\u628a\u6240\u6709\u7684\u4e71\u4e03\u516b\u7cdf\u7684\u56fe\u7247\uff0c\u5168\u90e8\u653e\u5728 .\/image\/ \u8fd9\u4e2a\u6587\u4ef6\u5939\u4e0b\u9762\u3002 \n\u7136\u540e\u5728\u5916\u5c42\u5199\u4e00\u4e2ai.sh\u7684shell\u6587\u4ef6\uff0c\u5f55\u5165\u4e0b\u9762\u7684\u5185\u5bb9\u3002\u6211\u7684\u6587\u4ef6\u7ed3\u6784\u6f14\u793a\u5982\u4e0b\uff1a\n  \u6587\u4ef6  image\/x","content":"<h1 id=\"shell-\u547d\u4ee4\u884c\u6279\u91cf\u5904\u7406\u56fe\u7247\u6587\u4ef6\u540d\">Shell \u547d\u4ee4\u884c\u6279\u91cf\u5904\u7406\u56fe\u7247\u6587\u4ef6\u540d<\/h1>\n\n<p>\u4ece\u7f51\u4e0a\u4e0b\u8f7d\u4e86\u4e00\u5806\u56fe\u7247\uff0c\u6709\u7684\u662f<code>*.jpg<\/code>\u7684\uff0c\u6709\u7684\u662f<code>*.jpeg<\/code>\u7684\u3002\u5e76\u4e14\u6587\u4ef6\u540d\u6709\u957f\u6709\u77ed\uff0c\u5f88\u662f\u7cdf\u5fc3\u3002\u56e0\u6b64\uff0c\u6211\u60f3\u628a\u8fd9\u4e9b\u6587\u4ef6\u7ed9\u5168\u90e8\u6574\u7406\u597d\uff0c\u5f53\u7136\u662f\u7528<code>shell<\/code>\u6765\u5904\u7406\u5566\uff01<\/p>\n\n<p>\u8bf4\u5e72\u5c31\u5e72\u3002<\/p>\n\n<h2 id=\"\u5faa\u73af\u6240\u6709\u6587\u4ef6\">\u5faa\u73af\u6240\u6709\u6587\u4ef6<\/h2>\n\n<p>\u9996\u5148\uff0c\u6211\u628a\u6240\u6709\u7684\u4e71\u4e03\u516b\u7cdf\u7684\u56fe\u7247\uff0c\u5168\u90e8\u653e\u5728 <code>.\/image\/<\/code> \u8fd9\u4e2a\u6587\u4ef6\u5939\u4e0b\u9762\u3002 <br>\n\u7136\u540e\u5728\u5916\u5c42\u5199\u4e00\u4e2a<code>i.sh<\/code>\u7684<code>shell<\/code>\u6587\u4ef6\uff0c\u5f55\u5165\u4e0b\u9762\u7684\u5185\u5bb9\u3002<\/p>\n\n<p>\u6211\u7684\u6587\u4ef6\u7ed3\u6784\u6f14\u793a\u5982\u4e0b\uff1a<\/p>\n\n<table>\n<thead>\n<tr>\n  <th>\u6587\u4ef6<\/th>\n<\/tr>\n<\/thead>\n<tbody><tr>\n  <td>image\/xxx.jpg<\/td>\n<\/tr>\n<tr>\n  <td>image\/xxx.jpeg<\/td>\n<\/tr>\n<tr>\n  <td>i.sh<\/td>\n<\/tr>\n<\/tbody><\/table>\n\n\n\n\n<pre class=\"prettyprint\"><code class=\" hljs bash\"><span class=\"hljs-keyword\">for<\/span> f <span class=\"hljs-keyword\">in<\/span> $(find .\/image -iname <span class=\"hljs-string\">\"*.*\"<\/span>); <span class=\"hljs-keyword\">do<\/span>\n  <span class=\"hljs-built_in\">echo<\/span> <span class=\"hljs-variable\">$f<\/span>\n<span class=\"hljs-keyword\">done<\/span><\/code><\/pre>\n\n<p>\u7136\u540e\u6267\u884c <code>sh i.sh<\/code> \u547d\u4ee4\uff0c\u987a\u5229\u5728\u547d\u4ee4\u884c\u91cc\u9762\u8f93\u51fa\u4e86\u6240\u6709\u7684\u56fe\u7247\u6587\u4ef6\u3002<\/p>\n\n\n\n<h2 id=\"\u5b9e\u73b0-i-\u6570\u5b57\u6548\u679c\">\u5b9e\u73b0 i++ \u6570\u5b57\u6548\u679c<\/h2>\n\n<p>\u6211\u60f3\u628a\u56fe\u7247\u5168\u90e8\u547d\u540d\u4e3a <code>1.jpg 2.jpg<\/code> \u8fd9\u6837\u7684\u56fe\u7247\u6587\u4ef6\uff0c\u6240\u4ee5\u5c31\u9700\u8981\u4e00\u4e2a\u7c7b\u4f3c\u4e8e<code>js<\/code>\u7684<code>i++<\/code>\u6548\u679c\u3002<\/p>\n\n<p>\u4e8e\u662f\uff0c\u628a\u4e0a\u9762\u4ee3\u7801\u4fee\u6539\u4e3a<\/p>\n\n\n\n<pre class=\"prettyprint\"><code class=\" hljs bash\"><span class=\"hljs-comment\"># \u641e\u4e00\u4e2ai\u7684\u53d8\u91cf<\/span>\ni=<span class=\"hljs-number\">1<\/span>\n<span class=\"hljs-keyword\">for<\/span> f <span class=\"hljs-keyword\">in<\/span> $(find .\/image -iname <span class=\"hljs-string\">\"*.*\"<\/span>); <span class=\"hljs-keyword\">do<\/span>\n  <span class=\"hljs-comment\">## \u6253\u5370 i<\/span>\n  <span class=\"hljs-built_in\">echo<\/span> <span class=\"hljs-variable\">$i<\/span>\n  <span class=\"hljs-built_in\">echo<\/span> <span class=\"hljs-variable\">$f<\/span>\n  <span class=\"hljs-comment\">## \u8ba1\u7b97i++<\/span>\n  ((i++))\n<span class=\"hljs-keyword\">done<\/span><\/code><\/pre>\n\n<p>OK,\u5df2\u7ecf\u987a\u5229\u7684\u8f93\u51fa\u4e86\u6570\u5b57\u4e86\u3002\u5230\u8fd9\u4e00\u6b65\u5c31\u5f88\u660e\u663e\u7684\u5f97\u5230\u4e86\u6211\u4eec\u60f3\u8981\u7684\uff0c\u4e0b\u9762\u53ea\u8981\u628a\u6587\u4ef6\u7ed9\u590d\u5236\u4e00\u4e0b\u5c31\u597d\u4e86\u3002<\/p>\n\n\n\n<h2 id=\"\u5b9e\u73b0\u91cd\u547d\u540d\u6548\u679c\">\u5b9e\u73b0\u91cd\u547d\u540d\u6548\u679c<\/h2>\n\n\n\n<pre class=\"prettyprint\"><code class=\" hljs bash\"><span class=\"hljs-comment\"># \u641e\u4e00\u4e2ai\u7684\u53d8\u91cf<\/span>\ni=<span class=\"hljs-number\">1<\/span>\nmkdir img\n<span class=\"hljs-keyword\">for<\/span> f <span class=\"hljs-keyword\">in<\/span> $(find .\/image -iname <span class=\"hljs-string\">\"*.*\"<\/span>); <span class=\"hljs-keyword\">do<\/span>\n  cp <span class=\"hljs-variable\">$f<\/span> .\/img\/<span class=\"hljs-variable\">$i<\/span>.jpg\n  <span class=\"hljs-comment\">## \u8ba1\u7b97i++<\/span>\n  ((i++))\n<span class=\"hljs-keyword\">done<\/span><\/code><\/pre>\n\n<p>\u597d\uff0c\u5982\u4e0a\uff0c\u6211\u4eec\u5c31\u5c06\u56fe\u7247\u5168\u90e8\u6839\u636e\u6570\u5b57\u91cd\u547d\u540d\uff0c\u5e76\u4e14\u653e\u5230\u4e86\u4e00\u4e2a\u65b0\u7684<code>img<\/code>\u6587\u4ef6\u5939\u4e2d\u3002\u6211\u4eec\u60f3\u8981\u7684\u6548\u679c\u5c31\u5b9e\u73b0\u4e86\u3002<\/p>\n\n\n\n<h2 id=\"\u7528md5\u503c\u547d\u540d\u56fe\u7247\">\u7528MD5\u503c\u547d\u540d\u56fe\u7247<\/h2>\n\n<p>\u7a81\u7136\u60f3\u5230\uff0c\u6570\u5b57\u8fd9\u4e1c\u897f\u4e0d\u9760\u8c31\uff0c\u4e0b\u6b21\u4e0d\u5c0f\u5fc3\u6267\u884c\u4e86\uff0c\u5f88\u5bb9\u6613\u628a\u56fe\u7247\u7ed9\u641e\u4e71\u6389\uff0c\u8fd8\u662fMD5\u503c\u9760\u8c31\uff0c\u5e76\u4e14\u6ce8\u610f\uff0c\u8fd8\u80fd\u8fc7\u6ee4\u540c\u6837\u7684\u56fe\u7247\u3002<\/p>\n\n<p>\u55ef\uff0c\u7406\u60f3\u5f88\u4e30\u6ee1\uff0c\u6211\u4eec\u6765\u770b\u770b\u3002<\/p>\n\n\n\n<pre class=\"prettyprint\"><code class=\" hljs lasso\">md5 <span class=\"hljs-attribute\">-q<\/span> <span class=\"hljs-variable\">$file<\/span><\/code><\/pre>\n\n<p>\u53ef\u4ee5\u8f93\u51fa\u6587\u4ef6\u7684MD5\u8ba1\u7b97\u503c\u3002\u5c31\u7528\u8fd9\u4e2a\u4e86\u3002\u6539\u9020\u4e0a\u9762\u4ee3\u7801\u5982\u4e0b\uff1a<\/p>\n\n<pre class=\"prettyprint\"><code class=\" hljs ruby\">mkdir img\n<span class=\"hljs-keyword\">for<\/span> f <span class=\"hljs-keyword\">in<\/span> <span class=\"hljs-variable\">$(<\/span>find .\/image -iname <span class=\"hljs-string\">\"*.*\"<\/span>); <span class=\"hljs-keyword\">do<\/span>\n  <span class=\"hljs-comment\"># \u8ba1\u7b97MD5\u503c\uff0c\u5e76\u8d4b\u4e88\u4e00\u4e2a\u53d8\u91cf<\/span>\n  a=<span class=\"hljs-variable\">$(<\/span>md5 -q <span class=\"hljs-variable\">$f<\/span>)\n  <span class=\"hljs-comment\"># \u590d\u5236\u6587\u4ef6<\/span>\n  cp <span class=\"hljs-variable\">$f<\/span> .\/img\/<span class=\"hljs-variable\">$a<\/span>.jpg\ndone<\/code><\/pre>\n\n<p>\u6211\u662f\u60f3\u62ff\u8fd9\u4e00\u5806\u6587\u4ef6\u91cd\u590d\u5b9e\u73b0\uff0c\u6240\u4ee5\u7528\u590d\u5236\uff0c\u5982\u679c\u4e0d\u9700\u8981\u8fd9\u6837\u8003\u8651\uff0c\u5b8c\u5168\u53ef\u4ee5\u4f7f\u7528<code>mv<\/code>\u91cd\u547d\u540d\uff0c\u4ee3\u7801\u5982\u4e0b\uff1a<\/p>\n\n\n\n<pre class=\"prettyprint\"><code class=\" hljs ruby\">mkdir img\n<span class=\"hljs-keyword\">for<\/span> f <span class=\"hljs-keyword\">in<\/span> <span class=\"hljs-variable\">$(<\/span>find .\/image -iname <span class=\"hljs-string\">\"*.*\"<\/span>); <span class=\"hljs-keyword\">do<\/span>\n  <span class=\"hljs-comment\"># \u8ba1\u7b97MD5\u503c\uff0c\u5e76\u8d4b\u4e88\u4e00\u4e2a\u53d8\u91cf<\/span>\n  a=<span class=\"hljs-variable\">$(<\/span>md5 -q <span class=\"hljs-variable\">$f<\/span>)\n  <span class=\"hljs-comment\"># \u590d\u5236\u6587\u4ef6<\/span>\n  mv <span class=\"hljs-variable\">$f<\/span> .\/image\/<span class=\"hljs-variable\">$a<\/span>.jpg\ndone<\/code><\/pre>\n\n<p>\u4ee5\u4e0a\u6240\u6709\u547d\u4ee4\u5747\u57fa\u4e8eMAC\u7cfb\u7edf\u8fd0\u884c\u3002\u5982\u679c\u662fLinux \u53ef\u80fd\u6709\u7ec6\u5fae\u5dee\u5f02\u3002<\/p>\n\n<p>\u7248\u6743\u7533\u660e\uff1a\u672c\u6587\u4e3aFungLeo\u539f\u521b\uff0c\u5141\u8bb8\u8f6c\u8f7d\uff0c\u4f46\u8f6c\u8f7d\u5fc5\u987b\u9644\u52a0\u672c\u6587\u9996\u53d1\u94fe\u63a5\u3002<\/p>","markdowncontent":"# Shell \u547d\u4ee4\u884c\u6279\u91cf\u5904\u7406\u56fe\u7247\u6587\u4ef6\u540d\n\n\u4ece\u7f51\u4e0a\u4e0b\u8f7d\u4e86\u4e00\u5806\u56fe\u7247\uff0c\u6709\u7684\u662f`*.jpg`\u7684\uff0c\u6709\u7684\u662f`*.jpeg`\u7684\u3002\u5e76\u4e14\u6587\u4ef6\u540d\u6709\u957f\u6709\u77ed\uff0c\u5f88\u662f\u7cdf\u5fc3\u3002\u56e0\u6b64\uff0c\u6211\u60f3\u628a\u8fd9\u4e9b\u6587\u4ef6\u7ed9\u5168\u90e8\u6574\u7406\u597d\uff0c\u5f53\u7136\u662f\u7528`shell`\u6765\u5904\u7406\u5566\uff01\n\n\u8bf4\u5e72\u5c31\u5e72\u3002\n\n## \u5faa\u73af\u6240\u6709\u6587\u4ef6\n\n\u9996\u5148\uff0c\u6211\u628a\u6240\u6709\u7684\u4e71\u4e03\u516b\u7cdf\u7684\u56fe\u7247\uff0c\u5168\u90e8\u653e\u5728 `.\/image\/` \u8fd9\u4e2a\u6587\u4ef6\u5939\u4e0b\u9762\u3002\n\u7136\u540e\u5728\u5916\u5c42\u5199\u4e00\u4e2a`i.sh`\u7684`shell`\u6587\u4ef6\uff0c\u5f55\u5165\u4e0b\u9762\u7684\u5185\u5bb9\u3002\n\n\u6211\u7684\u6587\u4ef6\u7ed3\u6784\u6f14\u793a\u5982\u4e0b\uff1a\n\n|\u6587\u4ef6|\n|---|\n|image\/xxx.jpg|\n|image\/xxx.jpeg|\n|i.sh|\n\n```\nfor f in $(find .\/image -iname \"*.*\"); do\n  echo $f\ndone\n```\n\u7136\u540e\u6267\u884c `sh i.sh` \u547d\u4ee4\uff0c\u987a\u5229\u5728\u547d\u4ee4\u884c\u91cc\u9762\u8f93\u51fa\u4e86\u6240\u6709\u7684\u56fe\u7247\u6587\u4ef6\u3002\n\n## \u5b9e\u73b0 i++ \u6570\u5b57\u6548\u679c\n\n\u6211\u60f3\u628a\u56fe\u7247\u5168\u90e8\u547d\u540d\u4e3a `1.jpg 2.jpg` \u8fd9\u6837\u7684\u56fe\u7247\u6587\u4ef6\uff0c\u6240\u4ee5\u5c31\u9700\u8981\u4e00\u4e2a\u7c7b\u4f3c\u4e8e`js`\u7684`i++`\u6548\u679c\u3002\n\n\u4e8e\u662f\uff0c\u628a\u4e0a\u9762\u4ee3\u7801\u4fee\u6539\u4e3a\n\n```\n# \u641e\u4e00\u4e2ai\u7684\u53d8\u91cf\ni=1\nfor f in $(find .\/image -iname \"*.*\"); do\n  ## \u6253\u5370 i\n  echo $i\n  echo $f\n  ## \u8ba1\u7b97i++\n  ((i++))\ndone\n```\nOK,\u5df2\u7ecf\u987a\u5229\u7684\u8f93\u51fa\u4e86\u6570\u5b57\u4e86\u3002\u5230\u8fd9\u4e00\u6b65\u5c31\u5f88\u660e\u663e\u7684\u5f97\u5230\u4e86\u6211\u4eec\u60f3\u8981\u7684\uff0c\u4e0b\u9762\u53ea\u8981\u628a\u6587\u4ef6\u7ed9\u590d\u5236\u4e00\u4e0b\u5c31\u597d\u4e86\u3002\n\n## \u5b9e\u73b0\u91cd\u547d\u540d\u6548\u679c\n\n```\n# \u641e\u4e00\u4e2ai\u7684\u53d8\u91cf\ni=1\nmkdir img\nfor f in $(find .\/image -iname \"*.*\"); do\n  cp $f .\/img\/$i.jpg\n  ## \u8ba1\u7b97i++\n  ((i++))\ndone\n```\n\n\u597d\uff0c\u5982\u4e0a\uff0c\u6211\u4eec\u5c31\u5c06\u56fe\u7247\u5168\u90e8\u6839\u636e\u6570\u5b57\u91cd\u547d\u540d\uff0c\u5e76\u4e14\u653e\u5230\u4e86\u4e00\u4e2a\u65b0\u7684`img`\u6587\u4ef6\u5939\u4e2d\u3002\u6211\u4eec\u60f3\u8981\u7684\u6548\u679c\u5c31\u5b9e\u73b0\u4e86\u3002\n\n## \u7528MD5\u503c\u547d\u540d\u56fe\u7247\n\n\u7a81\u7136\u60f3\u5230\uff0c\u6570\u5b57\u8fd9\u4e1c\u897f\u4e0d\u9760\u8c31\uff0c\u4e0b\u6b21\u4e0d\u5c0f\u5fc3\u6267\u884c\u4e86\uff0c\u5f88\u5bb9\u6613\u628a\u56fe\u7247\u7ed9\u641e\u4e71\u6389\uff0c\u8fd8\u662fMD5\u503c\u9760\u8c31\uff0c\u5e76\u4e14\u6ce8\u610f\uff0c\u8fd8\u80fd\u8fc7\u6ee4\u540c\u6837\u7684\u56fe\u7247\u3002\n\n\u55ef\uff0c\u7406\u60f3\u5f88\u4e30\u6ee1\uff0c\u6211\u4eec\u6765\u770b\u770b\u3002\n\n```\nmd5 -q $file\n```\n\u53ef\u4ee5\u8f93\u51fa\u6587\u4ef6\u7684MD5\u8ba1\u7b97\u503c\u3002\u5c31\u7528\u8fd9\u4e2a\u4e86\u3002\u6539\u9020\u4e0a\u9762\u4ee3\u7801\u5982\u4e0b\uff1a\n\n```\nmkdir img\nfor f in $(find .\/image -iname \"*.*\"); do\n  # \u8ba1\u7b97MD5\u503c\uff0c\u5e76\u8d4b\u4e88\u4e00\u4e2a\u53d8\u91cf\n  a=$(md5 -q $f)\n  # \u590d\u5236\u6587\u4ef6\n  cp $f .\/img\/$a.jpg\ndone\n```\n\n\u6211\u662f\u60f3\u62ff\u8fd9\u4e00\u5806\u6587\u4ef6\u91cd\u590d\u5b9e\u73b0\uff0c\u6240\u4ee5\u7528\u590d\u5236\uff0c\u5982\u679c\u4e0d\u9700\u8981\u8fd9\u6837\u8003\u8651\uff0c\u5b8c\u5168\u53ef\u4ee5\u4f7f\u7528`mv`\u91cd\u547d\u540d\uff0c\u4ee3\u7801\u5982\u4e0b\uff1a\n\n```\nmkdir img\nfor f in $(find .\/image -iname \"*.*\"); do\n  # \u8ba1\u7b97MD5\u503c\uff0c\u5e76\u8d4b\u4e88\u4e00\u4e2a\u53d8\u91cf\n  a=$(md5 -q $f)\n  # \u590d\u5236\u6587\u4ef6\n  mv $f .\/image\/$a.jpg\ndone\n```\n\n\u4ee5\u4e0a\u6240\u6709\u547d\u4ee4\u5747\u57fa\u4e8eMAC\u7cfb\u7edf\u8fd0\u884c\u3002\u5982\u679c\u662fLinux \u53ef\u80fd\u6709\u7ec6\u5fae\u5dee\u5f02\u3002\n\n\u7248\u6743\u7533\u660e\uff1a\u672c\u6587\u4e3aFungLeo\u539f\u521b\uff0c\u5141\u8bb8\u8f6c\u8f7d\uff0c\u4f46\u8f6c\u8f7d\u5fc5\u987b\u9644\u52a0\u672c\u6587\u9996\u53d1\u94fe\u63a5\u3002\n\n\n","private":0,"tags":"shell,\u6279\u91cf\u5904\u7406\u6587\u4ef6\u540d,md5\u547d\u4ee4","categories":"Linux\\CentOS","channel":"14","type":"original","status":1},"error":"","status":true}