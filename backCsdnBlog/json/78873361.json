{"data":{"id":"78873361","title":"Python3 \u521d\u5b66\u5b9e\u8df5\u6848\u4f8b\uff0810\uff09\u5bf9\u8c61\u8f6c\u5b57\u5178 object to dict","articleedittype":1,"description":"Python3 \u521d\u5b66\u5b9e\u8df5\u6848\u4f8b\uff0810\uff09\u5bf9\u8c61\u8f6c\u5b57\u5178 object to dict\u6211\u5728\u5199\u4ee3\u7801\u7684\u65f6\u5019\u9047\u5230\u4e00\u4e2a\u95ee\u9898\uff0c\u5c31\u662f sqlalchemy \u4ece\u6570\u636e\u5e93\u4e2d\u67e5\u7684\u7684\u7ed3\u679c\u662f\u4e00\u4e2a\u5bf9\u8c61\uff0c\u6211\u867d\u7136\u53ef\u4ee5\u76f4\u63a5\u628a\u8fd9\u4e2a\u5bf9\u8c61\u7528 x.id \u7684\u65b9\u5f0f\u53d6\u51fa\u6765\u5185\u5bb9\uff0c\u4f46\u662f\u603b\u662f\u611f\u89c9\u4e0d\u723d\uff0c\u6211\u5e0c\u671b\u53ef\u4ee5\u66f4\u597d\u7684\u5904\u7406\u8fd9\u4e2a\u5bf9\u8c61\u3002\u4f46\u662f\u6253\u5370\u51fa\u6765\u7684\u7ed3\u679c\u4e00\u76f4\u662f <__main__.Passwd object at 0x10ea50cc0> \u8fd9\u6837\u7684\u4e1c\u897f\u3002\u901a\u8fc7\u67e5\u770b\u6587\u6863\uff0c","content":"<h1 id=\"python3-\u521d\u5b66\u5b9e\u8df5\u6848\u4f8b10\u5bf9\u8c61\u8f6c\u5b57\u5178-object-to-dict\">Python3 \u521d\u5b66\u5b9e\u8df5\u6848\u4f8b\uff0810\uff09\u5bf9\u8c61\u8f6c\u5b57\u5178 object to dict<\/h1>\n\n<p>\u6211\u5728\u5199\u4ee3\u7801\u7684\u65f6\u5019\u9047\u5230\u4e00\u4e2a\u95ee\u9898\uff0c\u5c31\u662f <code>sqlalchemy<\/code> \u4ece\u6570\u636e\u5e93\u4e2d\u67e5\u7684\u7684\u7ed3\u679c\u662f\u4e00\u4e2a\u5bf9\u8c61\uff0c\u6211\u867d\u7136\u53ef\u4ee5\u76f4\u63a5\u628a\u8fd9\u4e2a\u5bf9\u8c61\u7528 <code>x.id<\/code> \u7684\u65b9\u5f0f\u53d6\u51fa\u6765\u5185\u5bb9\uff0c\u4f46\u662f\u603b\u662f\u611f\u89c9\u4e0d\u723d\uff0c\u6211\u5e0c\u671b\u53ef\u4ee5\u66f4\u597d\u7684\u5904\u7406\u8fd9\u4e2a\u5bf9\u8c61\u3002\u4f46\u662f\u6253\u5370\u51fa\u6765\u7684\u7ed3\u679c\u4e00\u76f4\u662f <code>&lt;__main__.Passwd object at 0x10ea50cc0&gt;<\/code> \u8fd9\u6837\u7684\u4e1c\u897f\u3002<\/p>\n\n<p>\u901a\u8fc7\u67e5\u770b\u6587\u6863\uff0c\u6211\u627e\u5230\u4e86\u4e00\u4e2a\u51fd\u6570 <code>vars(obj)<\/code> \u3002\u8fd9\u4e2a\u51fd\u6570\u53ef\u4ee5\u628a\u5bf9\u8c61\u8f6c\u6362\u6210\u5b57\u5178\u3002\u6587\u6863\u5730\u5740\uff1a<a href=\"https:\/\/docs.python.org\/3\/library\/functions.html?highlight=vars#vars\">https:\/\/docs.python.org\/3\/library\/functions.html?highlight=vars#vars<\/a><\/p>\n\n<p>\u4f46\u662f\u8f93\u51fa\u7684\u7ed3\u679c\u662f\u8fd9\u6837\u7684\uff1a<\/p>\n\n\n\n<pre class=\"prettyprint\"><code class=\"language-python hljs \">{<span class=\"hljs-string\">'_sa_instance_state'<\/span>: &lt;sqlalchemy.orm.state.InstanceState object at <span class=\"hljs-number\">0x10e773cf8<\/span>&gt;, <span class=\"hljs-string\">'name'<\/span>: <span class=\"hljs-string\">'sunmingyuan'<\/span>, <span class=\"hljs-string\">'id'<\/span>: <span class=\"hljs-number\">2<\/span>, <span class=\"hljs-string\">'password'<\/span>: <span class=\"hljs-string\">'\/t22664Q44'<\/span>, <span class=\"hljs-string\">'time'<\/span>: datetime.datetime(<span class=\"hljs-number\">2017<\/span>, <span class=\"hljs-number\">12<\/span>, <span class=\"hljs-number\">20<\/span>, <span class=\"hljs-number\">5<\/span>, <span class=\"hljs-number\">11<\/span>, <span class=\"hljs-number\">22<\/span>)}<\/code><\/pre>\n\n<p>\u867d\u7136\u8fd9\u4e2a\u7ed3\u679c\u5df2\u7ecf\u53ef\u4ee5\u8ba9\u6211\u4f7f\u7528\u4e86\uff0c\u4f46\u662f\u611f\u89c9\u8fd8\u662f\u602a\u602a\u7684\u5bf9\u4e48\u3002\u6240\u4ee5\uff0c\u6211\u63a5\u7740\u641c\u7d22\uff0c\u7ec8\u4e8e\u627e\u5230\u4e86\u4e00\u4e2a\u624b\u5199\u7684\u51fd\u6570\uff0c\u53ef\u4ee5\u5f88\u597d\u7684\u5904\u7406\u8fd9\u4e2a\u95ee\u9898\uff1a<\/p>\n\n\n\n<pre class=\"prettyprint\"><code class=\"language-python hljs \"><span class=\"hljs-function\"><span class=\"hljs-keyword\">def<\/span> <span class=\"hljs-title\">row2dict<\/span><span class=\"hljs-params\">(row)<\/span>:<\/span>\n    d = {}\n    <span class=\"hljs-keyword\">for<\/span> column <span class=\"hljs-keyword\">in<\/span> row.__table__.columns:\n        d[column.name] = str(getattr(row, column.name))\n\n    <span class=\"hljs-keyword\">return<\/span> d<\/code><\/pre>\n\n<p>\u7528\u8fd9\u4e2a\u51fd\u6570\u5904\u7406\u7684\u7ed3\u679c\u5c31\u975e\u5e38\u4f18\u96c5\u4e86\u3002<\/p>\n\n\n\n<pre class=\"prettyprint\"><code class=\"language-python hljs \">{<span class=\"hljs-string\">'id'<\/span>: <span class=\"hljs-string\">'17'<\/span>, <span class=\"hljs-string\">'name'<\/span>: <span class=\"hljs-string\">'love'<\/span>, <span class=\"hljs-string\">'password'<\/span>: <span class=\"hljs-string\">'xxxxx'<\/span>, <span class=\"hljs-string\">'time'<\/span>: <span class=\"hljs-string\">'2017-12-22 05:08:27'<\/span>}<\/code><\/pre>\n\n<p>\u53c2\u8003\u5730\u5740\uff1a<a href=\"https:\/\/stackoverflow.com\/questions\/1958219\/convert-sqlalchemy-row-object-to-python-dict\">https:\/\/stackoverflow.com\/questions\/1958219\/convert-sqlalchemy-row-object-to-python-dict<\/a><\/p>\n\n<p>\u672c\u6587\u7531 FungLeo \u539f\u521b\uff0c\u5141\u8bb8\u8f6c\u8f7d\uff0c\u4f46\u8f6c\u8f7d\u5fc5\u987b\u4fdd\u7559\u9996\u53d1\u94fe\u63a5\u3002<\/p>","markdowncontent":"# Python3 \u521d\u5b66\u5b9e\u8df5\u6848\u4f8b\uff0810\uff09\u5bf9\u8c61\u8f6c\u5b57\u5178 object to dict\n\n\u6211\u5728\u5199\u4ee3\u7801\u7684\u65f6\u5019\u9047\u5230\u4e00\u4e2a\u95ee\u9898\uff0c\u5c31\u662f `sqlalchemy` \u4ece\u6570\u636e\u5e93\u4e2d\u67e5\u7684\u7684\u7ed3\u679c\u662f\u4e00\u4e2a\u5bf9\u8c61\uff0c\u6211\u867d\u7136\u53ef\u4ee5\u76f4\u63a5\u628a\u8fd9\u4e2a\u5bf9\u8c61\u7528 `x.id` \u7684\u65b9\u5f0f\u53d6\u51fa\u6765\u5185\u5bb9\uff0c\u4f46\u662f\u603b\u662f\u611f\u89c9\u4e0d\u723d\uff0c\u6211\u5e0c\u671b\u53ef\u4ee5\u66f4\u597d\u7684\u5904\u7406\u8fd9\u4e2a\u5bf9\u8c61\u3002\u4f46\u662f\u6253\u5370\u51fa\u6765\u7684\u7ed3\u679c\u4e00\u76f4\u662f `<__main__.Passwd object at 0x10ea50cc0>` \u8fd9\u6837\u7684\u4e1c\u897f\u3002\n\n\u901a\u8fc7\u67e5\u770b\u6587\u6863\uff0c\u6211\u627e\u5230\u4e86\u4e00\u4e2a\u51fd\u6570 `vars(obj)` \u3002\u8fd9\u4e2a\u51fd\u6570\u53ef\u4ee5\u628a\u5bf9\u8c61\u8f6c\u6362\u6210\u5b57\u5178\u3002\u6587\u6863\u5730\u5740\uff1ahttps:\/\/docs.python.org\/3\/library\/functions.html?highlight=vars#vars\n\n\u4f46\u662f\u8f93\u51fa\u7684\u7ed3\u679c\u662f\u8fd9\u6837\u7684\uff1a\n\n```python\n{'_sa_instance_state': <sqlalchemy.orm.state.InstanceState object at 0x10e773cf8>, 'name': 'sunmingyuan', 'id': 2, 'password': '\/t22664Q44', 'time': datetime.datetime(2017, 12, 20, 5, 11, 22)}\n```\n\n\u867d\u7136\u8fd9\u4e2a\u7ed3\u679c\u5df2\u7ecf\u53ef\u4ee5\u8ba9\u6211\u4f7f\u7528\u4e86\uff0c\u4f46\u662f\u611f\u89c9\u8fd8\u662f\u602a\u602a\u7684\u5bf9\u4e48\u3002\u6240\u4ee5\uff0c\u6211\u63a5\u7740\u641c\u7d22\uff0c\u7ec8\u4e8e\u627e\u5230\u4e86\u4e00\u4e2a\u624b\u5199\u7684\u51fd\u6570\uff0c\u53ef\u4ee5\u5f88\u597d\u7684\u5904\u7406\u8fd9\u4e2a\u95ee\u9898\uff1a\n\n```python\ndef row2dict(row):\n    d = {}\n    for column in row.__table__.columns:\n        d[column.name] = str(getattr(row, column.name))\n\n    return d\n```\n\n\u7528\u8fd9\u4e2a\u51fd\u6570\u5904\u7406\u7684\u7ed3\u679c\u5c31\u975e\u5e38\u4f18\u96c5\u4e86\u3002\n\n```python\n{'id': '17', 'name': 'love', 'password': 'xxxxx', 'time': '2017-12-22 05:08:27'}\n```\n\n\u53c2\u8003\u5730\u5740\uff1ahttps:\/\/stackoverflow.com\/questions\/1958219\/convert-sqlalchemy-row-object-to-python-dict\n\n\u672c\u6587\u7531 FungLeo \u539f\u521b\uff0c\u5141\u8bb8\u8f6c\u8f7d\uff0c\u4f46\u8f6c\u8f7d\u5fc5\u987b\u4fdd\u7559\u9996\u53d1\u94fe\u63a5\u3002\n\n","private":0,"tags":"python,\u5bf9\u8c61,\u5b57\u5178,dict,object","categories":"python3","channel":"16","type":"original","status":1},"error":"","status":true}